!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}([function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e||window;t.spongecell=t.spongecell||{};var n=t.spongecell;i.default=n}).call(this,t(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=["extended","included"],s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"extend",value:function(n){var e,i=this;return Object.keys(n).forEach(function(e){var t=n[e];-1!==a.indexOf(e)||i[e]||(i[e]=t)}),null===(e=n.extended)||void 0===e||e.apply(this),this}},{key:"include",value:function(n){var e,i=this;return Object.keys(n).forEach(function(e){var t=n[e];-1!==a.indexOf(e)||i.prototype[e]||(i.prototype[e]=t)}),null===(e=n.included)||void 0===e||e.apply(this),this}}]),e}();r.default.Module=s},function(e,t,n){"use strict";var i,f=(i=n(0))&&i.__esModule?i:{default:i};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.iid=e,this.options=t,this.impTag=n,this._init()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"_init",value:function(){}},{key:"start",value:function(){}},{key:"send",value:function(e){f.default.Console.log("BaseChannel received %o",e)}},{key:"findClickTags",value:function(n){var i={};return Object.keys(n||{}).forEach(function(e){var t=n[e];0===e.indexOf("clickTag")&&(f.default.Net.isHttp(t)||f.default.Net.isHttpEncoded(t)?f.default.Net.isHttpEncoded(t)&&(t=decodeURIComponent(t)):t="",i[e]=t)}),i}},{key:"mergeClickTagsAndLandingPages",value:function(o,a,e){var s,l=this,t=2<arguments.length&&void 0!==e&&e,u={},c=o.clickTag;return Object.keys(a||{}).forEach(function(e){var t,n;s=a[e]||"";var i=o["clickTag".concat(e)]||c||"";s=l.appendLandingPageParams(s);var r=i&&(null===(t=s)||void 0===t?void 0:null===(n=t.indexOf)||void 0===n?void 0:n.call(t,i))<0?i+s:s;r=f.default.Macros.get().replace(r),Object.keys(l.impTag.params||{}).forEach(function(e){var t=l.impTag.params[e];r=r.replace("%".concat(e,"%"),t)}),u[e]=r}),t||Object.keys(o||{}).forEach(function(e){s=o[e];var t=e.replace("clickTag","");null==u[t]&&(u[t]=s)}),u}},{key:"appendLandingPageParams",value:function(e){var t=this.impTag.landingPageParams||"";return e&&e.substr(-t.length)!==t&&(e=f.default.Net.appendQueryParamsToUrl(e,t)),e}},{key:"_sortItemsByMetadata",value:function(t){if(t){var e=t.metadata||{},n=t.items||[];if(0!==Object.keys(e).length){var i={};Object.keys(t.metadata||{}).forEach(function(e){var n=t.metadata[e];Object.keys(n||{}).forEach(function(e){var t=n[e];parseInt(e,10)===+e&&(i[e]=parseInt(t,10))})}),n.sort(function(e,t){return e=i[e.id]||0,(t=i[t.id]||0)<e?-1:e<t?1:0}),t.items=n}}}}]),i}();f.default.BaseChannel=o},function(e,N,W){(function(q,U){var H;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var ia,ra="Expected a function",oa="__lodash_hash_undefined__",aa="__lodash_placeholder__",sa=128,la=9007199254740991,ua=NaN,ca=4294967295,fa=[["ary",sa],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],da="[object Arguments]",ha="[object Array]",pa="[object Boolean]",va="[object Date]",ma="[object Error]",ga="[object Function]",ya="[object GeneratorFunction]",ba="[object Map]",wa="[object Number]",_a="[object Object]",ka="[object Promise]",xa="[object RegExp]",Sa="[object Set]",Ea="[object String]",Oa="[object Symbol]",Ca="[object WeakMap]",Ta="[object ArrayBuffer]",Pa="[object DataView]",Ia="[object Float32Array]",ja="[object Float64Array]",Aa="[object Int8Array]",Ma="[object Int16Array]",Ra="[object Int32Array]",Da="[object Uint8Array]",La="[object Uint8ClampedArray]",Fa="[object Uint16Array]",$a="[object Uint32Array]",za=/\b__p \+= '';/g,Ba=/\b(__p \+=) '' \+/g,qa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ua=/&(?:amp|lt|gt|quot|#39);/g,Ha=/[&<>"']/g,Na=RegExp(Ua.source),Wa=RegExp(Ha.source),Va=/<%-([\s\S]+?)%>/g,Za=/<%([\s\S]+?)%>/g,Ka=/<%=([\s\S]+?)%>/g,Ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ga=/^\w*$/,Xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ja=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(Ja.source),es=/^\s+|\s+$/g,ts=/^\s+/,ns=/\s+$/,is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rs=/\{\n\/\* \[wrapped with (.+)\] \*/,os=/,? & /,as=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ss=/\\(\\)?/g,ls=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,us=/\w*$/,cs=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,hs=/^0o[0-7]+$/i,ps=/^(?:0|[1-9]\d*)$/,vs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ms=/($^)/,gs=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="['’]",l="["+e+"]",u="["+a+"]",c="["+t+"]",f="\\d+",d="["+n+"]",h="["+i+"]",p="[^"+e+a+f+n+i+r+"]",v="\\ud83c[\\udffb-\\udfff]",m="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+r+"]",w="\\u200d",_="(?:"+h+"|"+p+")",k="(?:"+b+"|"+p+")",x="(?:['’](?:d|ll|m|re|s|t|ve))?",S="(?:['’](?:D|LL|M|RE|S|T|VE))?",E="(?:"+c+"|"+v+")"+"?",O="["+o+"]?",C=O+E+("(?:"+w+"(?:"+[m,g,y].join("|")+")"+O+E+")*"),T="(?:"+[d,g,y].join("|")+")"+C,P="(?:"+[m+c+"?",c,g,y,l].join("|")+")",ys=RegExp(s,"g"),bs=RegExp(c,"g"),I=RegExp(v+"(?="+v+")|"+P+C,"g"),ws=RegExp([b+"?"+h+"+"+x+"(?="+[u,b,"$"].join("|")+")",k+"+"+S+"(?="+[u,b+_,"$"].join("|")+")",b+"?"+_+"+"+x,b+"+"+S,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f,T].join("|"),"g"),j=RegExp("["+w+e+t+o+"]"),_s=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ks=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xs=-1,Ss={};Ss[Ia]=Ss[ja]=Ss[Aa]=Ss[Ma]=Ss[Ra]=Ss[Da]=Ss[La]=Ss[Fa]=Ss[$a]=!0,Ss[da]=Ss[ha]=Ss[Ta]=Ss[pa]=Ss[Pa]=Ss[va]=Ss[ma]=Ss[ga]=Ss[ba]=Ss[wa]=Ss[_a]=Ss[xa]=Ss[Sa]=Ss[Ea]=Ss[Ca]=!1;var Es={};Es[da]=Es[ha]=Es[Ta]=Es[Pa]=Es[pa]=Es[va]=Es[Ia]=Es[ja]=Es[Aa]=Es[Ma]=Es[Ra]=Es[ba]=Es[wa]=Es[_a]=Es[xa]=Es[Sa]=Es[Ea]=Es[Oa]=Es[Da]=Es[La]=Es[Fa]=Es[$a]=!0,Es[ma]=Es[ga]=Es[Ca]=!1;var A={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Os=parseFloat,Cs=parseInt,M="object"==typeof q&&q&&q.Object===Object&&q,R="object"==typeof self&&self&&self.Object===Object&&self,Ts=M||R||Function("return this")(),D=N&&!N.nodeType&&N,L=D&&"object"==typeof U&&U&&!U.nodeType&&U,Ps=L&&L.exports===D,F=Ps&&M.process,$=function(){try{var e=L&&L.require&&L.require("util").types;return e||F&&F.binding&&F.binding("util")}catch(e){}}(),Is=$&&$.isArrayBuffer,js=$&&$.isDate,As=$&&$.isMap,Ms=$&&$.isRegExp,Rs=$&&$.isSet,Ds=$&&$.isTypedArray;function Ls(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Fs(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function $s(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function zs(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Bs(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function qs(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function Us(e,t){return!!(null==e?0:e.length)&&-1<Xs(e,t,0)}function Hs(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Ns(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Ws(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Vs(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Zs(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Ks(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var z=tl("length");function Ys(e,i,t){var r;return t(e,function(e,t,n){if(i(e,t,n))return r=t,!1}),r}function Gs(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Xs(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Gs(e,Qs,n)}function Js(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Qs(e){return e!=e}function el(e,t){var n=null==e?0:e.length;return n?il(e,t)/n:ua}function tl(t){return function(e){return null==e?ia:e[t]}}function B(t){return function(e){return null==t?ia:t[e]}}function nl(e,i,r,o,t){return t(e,function(e,t,n){r=o?(o=!1,e):i(r,e,t,n)}),r}function il(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==ia&&(n=n===ia?o:n+o)}return n}function rl(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function ol(t){return function(e){return t(e)}}function al(t,e){return Ns(e,function(e){return t[e]})}function sl(e,t){return e.has(t)}function ll(e,t){for(var n=-1,i=e.length;++n<i&&-1<Xs(t,e[n],0););return n}function ul(e,t){for(var n=e.length;n--&&-1<Xs(t,e[n],0););return n}var cl=B({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),fl=B({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dl(e){return"\\"+A[e]}function hl(e){return j.test(e)}function pl(e){var n=-1,i=Array(e.size);return e.forEach(function(e,t){i[++n]=[t,e]}),i}function vl(t,n){return function(e){return t(n(e))}}function ml(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==aa||(e[n]=aa,o[r++]=n)}return o}function gl(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function yl(e){return hl(e)?function(e){var t=I.lastIndex=0;for(;I.test(e);)++t;return t}(e):z(e)}function bl(e){return hl(e)?function(e){return e.match(I)||[]}(e):function(e){return e.split("")}(e)}var wl=B({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _l=function e(t){var n,E=(t=null==t?Ts:_l.defaults(Ts.Object(),t,_l.pick(Ts,ks))).Array,i=t.Date,r=t.Error,m=t.Function,o=t.Math,v=t.Object,g=t.RegExp,c=t.String,y=t.TypeError,a=E.prototype,s=m.prototype,f=v.prototype,l=t["__core-js_shared__"],u=s.toString,w=f.hasOwnProperty,d=0,h=(n=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=f.toString,b=u.call(v),_=Ts._,k=g("^"+u.call(w).replace(Ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=Ps?t.Buffer:ia,S=t.Symbol,O=t.Uint8Array,C=x?x.allocUnsafe:ia,T=vl(v.getPrototypeOf,v),P=v.create,I=f.propertyIsEnumerable,j=a.splice,A=S?S.isConcatSpreadable:ia,M=S?S.iterator:ia,R=S?S.toStringTag:ia,D=function(){try{var e=qn(v,"defineProperty");return e({},"",{}),e}catch(e){}}(),L=t.clearTimeout!==Ts.clearTimeout&&t.clearTimeout,F=i&&i.now!==Ts.Date.now&&i.now,$=t.setTimeout!==Ts.setTimeout&&t.setTimeout,z=o.ceil,B=o.floor,q=v.getOwnPropertySymbols,U=x?x.isBuffer:ia,H=t.isFinite,N=a.join,W=vl(v.keys,v),V=o.max,Z=o.min,K=i.now,Y=t.parseInt,G=o.random,X=a.reverse,J=qn(t,"DataView"),Q=qn(t,"Map"),ee=qn(t,"Promise"),te=qn(t,"Set"),ne=qn(t,"WeakMap"),ie=qn(v,"create"),re=ne&&new ne,oe={},ae=vi(J),se=vi(Q),le=vi(ee),ue=vi(te),ce=vi(ne),fe=S?S.prototype:ia,de=fe?fe.valueOf:ia,he=fe?fe.toString:ia;function pe(e){if(Ar(e)&&!_r(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(w.call(e,"__wrapped__"))return mi(e)}return new ye(e)}var ve=function(e){if(!jr(e))return{};if(P)return P(e);me.prototype=e;var t=new me;return me.prototype=ia,t};function me(){}function ge(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ia}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ca,this.__views__=[]}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ke;++t<n;)this.add(e[t])}function Se(e){var t=this.__data__=new _e(e);this.size=t.size}function Ee(e,t){var n=_r(e),i=!n&&wr(e),r=!n&&!i&&Er(e),o=!n&&!i&&!r&&Br(e),a=n||i||r||o,s=a?rl(e.length,c):[],l=s.length;for(var u in e)!t&&!w.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Kn(u,l))||s.push(u);return s}function Oe(e){var t=e.length;return t?e[xt(0,t-1)]:ia}function Ce(e,t){return ci(on(e),Le(t,0,e.length))}function Te(e){return ci(on(e))}function Pe(e,t,n){(n===ia||gr(e[t],n))&&(n!==ia||t in e)||Re(e,t,n)}function Ie(e,t,n){var i=e[t];w.call(e,t)&&gr(i,n)&&(n!==ia||t in e)||Re(e,t,n)}function je(e,t){for(var n=e.length;n--;)if(gr(e[n][0],t))return n;return-1}function Ae(e,i,r,o){return qe(e,function(e,t,n){i(o,e,r(e),n)}),o}function Me(e,t){return e&&an(t,lo(t),e)}function Re(e,t,n){"__proto__"==t&&D?D(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function De(e,t){for(var n=-1,i=t.length,r=E(i),o=null==e;++n<i;)r[n]=o?ia:io(e,t[n]);return r}function Le(e,t,n){return e==e&&(n!==ia&&(e=e<=n?e:n),t!==ia&&(e=t<=e?e:t)),e}function Fe(n,i,r,e,t,o){var a,s=1&i,l=2&i,u=4&i;if(r&&(a=t?r(n,e,t,o):r(n)),a!==ia)return a;if(!jr(n))return n;var c=_r(n);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&w.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return on(n,a)}else{var f=Nn(n),d=f==ga||f==ya;if(Er(n))return Jt(n,s);if(f==_a||f==da||d&&!t){if(a=l||d?{}:Vn(n),!s)return l?function(e,t){return an(e,Hn(e),t)}(n,function(e,t){return e&&an(t,uo(t),e)}(a,n)):function(e,t){return an(e,Un(e),t)}(n,Me(a,n))}else{if(!Es[f])return t?n:{};a=function(e,t,n){var i=e.constructor;switch(t){case Ta:return Qt(e);case pa:case va:return new i(+e);case Pa:return function(e,t){var n=t?Qt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Ia:case ja:case Aa:case Ma:case Ra:case Da:case La:case Fa:case $a:return en(e,n);case ba:return new i;case wa:case Ea:return new i(e);case xa:return function(e){var t=new e.constructor(e.source,us.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Sa:return new i;case Oa:return function(e){return de?v(de.call(e)):{}}(e)}}(n,f,s)}}var h=(o=o||new Se).get(n);if(h)return h;if(o.set(n,a),Fr(n))return n.forEach(function(e){a.add(Fe(e,i,r,e,n,o))}),a;if(Mr(n))return n.forEach(function(e,t){a.set(t,Fe(e,i,r,t,n,o))}),a;var p=c?ia:(u?l?Rn:Mn:l?uo:lo)(n);return $s(p||n,function(e,t){p&&(e=n[t=e]),Ie(a,t,Fe(e,i,r,t,n,o))}),a}function $e(e,t,n){var i=n.length;if(null==e)return!i;for(e=v(e);i--;){var r=n[i],o=t[r],a=e[r];if(a===ia&&!(r in e)||!o(a))return!1}return!0}function ze(e,t,n){if("function"!=typeof e)throw new y(ra);return ai(function(){e.apply(ia,n)},t)}function Be(e,t,n,i){var r=-1,o=Us,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Ns(t,ol(n))),i?(o=Hs,a=!1):200<=t.length&&(o=sl,a=!1,t=new xe(t));e:for(;++r<s;){var c=e[r],f=null==n?c:n(c);if(c=i||0!==c?c:0,a&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;l.push(c)}else o(t,f,i)||l.push(c)}return l}pe.templateSettings={escape:Va,evaluate:Za,interpolate:Ka,variable:"",imports:{_:pe}},(pe.prototype=ge.prototype).constructor=pe,(ye.prototype=ve(ge.prototype)).constructor=ye,(be.prototype=ve(ge.prototype)).constructor=be,we.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(ie){var n=t[e];return n===oa?ia:n}return w.call(t,e)?t[e]:ia},we.prototype.has=function(e){var t=this.__data__;return ie?t[e]!==ia:w.call(t,e)},we.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&t===ia?oa:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?ia:t[n][1]},_e.prototype.has=function(e){return-1<je(this.__data__,e)},_e.prototype.set=function(e,t){var n=this.__data__,i=je(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(Q||_e),string:new we}},ke.prototype.delete=function(e){var t=zn(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return zn(this,e).get(e)},ke.prototype.has=function(e){return zn(this,e).has(e)},ke.prototype.set=function(e,t){var n=zn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,oa),this},xe.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new _e,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var i=n.__data__;if(!Q||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ke(i)}return n.set(e,t),this.size=n.size,this};var qe=un(Ye),Ue=un(Ge,!0);function He(e,i){var r=!0;return qe(e,function(e,t,n){return r=!!i(e,t,n)}),r}function Ne(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===ia?a==a&&!zr(a):n(a,s)))var s=a,l=o}return l}function We(e,i){var r=[];return qe(e,function(e,t,n){i(e,t,n)&&r.push(e)}),r}function Ve(e,t,n,i,r){var o=-1,a=e.length;for(n=n||Zn,r=r||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?Ve(s,t-1,n,i,r):Ws(r,s):i||(r[r.length]=s)}return r}var Ze=cn(),Ke=cn(!0);function Ye(e,t){return e&&Ze(e,t,lo)}function Ge(e,t){return e&&Ke(e,t,lo)}function Xe(t,e){return qs(e,function(e){return Tr(t[e])})}function Je(e,t){for(var n=0,i=(t=Kt(t,e)).length;null!=e&&n<i;)e=e[pi(t[n++])];return n&&n==i?e:ia}function Qe(e,t,n){var i=t(e);return _r(e)?i:Ws(i,n(e))}function et(e){return null==e?e===ia?"[object Undefined]":"[object Null]":R&&R in v(e)?function(e){var t=w.call(e,R),n=e[R];try{e[R]=ia;var i=!0}catch(e){}var r=p.call(e);i&&(t?e[R]=n:delete e[R]);return r}(e):function(e){return p.call(e)}(e)}function tt(e,t){return t<e}function nt(e,t){return null!=e&&w.call(e,t)}function it(e,t){return null!=e&&t in v(e)}function rt(e,t,n){for(var i=n?Hs:Us,r=e[0].length,o=e.length,a=o,s=E(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=Ns(c,ol(t))),l=Z(c.length,l),s[a]=!n&&(t||120<=r&&120<=c.length)?new xe(a&&c):ia}c=e[0];var f=-1,d=s[0];e:for(;++f<r&&u.length<l;){var h=c[f],p=t?t(h):h;if(h=n||0!==h?h:0,!(d?sl(d,p):i(u,p,n))){for(a=o;--a;){var v=s[a];if(!(v?sl(v,p):i(e[a],p,n)))continue e}d&&d.push(p),u.push(h)}}return u}function ot(e,t,n){var i=null==(e=ii(e,t=Kt(t,e)))?e:e[pi(Ci(t))];return null==i?ia:Ls(i,e,n)}function at(e){return Ar(e)&&et(e)==da}function st(e,t,n,i,r){return e===t||(null==e||null==t||!Ar(e)&&!Ar(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var a=_r(e),s=_r(t),l=a?ha:Nn(e),u=s?ha:Nn(t),c=(l=l==da?_a:l)==_a,f=(u=u==da?_a:u)==_a,d=l==u;if(d&&Er(e)){if(!Er(t))return!1;c=!(a=!0)}if(d&&!c)return o=o||new Se,a||Br(e)?jn(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case Pa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ta:return!(e.byteLength!=t.byteLength||!o(new O(e),new O(t)));case pa:case va:case wa:return gr(+e,+t);case ma:return e.name==t.name&&e.message==t.message;case xa:case Ea:return e==t+"";case ba:var s=pl;case Sa:var l=1&i;if(s=s||gl,e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var c=jn(s(e),s(t),i,r,o,a);return a.delete(e),c;case Oa:if(de)return de.call(e)==de.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var h=c&&w.call(e,"__wrapped__"),p=f&&w.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return o=o||new Se,r(v,m,n,i,o)}}return d&&(o=o||new Se,function(e,t,n,i,r,o){var a=1&n,s=Mn(e),l=s.length,u=Mn(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var f=s[c];if(!(a?f in t:w.call(t,f)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);var p=a;for(;++c<l;){f=s[c];var v=e[f],m=t[f];if(i)var g=a?i(m,v,f,t,e,o):i(v,m,f,e,t,o);if(!(g===ia?v===m||r(v,m,n,i,o):g)){h=!1;break}p=p||"constructor"==f}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,i,r,o))}(e,t,n,i,st,r))}function lt(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=v(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var l=(s=n[r])[0],u=e[l],c=s[1];if(a&&s[2]){if(u===ia&&!(l in e))return!1}else{var f=new Se;if(i)var d=i(u,c,l,e,t,f);if(!(d===ia?st(c,u,3,i,f):d))return!1}}return!0}function ut(e){return!(!jr(e)||function(e){return!!h&&h in e}(e))&&(Tr(e)?k:ds).test(vi(e))}function ct(e){return"function"==typeof e?e:null==e?Do:"object"==typeof e?_r(e)?mt(e[0],e[1]):vt(e):No(e)}function ft(e){if(!Qn(e))return W(e);var t=[];for(var n in v(e))w.call(e,n)&&"constructor"!=n&&t.push(n);return t}function dt(e){if(!jr(e))return function(e){var t=[];if(null!=e)for(var n in v(e))t.push(n);return t}(e);var t=Qn(e),n=[];for(var i in e)("constructor"!=i||!t&&w.call(e,i))&&n.push(i);return n}function ht(e,t){return e<t}function pt(e,i){var r=-1,o=xr(e)?E(e.length):[];return qe(e,function(e,t,n){o[++r]=i(e,t,n)}),o}function vt(t){var n=Bn(t);return 1==n.length&&n[0][2]?ti(n[0][0],n[0][1]):function(e){return e===t||lt(e,t,n)}}function mt(n,i){return Gn(n)&&ei(i)?ti(pi(n),i):function(e){var t=io(e,n);return t===ia&&t===i?ro(e,n):st(i,t,3)}}function gt(i,r,o,a,s){i!==r&&Ze(r,function(e,t){if(jr(e))s=s||new Se,function(e,t,n,i,r,o,a){var s=ri(e,n),l=ri(t,n),u=a.get(l);if(u)return Pe(e,n,u);var c=o?o(s,l,n+"",e,t,a):ia,f=c===ia;if(f){var d=_r(l),h=!d&&Er(l),p=!d&&!h&&Br(l);c=l,d||h||p?c=_r(s)?s:Sr(s)?on(s):h?Jt(l,!(f=!1)):p?en(l,!(f=!1)):[]:Dr(l)||wr(l)?wr(c=s)?c=Kr(s):jr(s)&&!Tr(s)||(c=Vn(l)):f=!1}f&&(a.set(l,c),r(c,l,i,o,a),a.delete(l));Pe(e,n,c)}(i,r,t,o,gt,a,s);else{var n=a?a(ri(i,t),e,t+"",i,r,s):ia;n===ia&&(n=e),Pe(i,t,n)}},uo)}function yt(e,t){var n=e.length;if(n)return Kn(t+=t<0?n:0,n)?e[t]:ia}function bt(e,i,n){var r=-1;return i=Ns(i.length?i:[Do],ol($n())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(pt(e,function(t,e,n){return{criteria:Ns(i,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var l=tn(r[i],o[i]);if(l){if(s<=i)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function wt(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Je(e,a);n(s,a)&&Tt(o,Kt(a,e),s)}return o}function _t(e,t,n,i){var r=i?Js:Xs,o=-1,a=t.length,s=e;for(e===t&&(t=on(t)),n&&(s=Ns(e,ol(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;-1<(l=r(s,c,l,i));)s!==e&&j.call(s,l,1),j.call(e,l,1);return e}function kt(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Kn(r)?j.call(e,r,1):Bt(e,r)}}return e}function xt(e,t){return e+B(G()*(t-e+1))}function St(e,t){var n="";if(!e||t<1||la<t)return n;for(;t%2&&(n+=e),(t=B(t/2))&&(e+=e),t;);return n}function Et(e,t){return si(ni(e,t,Do),e+"")}function Ot(e){return Oe(yo(e))}function Ct(e,t){var n=yo(e);return ci(n,Le(t,0,n.length))}function Tt(e,t,n,i){if(!jr(e))return e;for(var r=-1,o=(t=Kt(t,e)).length,a=o-1,s=e;null!=s&&++r<o;){var l=pi(t[r]),u=n;if(r!=a){var c=s[l];(u=i?i(c,l,s):ia)===ia&&(u=jr(c)?c:Kn(t[r+1])?[]:{})}Ie(s,l,u),s=s[l]}return e}var Pt=re?function(e,t){return re.set(e,t),e}:Do,It=D?function(e,t){return D(e,"toString",{configurable:!0,enumerable:!1,value:Ao(t),writable:!0})}:Do;function jt(e){return ci(yo(e))}function At(e,t,n){var i=-1,r=e.length;t<0&&(t=r<-t?0:r+t),(n=r<n?r:n)<0&&(n+=r),r=n<t?0:n-t>>>0,t>>>=0;for(var o=E(r);++i<r;)o[i]=e[i+t];return o}function Mt(e,i){var r;return qe(e,function(e,t,n){return!(r=i(e,t,n))}),!!r}function Rt(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!zr(a)&&(n?a<=t:a<t)?i=1+o:r=o}return r}return Dt(e,t,Do,n)}function Dt(e,t,n,i){t=n(t);for(var r=0,o=null==e?0:e.length,a=t!=t,s=null===t,l=zr(t),u=t===ia;r<o;){var c=B((r+o)/2),f=n(e[c]),d=f!==ia,h=null===f,p=f==f,v=zr(f);if(a)var m=i||p;else m=u?p&&(i||d):s?p&&d&&(i||!h):l?p&&d&&!h&&(i||!v):!h&&!v&&(i?f<=t:f<t);m?r=c+1:o=c}return Z(o,4294967294)}function Lt(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!gr(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Ft(e){return"number"==typeof e?e:zr(e)?ua:+e}function $t(e){if("string"==typeof e)return e;if(_r(e))return Ns(e,$t)+"";if(zr(e))return he?he.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zt(e,t,n){var i=-1,r=Us,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=Hs;else if(200<=o){var u=t?null:En(e);if(u)return gl(u);a=!1,r=sl,l=new xe}else l=t?[]:s;e:for(;++i<o;){var c=e[i],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else r(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function Bt(e,t){return null==(e=ii(e,t=Kt(t,e)))||delete e[pi(Ci(t))]}function qt(e,t,n,i){return Tt(e,t,n(Je(e,t)),i)}function Ut(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?At(e,i?0:o,i?o+1:r):At(e,i?o+1:0,i?r:o)}function Ht(e,t){var n=e;return n instanceof be&&(n=n.value()),Vs(t,function(e,t){return t.func.apply(t.thisArg,Ws([e],t.args))},n)}function Nt(e,t,n){var i=e.length;if(i<2)return i?zt(e[0]):[];for(var r=-1,o=E(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=Be(o[r]||a,e[s],t,n));return zt(Ve(o,1),t,n)}function Wt(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=i<o?t[i]:ia;n(a,e[i],s)}return a}function Vt(e){return Sr(e)?e:[]}function Zt(e){return"function"==typeof e?e:Do}function Kt(e,t){return _r(e)?e:Gn(e,t)?[e]:hi(Yr(e))}var Yt=Et;function Gt(e,t,n){var i=e.length;return n=n===ia?i:n,!t&&i<=n?e:At(e,t,n)}var Xt=L||function(e){return Ts.clearTimeout(e)};function Jt(e,t){if(t)return e.slice();var n=e.length,i=C?C(n):new e.constructor(n);return e.copy(i),i}function Qt(e){var t=new e.constructor(e.byteLength);return new O(t).set(new O(e)),t}function en(e,t){var n=t?Qt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var n=e!==ia,i=null===e,r=e==e,o=zr(e),a=t!==ia,s=null===t,l=t==t,u=zr(t);if(!s&&!u&&!o&&t<e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function nn(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=V(o-a,0),c=E(l+u),f=!i;++s<l;)c[s]=t[s];for(;++r<a;)(f||r<o)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function rn(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=V(o-s,0),f=E(c+u),d=!i;++r<c;)f[r]=e[r];for(var h=r;++l<u;)f[h+l]=t[l];for(;++a<s;)(d||r<o)&&(f[h+n[a]]=e[r++]);return f}function on(e,t){var n=-1,i=e.length;for(t=t||E(i);++n<i;)t[n]=e[n];return t}function an(e,t,n,i){var r=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):ia;l===ia&&(l=e[s]),r?Re(n,s,l):Ie(n,s,l)}return n}function sn(r,o){return function(e,t){var n=_r(e)?Fs:Ae,i=o?o():{};return n(e,r,$n(t,2),i)}}function ln(s){return Et(function(e,t){var n=-1,i=t.length,r=1<i?t[i-1]:ia,o=2<i?t[2]:ia;for(r=3<s.length&&"function"==typeof r?(i--,r):ia,o&&Yn(t[0],t[1],o)&&(r=i<3?ia:r,i=1),e=v(e);++n<i;){var a=t[n];a&&s(e,a,n,r)}return e})}function un(o,a){return function(e,t){if(null==e)return e;if(!xr(e))return o(e,t);for(var n=e.length,i=a?n:-1,r=v(e);(a?i--:++i<n)&&!1!==t(r[i],i,r););return e}}function cn(l){return function(e,t,n){for(var i=-1,r=v(e),o=n(e),a=o.length;a--;){var s=o[l?a:++i];if(!1===t(r[s],s,r))break}return e}}function fn(r){return function(e){var t=hl(e=Yr(e))?bl(e):ia,n=t?t[0]:e.charAt(0),i=t?Gt(t,1).join(""):e.slice(1);return n[r]()+i}}function dn(t){return function(e){return Vs(Po(_o(e).replace(ys,"")),t,"")}}function hn(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ve(i.prototype),n=i.apply(t,e);return jr(n)?n:t}}function pn(a){return function(e,t,n){var i=v(e);if(!xr(e)){var r=$n(t,3);e=lo(e),t=function(e){return r(i[e],e,i)}}var o=a(e,t,n);return-1<o?i[r?e[o]:o]:ia}}function vn(l){return An(function(r){var o=r.length,e=o,t=ye.prototype.thru;for(l&&r.reverse();e--;){var n=r[e];if("function"!=typeof n)throw new y(ra);if(t&&!a&&"wrapper"==Ln(n))var a=new ye([],!0)}for(e=a?e:o;++e<o;){var i=Ln(n=r[e]),s="wrapper"==i?Dn(n):ia;a=s&&Xn(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Ln(s[0])].apply(a,s[3]):1==n.length&&Xn(n)?a[i]():a.thru(n)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&_r(t))return a.plant(t).value();for(var n=0,i=o?r[n].apply(this,e):t;++n<o;)i=r[n].call(this,i);return i}})}function mn(u,c,f,d,h,p,v,m,g,y){var b=c&sa,w=1&c,_=2&c,k=24&c,x=512&c,S=_?ia:hn(u);return function e(){for(var t=arguments.length,n=E(t),i=t;i--;)n[i]=arguments[i];if(k)var r=Fn(e),o=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(n,r);if(d&&(n=nn(n,d,h,k)),p&&(n=rn(n,p,v,k)),t-=o,k&&t<y){var a=ml(n,r);return xn(u,c,mn,e.placeholder,f,n,a,m,g,y-t)}var s=w?f:this,l=_?s[u]:u;return t=n.length,m?n=function(e,t){for(var n=e.length,i=Z(t.length,n),r=on(e);i--;){var o=t[i];e[i]=Kn(o,n)?r[o]:ia}return e}(n,m):x&&1<t&&n.reverse(),b&&g<t&&(n.length=g),this&&this!==Ts&&this instanceof e&&(l=S||hn(l)),l.apply(s,n)}}function gn(n,i){return function(e,t){return function(e,i,r,o){return Ye(e,function(e,t,n){i(o,r(e),t,n)}),o}(e,n,i(t),{})}}function yn(i,r){return function(e,t){var n;if(e===ia&&t===ia)return r;if(e!==ia&&(n=e),t!==ia){if(n===ia)return t;t="string"==typeof e||"string"==typeof t?(e=$t(e),$t(t)):(e=Ft(e),Ft(t)),n=i(e,t)}return n}}function bn(i){return An(function(e){return e=Ns(e,ol($n())),Et(function(t){var n=this;return i(e,function(e){return Ls(e,n,t)})})})}function wn(e,t){var n=(t=t===ia?" ":$t(t)).length;if(n<2)return n?St(t,e):t;var i=St(t,z(e/yl(t)));return hl(t)?Gt(bl(i),0,e).join(""):i.slice(0,e)}function _n(i){return function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=ia),e=Nr(e),t===ia?(t=e,e=0):t=Nr(t),function(e,t,n,i){for(var r=-1,o=V(z((t-e)/(n||1)),0),a=E(o);o--;)a[i?o:++r]=e,e+=n;return a}(e,t,n=n===ia?e<t?1:-1:Nr(n),i)}}function kn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Zr(e),t=Zr(t)),n(e,t)}}function xn(e,t,n,i,r,o,a,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,r,c?o:ia,c?a:ia,c?ia:o,c?ia:a,s,l,u],d=n.apply(ia,f);return Xn(e)&&oi(d,f),d.placeholder=i,li(d,e,t)}function Sn(e){var i=o[e];return function(e,t){if(e=Zr(e),t=null==t?0:Z(Wr(t),292)){var n=(Yr(e)+"e").split("e");return+((n=(Yr(i(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return i(e)}}var En=te&&1/gl(new te([,-0]))[1]==1/0?function(e){return new te(e)}:Bo;function On(n){return function(e){var t=Nn(e);return t==ba?pl(e):t==Sa?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(e):function(t,e){return Ns(e,function(e){return[e,t[e]]})}(e,n(e))}}function Cn(e,t,n,i,r,o,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new y(ra);var u=i?i.length:0;if(u||(t&=-97,i=r=ia),a=a===ia?a:V(Wr(a),0),s=s===ia?s:Wr(s),u-=r?r.length:0,64&t){var c=i,f=r;i=r=ia}var d=l?ia:Dn(e),h=[e,t,n,i,r,c,f,o,a,s];if(d&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,a=i==sa&&8==n||i==sa&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!a)return;1&i&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?nn(l,s,t[4]):s,e[4]=l?ml(e[3],aa):t[4]}(s=t[5])&&(l=e[5],e[5]=l?rn(l,s,t[6]):s,e[6]=l?ml(e[5],aa):t[6]);(s=t[7])&&(e[7]=s);i&sa&&(e[8]=null==e[8]?t[8]:Z(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(h,d),e=h[0],t=h[1],n=h[2],i=h[3],r=h[4],!(s=h[9]=h[9]===ia?l?0:e.length:V(h[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(a,s,l){var u=hn(a);return function e(){for(var t=arguments.length,n=E(t),i=t,r=Fn(e);i--;)n[i]=arguments[i];var o=t<3&&n[0]!==r&&n[t-1]!==r?[]:ml(n,r);return(t-=o.length)<l?xn(a,s,mn,e.placeholder,ia,n,o,ia,ia,l-t):Ls(this&&this!==Ts&&this instanceof e?u:a,this,n)}}(e,t,s):32!=t&&33!=t||r.length?mn.apply(ia,h):function(s,e,l,u){var c=1&e,f=hn(s);return function e(){for(var t=-1,n=arguments.length,i=-1,r=u.length,o=E(r+n),a=this&&this!==Ts&&this instanceof e?f:s;++i<r;)o[i]=u[i];for(;n--;)o[i++]=arguments[++t];return Ls(a,c?l:this,o)}}(e,t,n,i);else var p=function(t,e,n){var i=1&e,r=hn(t);return function e(){return(this&&this!==Ts&&this instanceof e?r:t).apply(i?n:this,arguments)}}(e,t,n);return li((d?Pt:oi)(p,h),e,t)}function Tn(e,t,n,i){return e===ia||gr(e,f[n])&&!w.call(i,n)?t:e}function Pn(e,t,n,i,r,o){return jr(e)&&jr(t)&&(o.set(t,e),gt(e,t,ia,Pn,o),o.delete(t)),e}function In(e){return Dr(e)?ia:e}function jn(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,d=2&n?new xe:ia;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],p=t[c];if(i)var v=a?i(p,h,c,t,e,o):i(h,p,c,e,t,o);if(v!==ia){if(v)continue;f=!1;break}if(d){if(!Ks(t,function(e,t){if(!sl(d,t)&&(h===e||r(h,e,n,i,o)))return d.push(t)})){f=!1;break}}else if(h!==p&&!r(h,p,n,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function An(e){return si(ni(e,ia,ki),e+"")}function Mn(e){return Qe(e,lo,Un)}function Rn(e){return Qe(e,uo,Hn)}var Dn=re?function(e){return re.get(e)}:Bo;function Ln(e){for(var t=e.name+"",n=oe[t],i=w.call(oe,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Fn(e){return(w.call(pe,"placeholder")?pe:e).placeholder}function $n(){var e=pe.iteratee||Lo;return e=e===Lo?ct:e,arguments.length?e(arguments[0],arguments[1]):e}function zn(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Bn(e){for(var t=lo(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ei(r)]}return t}function qn(e,t){var n=function(e,t){return null==e?ia:e[t]}(e,t);return ut(n)?n:ia}var Un=q?function(t){return null==t?[]:(t=v(t),qs(q(t),function(e){return I.call(t,e)}))}:Zo,Hn=q?function(e){for(var t=[];e;)Ws(t,Un(e)),e=T(e);return t}:Zo,Nn=et;function Wn(e,t,n){for(var i=-1,r=(t=Kt(t,e)).length,o=!1;++i<r;){var a=pi(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Ir(r)&&Kn(a,r)&&(_r(e)||wr(e))}function Vn(e){return"function"!=typeof e.constructor||Qn(e)?{}:ve(T(e))}function Zn(e){return _r(e)||wr(e)||!!(A&&e&&e[A])}function Kn(e,t){var n=typeof e;return!!(t=null==t?la:t)&&("number"==n||"symbol"!=n&&ps.test(e))&&-1<e&&e%1==0&&e<t}function Yn(e,t,n){if(!jr(n))return!1;var i=typeof t;return!!("number"==i?xr(n)&&Kn(t,n.length):"string"==i&&t in n)&&gr(n[t],e)}function Gn(e,t){if(_r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!zr(e))||(Ga.test(e)||!Ya.test(e)||null!=t&&e in v(t))}function Xn(e){var t=Ln(e),n=pe[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var i=Dn(n);return!!i&&e===i[0]}(J&&Nn(new J(new ArrayBuffer(1)))!=Pa||Q&&Nn(new Q)!=ba||ee&&Nn(ee.resolve())!=ka||te&&Nn(new te)!=Sa||ne&&Nn(new ne)!=Ca)&&(Nn=function(e){var t=et(e),n=t==_a?e.constructor:ia,i=n?vi(n):"";if(i)switch(i){case ae:return Pa;case se:return ba;case le:return ka;case ue:return Sa;case ce:return Ca}return t});var Jn=l?Tr:Ko;function Qn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||f)}function ei(e){return e==e&&!jr(e)}function ti(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==ia||t in v(e)))}}function ni(o,a,s){return a=V(a===ia?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=V(e.length-a,0),i=E(n);++t<n;)i[t]=e[a+t];t=-1;for(var r=E(a+1);++t<a;)r[t]=e[t];return r[a]=s(i),Ls(o,this,r)}}function ii(e,t){return t.length<2?e:Je(e,At(t,0,-1))}function ri(e,t){if("__proto__"!=t)return e[t]}var oi=ui(Pt),ai=$||function(e,t){return Ts.setTimeout(e,t)},si=ui(It);function li(e,t,n){var i=t+"";return si(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(is,"{\n/* [wrapped with "+t+"] */\n")}(i,function(n,i){return $s(fa,function(e){var t="_."+e[0];i&e[1]&&!Us(n,t)&&n.push(t)}),n.sort()}(function(e){var t=e.match(rs);return t?t[1].split(os):[]}(i),n)))}function ui(n){var i=0,r=0;return function(){var e=K(),t=16-(e-r);if(r=e,0<t){if(800<=++i)return arguments[0]}else i=0;return n.apply(ia,arguments)}}function ci(e,t){var n=-1,i=e.length,r=i-1;for(t=t===ia?i:t;++n<t;){var o=xt(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var fi,di,hi=(di=(fi=fr(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(Xa,function(e,t,n,i){r.push(n?i.replace(ss,"$1"):t||e)}),r},function(e){return 500===di.size&&di.clear(),e})).cache,fi);function pi(e){if("string"==typeof e||zr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function vi(e){if(null!=e){try{return u.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function mi(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=on(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var gi=Et(function(e,t){return Sr(e)?Be(e,Ve(t,1,Sr,!0)):[]}),yi=Et(function(e,t){var n=Ci(t);return Sr(n)&&(n=ia),Sr(e)?Be(e,Ve(t,1,Sr,!0),$n(n,2)):[]}),bi=Et(function(e,t){var n=Ci(t);return Sr(n)&&(n=ia),Sr(e)?Be(e,Ve(t,1,Sr,!0),ia,n):[]});function wi(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=V(i+r,0)),Gs(e,$n(t,3),r)}function _i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==ia&&(r=Wr(n),r=n<0?V(i+r,0):Z(r,i-1)),Gs(e,$n(t,3),r,!0)}function ki(e){return(null==e?0:e.length)?Ve(e,1):[]}function xi(e){return e&&e.length?e[0]:ia}var Si=Et(function(e){var t=Ns(e,Vt);return t.length&&t[0]===e[0]?rt(t):[]}),Ei=Et(function(e){var t=Ci(e),n=Ns(e,Vt);return t===Ci(n)?t=ia:n.pop(),n.length&&n[0]===e[0]?rt(n,$n(t,2)):[]}),Oi=Et(function(e){var t=Ci(e),n=Ns(e,Vt);return(t="function"==typeof t?t:ia)&&n.pop(),n.length&&n[0]===e[0]?rt(n,ia,t):[]});function Ci(e){var t=null==e?0:e.length;return t?e[t-1]:ia}var Ti=Et(Pi);function Pi(e,t){return e&&e.length&&t&&t.length?_t(e,t):e}var Ii=An(function(e,t){var n=null==e?0:e.length,i=De(e,t);return kt(e,Ns(t,function(e){return Kn(e,n)?+e:e}).sort(tn)),i});function ji(e){return null==e?e:X.call(e)}var Ai=Et(function(e){return zt(Ve(e,1,Sr,!0))}),Mi=Et(function(e){var t=Ci(e);return Sr(t)&&(t=ia),zt(Ve(e,1,Sr,!0),$n(t,2))}),Ri=Et(function(e){var t=Ci(e);return t="function"==typeof t?t:ia,zt(Ve(e,1,Sr,!0),ia,t)});function Di(t){if(!t||!t.length)return[];var n=0;return t=qs(t,function(e){if(Sr(e))return n=V(e.length,n),!0}),rl(n,function(e){return Ns(t,tl(e))})}function Li(e,t){if(!e||!e.length)return[];var n=Di(e);return null==t?n:Ns(n,function(e){return Ls(t,ia,e)})}var Fi=Et(function(e,t){return Sr(e)?Be(e,t):[]}),$i=Et(function(e){return Nt(qs(e,Sr))}),zi=Et(function(e){var t=Ci(e);return Sr(t)&&(t=ia),Nt(qs(e,Sr),$n(t,2))}),Bi=Et(function(e){var t=Ci(e);return t="function"==typeof t?t:ia,Nt(qs(e,Sr),ia,t)}),qi=Et(Di);var Ui=Et(function(e){var t=e.length,n=1<t?e[t-1]:ia;return n="function"==typeof n?(e.pop(),n):ia,Li(e,n)});function Hi(e){var t=pe(e);return t.__chain__=!0,t}function Ni(e,t){return t(e)}var Wi=An(function(t){function e(e){return De(e,t)}var n=t.length,i=n?t[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof be&&Kn(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:Ni,args:[e],thisArg:ia}),new ye(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(ia),e})):this.thru(e)});var Vi=sn(function(e,t,n){w.call(e,n)?++e[n]:Re(e,n,1)});var Zi=pn(wi),Ki=pn(_i);function Yi(e,t){return(_r(e)?$s:qe)(e,$n(t,3))}function Gi(e,t){return(_r(e)?zs:Ue)(e,$n(t,3))}var Xi=sn(function(e,t,n){w.call(e,n)?e[n].push(t):Re(e,n,[t])});var Ji=Et(function(e,t,n){var i=-1,r="function"==typeof t,o=xr(e)?E(e.length):[];return qe(e,function(e){o[++i]=r?Ls(t,e,n):ot(e,t,n)}),o}),Qi=sn(function(e,t,n){Re(e,n,t)});function er(e,t){return(_r(e)?Ns:pt)(e,$n(t,3))}var tr=sn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var nr=Et(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Yn(e,t[0],t[1])?t=[]:2<n&&Yn(t[0],t[1],t[2])&&(t=[t[0]]),bt(e,Ve(t,1),[])}),ir=F||function(){return Ts.Date.now()};function rr(e,t,n){return t=n?ia:t,t=e&&null==t?e.length:t,Cn(e,sa,ia,ia,ia,ia,t)}function or(e,t){var n;if("function"!=typeof t)throw new y(ra);return e=Wr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=ia),n}}var ar=Et(function(e,t,n){var i=1;if(n.length){var r=ml(n,Fn(ar));i|=32}return Cn(e,i,t,n,r)}),sr=Et(function(e,t,n){var i=3;if(n.length){var r=ml(n,Fn(sr));i|=32}return Cn(t,i,e,n,r)});function lr(i,n,e){var r,o,a,s,l,u,c=0,f=!1,d=!1,t=!0;if("function"!=typeof i)throw new y(ra);function h(e){var t=r,n=o;return r=o=ia,c=e,s=i.apply(n,t)}function p(e){var t=e-u;return u===ia||n<=t||t<0||d&&a<=e-c}function v(){var e=ir();if(p(e))return m(e);l=ai(v,function(e){var t=n-(e-u);return d?Z(t,a-(e-c)):t}(e))}function m(e){return l=ia,t&&r?h(e):(r=o=ia,s)}function g(){var e=ir(),t=p(e);if(r=arguments,o=this,u=e,t){if(l===ia)return function(e){return c=e,l=ai(v,n),f?h(e):s}(u);if(d)return l=ai(v,n),h(u)}return l===ia&&(l=ai(v,n)),s}return n=Zr(n)||0,jr(e)&&(f=!!e.leading,a=(d="maxWait"in e)?V(Zr(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),g.cancel=function(){l!==ia&&Xt(l),c=0,r=u=o=l=ia},g.flush=function(){return l===ia?s:m(ir())},g}var ur=Et(function(e,t){return ze(e,1,t)}),cr=Et(function(e,t,n){return ze(e,Zr(t)||0,n)});function fr(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new y(ra);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var i=r.apply(this,e);return a.cache=n.set(t,i)||n,i};return a.cache=new(fr.Cache||ke),a}function dr(t){if("function"!=typeof t)throw new y(ra);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}fr.Cache=ke;var hr=Yt(function(i,r){var o=(r=1==r.length&&_r(r[0])?Ns(r[0],ol($n())):Ns(Ve(r,1),ol($n()))).length;return Et(function(e){for(var t=-1,n=Z(e.length,o);++t<n;)e[t]=r[t].call(this,e[t]);return Ls(i,this,e)})}),pr=Et(function(e,t){var n=ml(t,Fn(pr));return Cn(e,32,ia,t,n)}),vr=Et(function(e,t){var n=ml(t,Fn(vr));return Cn(e,64,ia,t,n)}),mr=An(function(e,t){return Cn(e,256,ia,ia,ia,t)});function gr(e,t){return e===t||e!=e&&t!=t}var yr=kn(tt),br=kn(function(e,t){return t<=e}),wr=at(function(){return arguments}())?at:function(e){return Ar(e)&&w.call(e,"callee")&&!I.call(e,"callee")},_r=E.isArray,kr=Is?ol(Is):function(e){return Ar(e)&&et(e)==Ta};function xr(e){return null!=e&&Ir(e.length)&&!Tr(e)}function Sr(e){return Ar(e)&&xr(e)}var Er=U||Ko,Or=js?ol(js):function(e){return Ar(e)&&et(e)==va};function Cr(e){if(!Ar(e))return!1;var t=et(e);return t==ma||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Dr(e)}function Tr(e){if(!jr(e))return!1;var t=et(e);return t==ga||t==ya||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pr(e){return"number"==typeof e&&e==Wr(e)}function Ir(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=la}function jr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ar(e){return null!=e&&"object"==typeof e}var Mr=As?ol(As):function(e){return Ar(e)&&Nn(e)==ba};function Rr(e){return"number"==typeof e||Ar(e)&&et(e)==wa}function Dr(e){if(!Ar(e)||et(e)!=_a)return!1;var t=T(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==b}var Lr=Ms?ol(Ms):function(e){return Ar(e)&&et(e)==xa};var Fr=Rs?ol(Rs):function(e){return Ar(e)&&Nn(e)==Sa};function $r(e){return"string"==typeof e||!_r(e)&&Ar(e)&&et(e)==Ea}function zr(e){return"symbol"==typeof e||Ar(e)&&et(e)==Oa}var Br=Ds?ol(Ds):function(e){return Ar(e)&&Ir(e.length)&&!!Ss[et(e)]};var qr=kn(ht),Ur=kn(function(e,t){return e<=t});function Hr(e){if(!e)return[];if(xr(e))return $r(e)?bl(e):on(e);if(M&&e[M])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[M]());var t=Nn(e);return(t==ba?pl:t==Sa?gl:yo)(e)}function Nr(e){return e?(e=Zr(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Wr(e){var t=Nr(e),n=t%1;return t==t?n?t-n:t:0}function Vr(e){return e?Le(Wr(e),0,ca):0}function Zr(e){if("number"==typeof e)return e;if(zr(e))return ua;if(jr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(es,"");var n=fs.test(e);return n||hs.test(e)?Cs(e.slice(2),n?2:8):cs.test(e)?ua:+e}function Kr(e){return an(e,uo(e))}function Yr(e){return null==e?"":$t(e)}var Gr=ln(function(e,t){if(Qn(t)||xr(t))an(t,lo(t),e);else for(var n in t)w.call(t,n)&&Ie(e,n,t[n])}),Xr=ln(function(e,t){an(t,uo(t),e)}),Jr=ln(function(e,t,n,i){an(t,uo(t),e,i)}),Qr=ln(function(e,t,n,i){an(t,lo(t),e,i)}),eo=An(De);var to=Et(function(e,t){e=v(e);var n=-1,i=t.length,r=2<i?t[2]:ia;for(r&&Yn(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],a=uo(o),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(c===ia||gr(c,f[u])&&!w.call(e,u))&&(e[u]=o[u])}return e}),no=Et(function(e){return e.push(ia,Pn),Ls(fo,ia,e)});function io(e,t,n){var i=null==e?ia:Je(e,t);return i===ia?n:i}function ro(e,t){return null!=e&&Wn(e,t,it)}var oo=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=p.call(t)),e[t]=n},Ao(Do)),ao=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=p.call(t)),w.call(e,t)?e[t].push(n):e[t]=[n]},$n),so=Et(ot);function lo(e){return xr(e)?Ee(e):ft(e)}function uo(e){return xr(e)?Ee(e,!0):dt(e)}var co=ln(function(e,t,n){gt(e,t,n)}),fo=ln(function(e,t,n,i){gt(e,t,n,i)}),ho=An(function(t,e){var n={};if(null==t)return n;var i=!1;e=Ns(e,function(e){return e=Kt(e,t),i=i||1<e.length,e}),an(t,Rn(t),n),i&&(n=Fe(n,7,In));for(var r=e.length;r--;)Bt(n,e[r]);return n});var po=An(function(e,t){return null==e?{}:function(n,e){return wt(n,e,function(e,t){return ro(n,t)})}(e,t)});function vo(e,n){if(null==e)return{};var t=Ns(Rn(e),function(e){return[e]});return n=$n(n),wt(e,t,function(e,t){return n(e,t[0])})}var mo=On(lo),go=On(uo);function yo(e){return null==e?[]:al(e,lo(e))}var bo=dn(function(e,t,n){return t=t.toLowerCase(),e+(n?wo(t):t)});function wo(e){return To(Yr(e).toLowerCase())}function _o(e){return(e=Yr(e))&&e.replace(vs,cl).replace(bs,"")}var ko=dn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),xo=dn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),So=fn("toLowerCase");var Eo=dn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Oo=dn(function(e,t,n){return e+(n?" ":"")+To(t)});var Co=dn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),To=fn("toUpperCase");function Po(e,t,n){return e=Yr(e),(t=n?ia:t)===ia?function(e){return _s.test(e)}(e)?function(e){return e.match(ws)||[]}(e):function(e){return e.match(as)||[]}(e):e.match(t)||[]}var Io=Et(function(e,t){try{return Ls(e,ia,t)}catch(e){return Cr(e)?e:new r(e)}}),jo=An(function(t,e){return $s(e,function(e){e=pi(e),Re(t,e,ar(t[e],t))}),t});function Ao(e){return function(){return e}}var Mo=vn(),Ro=vn(!0);function Do(e){return e}function Lo(e){return ct("function"==typeof e?e:Fe(e,1))}var Fo=Et(function(t,n){return function(e){return ot(e,t,n)}}),$o=Et(function(t,n){return function(e){return ot(t,e,n)}});function zo(i,t,e){var n=lo(t),r=Xe(t,n);null!=e||jr(t)&&(r.length||!n.length)||(e=t,t=i,i=this,r=Xe(t,lo(t)));var o=!(jr(e)&&"chain"in e&&!e.chain),a=Tr(i);return $s(r,function(e){var n=t[e];i[e]=n,a&&(i.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=i(this.__wrapped__);return(t.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:i}),t.__chain__=e,t}return n.apply(i,Ws([this.value()],arguments))})}),i}function Bo(){}var qo=bn(Ns),Uo=bn(Bs),Ho=bn(Ks);function No(e){return Gn(e)?tl(pi(e)):function(t){return function(e){return Je(e,t)}}(e)}var Wo=_n(),Vo=_n(!0);function Zo(){return[]}function Ko(){return!1}var Yo=yn(function(e,t){return e+t},0),Go=Sn("ceil"),Xo=yn(function(e,t){return e/t},1),Jo=Sn("floor");var Qo,ea=yn(function(e,t){return e*t},1),ta=Sn("round"),na=yn(function(e,t){return e-t},0);return pe.after=function(e,t){if("function"!=typeof t)throw new y(ra);return e=Wr(e),function(){if(--e<1)return t.apply(this,arguments)}},pe.ary=rr,pe.assign=Gr,pe.assignIn=Xr,pe.assignInWith=Jr,pe.assignWith=Qr,pe.at=eo,pe.before=or,pe.bind=ar,pe.bindAll=jo,pe.bindKey=sr,pe.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return _r(e)?e:[e]},pe.chain=Hi,pe.chunk=function(e,t,n){t=(n?Yn(e,t,n):t===ia)?1:V(Wr(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var r=0,o=0,a=E(z(i/t));r<i;)a[o++]=At(e,r,r+=t);return a},pe.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},pe.concat=function(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ws(_r(n)?on(n):[n],Ve(t,1))},pe.cond=function(i){var r=null==i?0:i.length,t=$n();return i=r?Ns(i,function(e){if("function"!=typeof e[1])throw new y(ra);return[t(e[0]),e[1]]}):[],Et(function(e){for(var t=-1;++t<r;){var n=i[t];if(Ls(n[0],this,e))return Ls(n[1],this,e)}})},pe.conforms=function(e){return function(t){var n=lo(t);return function(e){return $e(e,t,n)}}(Fe(e,1))},pe.constant=Ao,pe.countBy=Vi,pe.create=function(e,t){var n=ve(e);return null==t?n:Me(n,t)},pe.curry=function e(t,n,i){var r=Cn(t,8,ia,ia,ia,ia,ia,n=i?ia:n);return r.placeholder=e.placeholder,r},pe.curryRight=function e(t,n,i){var r=Cn(t,16,ia,ia,ia,ia,ia,n=i?ia:n);return r.placeholder=e.placeholder,r},pe.debounce=lr,pe.defaults=to,pe.defaultsDeep=no,pe.defer=ur,pe.delay=cr,pe.difference=gi,pe.differenceBy=yi,pe.differenceWith=bi,pe.drop=function(e,t,n){var i=null==e?0:e.length;return i?At(e,(t=n||t===ia?1:Wr(t))<0?0:t,i):[]},pe.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?At(e,0,(t=i-(t=n||t===ia?1:Wr(t)))<0?0:t):[]},pe.dropRightWhile=function(e,t){return e&&e.length?Ut(e,$n(t,3),!0,!0):[]},pe.dropWhile=function(e,t){return e&&e.length?Ut(e,$n(t,3),!0):[]},pe.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Yn(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=Wr(n))<0&&(n=r<-n?0:r+n),(i=i===ia||r<i?r:Wr(i))<0&&(i+=r),i=i<n?0:Vr(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},pe.filter=function(e,t){return(_r(e)?qs:We)(e,$n(t,3))},pe.flatMap=function(e,t){return Ve(er(e,t),1)},pe.flatMapDeep=function(e,t){return Ve(er(e,t),1/0)},pe.flatMapDepth=function(e,t,n){return n=n===ia?1:Wr(n),Ve(er(e,t),n)},pe.flatten=ki,pe.flattenDeep=function(e){return(null==e?0:e.length)?Ve(e,1/0):[]},pe.flattenDepth=function(e,t){return(null==e?0:e.length)?Ve(e,t=t===ia?1:Wr(t)):[]},pe.flip=function(e){return Cn(e,512)},pe.flow=Mo,pe.flowRight=Ro,pe.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},pe.functions=function(e){return null==e?[]:Xe(e,lo(e))},pe.functionsIn=function(e){return null==e?[]:Xe(e,uo(e))},pe.groupBy=Xi,pe.initial=function(e){return(null==e?0:e.length)?At(e,0,-1):[]},pe.intersection=Si,pe.intersectionBy=Ei,pe.intersectionWith=Oi,pe.invert=oo,pe.invertBy=ao,pe.invokeMap=Ji,pe.iteratee=Lo,pe.keyBy=Qi,pe.keys=lo,pe.keysIn=uo,pe.map=er,pe.mapKeys=function(e,i){var r={};return i=$n(i,3),Ye(e,function(e,t,n){Re(r,i(e,t,n),e)}),r},pe.mapValues=function(e,i){var r={};return i=$n(i,3),Ye(e,function(e,t,n){Re(r,t,i(e,t,n))}),r},pe.matches=function(e){return vt(Fe(e,1))},pe.matchesProperty=function(e,t){return mt(e,Fe(t,1))},pe.memoize=fr,pe.merge=co,pe.mergeWith=fo,pe.method=Fo,pe.methodOf=$o,pe.mixin=zo,pe.negate=dr,pe.nthArg=function(t){return t=Wr(t),Et(function(e){return yt(e,t)})},pe.omit=ho,pe.omitBy=function(e,t){return vo(e,dr($n(t)))},pe.once=function(e){return or(2,e)},pe.orderBy=function(e,t,n,i){return null==e?[]:(_r(t)||(t=null==t?[]:[t]),_r(n=i?ia:n)||(n=null==n?[]:[n]),bt(e,t,n))},pe.over=qo,pe.overArgs=hr,pe.overEvery=Uo,pe.overSome=Ho,pe.partial=pr,pe.partialRight=vr,pe.partition=tr,pe.pick=po,pe.pickBy=vo,pe.property=No,pe.propertyOf=function(t){return function(e){return null==t?ia:Je(t,e)}},pe.pull=Ti,pe.pullAll=Pi,pe.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_t(e,t,$n(n,2)):e},pe.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_t(e,t,ia,n):e},pe.pullAt=Ii,pe.range=Wo,pe.rangeRight=Vo,pe.rearg=mr,pe.reject=function(e,t){return(_r(e)?qs:We)(e,dr($n(t,3)))},pe.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=$n(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return kt(e,r),n},pe.rest=function(e,t){if("function"!=typeof e)throw new y(ra);return Et(e,t=t===ia?t:Wr(t))},pe.reverse=ji,pe.sampleSize=function(e,t,n){return t=(n?Yn(e,t,n):t===ia)?1:Wr(t),(_r(e)?Ce:Ct)(e,t)},pe.set=function(e,t,n){return null==e?e:Tt(e,t,n)},pe.setWith=function(e,t,n,i){return i="function"==typeof i?i:ia,null==e?e:Tt(e,t,n,i)},pe.shuffle=function(e){return(_r(e)?Te:jt)(e)},pe.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&Yn(e,t,n)?(t=0,i):(t=null==t?0:Wr(t),n===ia?i:Wr(n)),At(e,t,n)):[]},pe.sortBy=nr,pe.sortedUniq=function(e){return e&&e.length?Lt(e):[]},pe.sortedUniqBy=function(e,t){return e&&e.length?Lt(e,$n(t,2)):[]},pe.split=function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=ia),(n=n===ia?ca:n>>>0)?(e=Yr(e))&&("string"==typeof t||null!=t&&!Lr(t))&&!(t=$t(t))&&hl(e)?Gt(bl(e),0,n):e.split(t,n):[]},pe.spread=function(i,r){if("function"!=typeof i)throw new y(ra);return r=null==r?0:V(Wr(r),0),Et(function(e){var t=e[r],n=Gt(e,0,r);return t&&Ws(n,t),Ls(i,this,n)})},pe.tail=function(e){var t=null==e?0:e.length;return t?At(e,1,t):[]},pe.take=function(e,t,n){return e&&e.length?At(e,0,(t=n||t===ia?1:Wr(t))<0?0:t):[]},pe.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?At(e,(t=i-(t=n||t===ia?1:Wr(t)))<0?0:t,i):[]},pe.takeRightWhile=function(e,t){return e&&e.length?Ut(e,$n(t,3),!1,!0):[]},pe.takeWhile=function(e,t){return e&&e.length?Ut(e,$n(t,3)):[]},pe.tap=function(e,t){return t(e),e},pe.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new y(ra);return jr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),lr(e,t,{leading:i,maxWait:t,trailing:r})},pe.thru=Ni,pe.toArray=Hr,pe.toPairs=mo,pe.toPairsIn=go,pe.toPath=function(e){return _r(e)?Ns(e,pi):zr(e)?[e]:on(hi(Yr(e)))},pe.toPlainObject=Kr,pe.transform=function(e,i,r){var t=_r(e),n=t||Er(e)||Br(e);if(i=$n(i,4),null==r){var o=e&&e.constructor;r=n?t?new o:[]:jr(e)&&Tr(o)?ve(T(e)):{}}return(n?$s:Ye)(e,function(e,t,n){return i(r,e,t,n)}),r},pe.unary=function(e){return rr(e,1)},pe.union=Ai,pe.unionBy=Mi,pe.unionWith=Ri,pe.uniq=function(e){return e&&e.length?zt(e):[]},pe.uniqBy=function(e,t){return e&&e.length?zt(e,$n(t,2)):[]},pe.uniqWith=function(e,t){return t="function"==typeof t?t:ia,e&&e.length?zt(e,ia,t):[]},pe.unset=function(e,t){return null==e||Bt(e,t)},pe.unzip=Di,pe.unzipWith=Li,pe.update=function(e,t,n){return null==e?e:qt(e,t,Zt(n))},pe.updateWith=function(e,t,n,i){return i="function"==typeof i?i:ia,null==e?e:qt(e,t,Zt(n),i)},pe.values=yo,pe.valuesIn=function(e){return null==e?[]:al(e,uo(e))},pe.without=Fi,pe.words=Po,pe.wrap=function(e,t){return pr(Zt(t),e)},pe.xor=$i,pe.xorBy=zi,pe.xorWith=Bi,pe.zip=qi,pe.zipObject=function(e,t){return Wt(e||[],t||[],Ie)},pe.zipObjectDeep=function(e,t){return Wt(e||[],t||[],Tt)},pe.zipWith=Ui,pe.entries=mo,pe.entriesIn=go,pe.extend=Xr,pe.extendWith=Jr,zo(pe,pe),pe.add=Yo,pe.attempt=Io,pe.camelCase=bo,pe.capitalize=wo,pe.ceil=Go,pe.clamp=function(e,t,n){return n===ia&&(n=t,t=ia),n!==ia&&(n=(n=Zr(n))==n?n:0),t!==ia&&(t=(t=Zr(t))==t?t:0),Le(Zr(e),t,n)},pe.clone=function(e){return Fe(e,4)},pe.cloneDeep=function(e){return Fe(e,5)},pe.cloneDeepWith=function(e,t){return Fe(e,5,t="function"==typeof t?t:ia)},pe.cloneWith=function(e,t){return Fe(e,4,t="function"==typeof t?t:ia)},pe.conformsTo=function(e,t){return null==t||$e(e,t,lo(t))},pe.deburr=_o,pe.defaultTo=function(e,t){return null==e||e!=e?t:e},pe.divide=Xo,pe.endsWith=function(e,t,n){e=Yr(e),t=$t(t);var i=e.length,r=n=n===ia?i:Le(Wr(n),0,i);return 0<=(n-=t.length)&&e.slice(n,r)==t},pe.eq=gr,pe.escape=function(e){return(e=Yr(e))&&Wa.test(e)?e.replace(Ha,fl):e},pe.escapeRegExp=function(e){return(e=Yr(e))&&Qa.test(e)?e.replace(Ja,"\\$&"):e},pe.every=function(e,t,n){var i=_r(e)?Bs:He;return n&&Yn(e,t,n)&&(t=ia),i(e,$n(t,3))},pe.find=Zi,pe.findIndex=wi,pe.findKey=function(e,t){return Ys(e,$n(t,3),Ye)},pe.findLast=Ki,pe.findLastIndex=_i,pe.findLastKey=function(e,t){return Ys(e,$n(t,3),Ge)},pe.floor=Jo,pe.forEach=Yi,pe.forEachRight=Gi,pe.forIn=function(e,t){return null==e?e:Ze(e,$n(t,3),uo)},pe.forInRight=function(e,t){return null==e?e:Ke(e,$n(t,3),uo)},pe.forOwn=function(e,t){return e&&Ye(e,$n(t,3))},pe.forOwnRight=function(e,t){return e&&Ge(e,$n(t,3))},pe.get=io,pe.gt=yr,pe.gte=br,pe.has=function(e,t){return null!=e&&Wn(e,t,nt)},pe.hasIn=ro,pe.head=xi,pe.identity=Do,pe.includes=function(e,t,n,i){e=xr(e)?e:yo(e),n=n&&!i?Wr(n):0;var r=e.length;return n<0&&(n=V(r+n,0)),$r(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<Xs(e,t,n)},pe.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:Wr(n);return r<0&&(r=V(i+r,0)),Xs(e,t,r)},pe.inRange=function(e,t,n){return t=Nr(t),n===ia?(n=t,t=0):n=Nr(n),function(e,t,n){return e>=Z(t,n)&&e<V(t,n)}(e=Zr(e),t,n)},pe.invoke=so,pe.isArguments=wr,pe.isArray=_r,pe.isArrayBuffer=kr,pe.isArrayLike=xr,pe.isArrayLikeObject=Sr,pe.isBoolean=function(e){return!0===e||!1===e||Ar(e)&&et(e)==pa},pe.isBuffer=Er,pe.isDate=Or,pe.isElement=function(e){return Ar(e)&&1===e.nodeType&&!Dr(e)},pe.isEmpty=function(e){if(null==e)return!0;if(xr(e)&&(_r(e)||"string"==typeof e||"function"==typeof e.splice||Er(e)||Br(e)||wr(e)))return!e.length;var t=Nn(e);if(t==ba||t==Sa)return!e.size;if(Qn(e))return!ft(e).length;for(var n in e)if(w.call(e,n))return!1;return!0},pe.isEqual=function(e,t){return st(e,t)},pe.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:ia)?n(e,t):ia;return i===ia?st(e,t,ia,n):!!i},pe.isError=Cr,pe.isFinite=function(e){return"number"==typeof e&&H(e)},pe.isFunction=Tr,pe.isInteger=Pr,pe.isLength=Ir,pe.isMap=Mr,pe.isMatch=function(e,t){return e===t||lt(e,t,Bn(t))},pe.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ia,lt(e,t,Bn(t),n)},pe.isNaN=function(e){return Rr(e)&&e!=+e},pe.isNative=function(e){if(Jn(e))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ut(e)},pe.isNil=function(e){return null==e},pe.isNull=function(e){return null===e},pe.isNumber=Rr,pe.isObject=jr,pe.isObjectLike=Ar,pe.isPlainObject=Dr,pe.isRegExp=Lr,pe.isSafeInteger=function(e){return Pr(e)&&-la<=e&&e<=la},pe.isSet=Fr,pe.isString=$r,pe.isSymbol=zr,pe.isTypedArray=Br,pe.isUndefined=function(e){return e===ia},pe.isWeakMap=function(e){return Ar(e)&&Nn(e)==Ca},pe.isWeakSet=function(e){return Ar(e)&&"[object WeakSet]"==et(e)},pe.join=function(e,t){return null==e?"":N.call(e,t)},pe.kebabCase=ko,pe.last=Ci,pe.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==ia&&(r=(r=Wr(n))<0?V(i+r,0):Z(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):Gs(e,Qs,r,!0)},pe.lowerCase=xo,pe.lowerFirst=So,pe.lt=qr,pe.lte=Ur,pe.max=function(e){return e&&e.length?Ne(e,Do,tt):ia},pe.maxBy=function(e,t){return e&&e.length?Ne(e,$n(t,2),tt):ia},pe.mean=function(e){return el(e,Do)},pe.meanBy=function(e,t){return el(e,$n(t,2))},pe.min=function(e){return e&&e.length?Ne(e,Do,ht):ia},pe.minBy=function(e,t){return e&&e.length?Ne(e,$n(t,2),ht):ia},pe.stubArray=Zo,pe.stubFalse=Ko,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=ea,pe.nth=function(e,t){return e&&e.length?yt(e,Wr(t)):ia},pe.noConflict=function(){return Ts._===this&&(Ts._=_),this},pe.noop=Bo,pe.now=ir,pe.pad=function(e,t,n){e=Yr(e);var i=(t=Wr(t))?yl(e):0;if(!t||t<=i)return e;var r=(t-i)/2;return wn(B(r),n)+e+wn(z(r),n)},pe.padEnd=function(e,t,n){e=Yr(e);var i=(t=Wr(t))?yl(e):0;return t&&i<t?e+wn(t-i,n):e},pe.padStart=function(e,t,n){e=Yr(e);var i=(t=Wr(t))?yl(e):0;return t&&i<t?wn(t-i,n)+e:e},pe.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,Y(Yr(e).replace(ts,""),t||0)},pe.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Yn(e,t,n)&&(t=n=ia),n===ia&&("boolean"==typeof t?(n=t,t=ia):"boolean"==typeof e&&(n=e,e=ia)),e===ia&&t===ia?(e=0,t=1):(e=Nr(e),t===ia?(t=e,e=0):t=Nr(t)),t<e){var i=e;e=t,t=i}if(n||e%1||t%1){var r=G();return Z(e+r*(t-e+Os("1e-"+((r+"").length-1))),t)}return xt(e,t)},pe.reduce=function(e,t,n){var i=_r(e)?Vs:nl,r=arguments.length<3;return i(e,$n(t,4),n,r,qe)},pe.reduceRight=function(e,t,n){var i=_r(e)?Zs:nl,r=arguments.length<3;return i(e,$n(t,4),n,r,Ue)},pe.repeat=function(e,t,n){return t=(n?Yn(e,t,n):t===ia)?1:Wr(t),St(Yr(e),t)},pe.replace=function(){var e=arguments,t=Yr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pe.result=function(e,t,n){var i=-1,r=(t=Kt(t,e)).length;for(r||(r=1,e=ia);++i<r;){var o=null==e?ia:e[pi(t[i])];o===ia&&(i=r,o=n),e=Tr(o)?o.call(e):o}return e},pe.round=ta,pe.runInContext=e,pe.sample=function(e){return(_r(e)?Oe:Ot)(e)},pe.size=function(e){if(null==e)return 0;if(xr(e))return $r(e)?yl(e):e.length;var t=Nn(e);return t==ba||t==Sa?e.size:ft(e).length},pe.snakeCase=Eo,pe.some=function(e,t,n){var i=_r(e)?Ks:Mt;return n&&Yn(e,t,n)&&(t=ia),i(e,$n(t,3))},pe.sortedIndex=function(e,t){return Rt(e,t)},pe.sortedIndexBy=function(e,t,n){return Dt(e,t,$n(n,2))},pe.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Rt(e,t);if(i<n&&gr(e[i],t))return i}return-1},pe.sortedLastIndex=function(e,t){return Rt(e,t,!0)},pe.sortedLastIndexBy=function(e,t,n){return Dt(e,t,$n(n,2),!0)},pe.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Rt(e,t,!0)-1;if(gr(e[n],t))return n}return-1},pe.startCase=Oo,pe.startsWith=function(e,t,n){return e=Yr(e),n=null==n?0:Le(Wr(n),0,e.length),t=$t(t),e.slice(n,n+t.length)==t},pe.subtract=na,pe.sum=function(e){return e&&e.length?il(e,Do):0},pe.sumBy=function(e,t){return e&&e.length?il(e,$n(t,2)):0},pe.template=function(a,e,t){var n=pe.templateSettings;t&&Yn(a,e,t)&&(e=ia),a=Yr(a),e=Jr({},e,n,Tn);var s,l,i=Jr({},e.imports,n.imports,Tn),r=lo(i),o=al(i,r),u=0,c=e.interpolate||ms,f="__p += '",d=g((e.escape||ms).source+"|"+c.source+"|"+(c===Ka?ls:ms).source+"|"+(e.evaluate||ms).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xs+"]")+"\n";a.replace(d,function(e,t,n,i,r,o){return n=n||i,f+=a.slice(u,o).replace(gs,dl),t&&(s=!0,f+="' +\n__e("+t+") +\n'"),r&&(l=!0,f+="';\n"+r+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),f+="';\n";var p=e.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(l?f.replace(za,""):f).replace(Ba,"$1").replace(qa,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Io(function(){return m(r,h+"return "+f).apply(ia,o)});if(v.source=f,Cr(v))throw v;return v},pe.times=function(e,t){if((e=Wr(e))<1||la<e)return[];var n=ca,i=Z(e,ca);t=$n(t),e-=ca;for(var r=rl(i,t);++n<e;)t(n);return r},pe.toFinite=Nr,pe.toInteger=Wr,pe.toLength=Vr,pe.toLower=function(e){return Yr(e).toLowerCase()},pe.toNumber=Zr,pe.toSafeInteger=function(e){return e?Le(Wr(e),-la,la):0===e?e:0},pe.toString=Yr,pe.toUpper=function(e){return Yr(e).toUpperCase()},pe.trim=function(e,t,n){if((e=Yr(e))&&(n||t===ia))return e.replace(es,"");if(!e||!(t=$t(t)))return e;var i=bl(e),r=bl(t);return Gt(i,ll(i,r),ul(i,r)+1).join("")},pe.trimEnd=function(e,t,n){if((e=Yr(e))&&(n||t===ia))return e.replace(ns,"");if(!e||!(t=$t(t)))return e;var i=bl(e);return Gt(i,0,ul(i,bl(t))+1).join("")},pe.trimStart=function(e,t,n){if((e=Yr(e))&&(n||t===ia))return e.replace(ts,"");if(!e||!(t=$t(t)))return e;var i=bl(e);return Gt(i,ll(i,bl(t))).join("")},pe.truncate=function(e,t){var n=30,i="...";if(jr(t)){var r="separator"in t?t.separator:r;n="length"in t?Wr(t.length):n,i="omission"in t?$t(t.omission):i}var o=(e=Yr(e)).length;if(hl(e)){var a=bl(e);o=a.length}if(o<=n)return e;var s=n-yl(i);if(s<1)return i;var l=a?Gt(a,0,s).join(""):e.slice(0,s);if(r===ia)return l+i;if(a&&(s+=l.length-s),Lr(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=g(r.source,Yr(us.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var f=u.index;l=l.slice(0,f===ia?s:f)}}else if(e.indexOf($t(r),s)!=s){var d=l.lastIndexOf(r);-1<d&&(l=l.slice(0,d))}return l+i},pe.unescape=function(e){return(e=Yr(e))&&Na.test(e)?e.replace(Ua,wl):e},pe.uniqueId=function(e){var t=++d;return Yr(e)+t},pe.upperCase=Co,pe.upperFirst=To,pe.each=Yi,pe.eachRight=Gi,pe.first=xi,zo(pe,(Qo={},Ye(pe,function(e,t){w.call(pe.prototype,t)||(Qo[t]=e)}),Qo),{chain:!1}),pe.VERSION="4.17.11",$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pe[e].placeholder=pe}),$s(["drop","take"],function(n,i){be.prototype[n]=function(e){e=e===ia?1:V(Wr(e),0);var t=this.__filtered__&&!i?new be(this):this.clone();return t.__filtered__?t.__takeCount__=Z(e,t.__takeCount__):t.__views__.push({size:Z(e,ca),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),$s(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:$n(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),$s(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),$s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Do)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=Et(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return ot(e,t,n)})}),be.prototype.reject=function(e){return this.filter(dr($n(e)))},be.prototype.slice=function(e,t){e=Wr(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ia&&(n=(t=Wr(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(ca)},Ye(be.prototype,function(f,e){var d=/^(?:filter|find|map|reject)|While$/.test(e),h=/^(?:head|last)$/.test(e),p=pe[h?"take"+("last"==e?"Right":""):e],v=h||/^find/.test(e);p&&(pe.prototype[e]=function(){function e(e){var t=p.apply(pe,Ws([e],n));return h&&a?t[0]:t}var t=this.__wrapped__,n=h?[1]:arguments,i=t instanceof be,r=n[0],o=i||_r(t);o&&d&&"function"==typeof r&&1!=r.length&&(i=o=!1);var a=this.__chain__,s=!!this.__actions__.length,l=v&&!a,u=i&&!s;if(v||!o)return l&&u?f.apply(this,n):(c=this.thru(e),l?h?c.value()[0]:c.value():c);t=u?t:new be(this);var c=f.apply(t,n);return c.__actions__.push({func:Ni,args:[e],thisArg:ia}),new ye(c,a)})}),$s(["pop","push","shift","sort","splice","unshift"],function(e){var n=a[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);pe.prototype[e]=function(){var t=arguments;if(!r||this.__chain__)return this[i](function(e){return n.apply(_r(e)?e:[],t)});var e=this.value();return n.apply(_r(e)?e:[],t)}}),Ye(be.prototype,function(e,t){var n=pe[t];if(n){var i=n.name+"";(oe[i]||(oe[i]=[])).push({name:t,func:n})}}),oe[mn(ia,2).name]=[{name:"wrapper",func:ia}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=on(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=on(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=on(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=_r(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Z(t,e+a);break;case"takeRight":e=V(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=Z(l,this.__takeCount__);if(!n||!i&&r==l&&h==l)return Ht(e,this.__actions__);var p=[];e:for(;l--&&d<h;){for(var v=-1,m=e[u+=t];++v<f;){var g=c[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[d++]=m}return p},pe.prototype.at=Wi,pe.prototype.chain=function(){return Hi(this)},pe.prototype.commit=function(){return new ye(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===ia&&(this.__values__=Hr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ia:this.__values__[this.__index__++]}},pe.prototype.plant=function(e){for(var t,n=this;n instanceof ge;){var i=mi(n);i.__index__=0,i.__values__=ia,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},pe.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Ni,args:[ji],thisArg:ia}),new ye(t,this.__chain__)}return this.thru(ji)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Ht(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,M&&(pe.prototype[M]=function(){return this}),pe}();Ts._=_l,(H=function(){return _l}.call(N,W,N,U))===ia||(U.exports=H)}).call(this)}).call(this,W(1),W(41)(e))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.impTag=e,this.iid=this.impTag.iid,r.default.Utils.extend(this,t),this._init()}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(n,[{key:"_init",value:function(){}},{key:"onLoad",value:function(){}},{key:"html",value:function(){}}]),n}();r.default.CreativeTag=a},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(2);var c=function(){function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}(this,s(i).call(this,e))).settings=e,t.iid=r.default.Utils.generateIID(),t.ad=t.settings.ad,t.responsive=t.settings.responsive,t.vpaid=t.settings.vpaid,r.default.Console.log("Initializing Panel: %o",t.settings);var n=t.responsive?"ResponsiveScreen":"HtmlScreen";return t.screens=t.settings.screens.map(function(e){return e.ad=t.ad,new r.default[n](u(u(t)),e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,r.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"setup",value:function(){var e,t;null===(e=this._render)||void 0===e||e.call(this),this.ad.canvasMode||(null===(t=this._delegateEvents)||void 0===t||t.call(this));return this._setup()}},{key:"_setup",value:function(){return Promise.resolve(!0)}},{key:"getHomeScreen",value:function(){return this.getScreen("home")}},{key:"getScreen",value:function(t){return this.screens.filter(function(e){return e.iid===t})[0]}},{key:"getTransitionScreens",value:function(){return this.screens.map(function(e){var t,n,i,r,o=null===(t=e.animationSettings)||void 0===t?void 0:null===(n=t.navigation)||void 0===n?void 0:n.toScreen,a=null===(i=e.animationSettings)||void 0===i?void 0:null===(r=i.navigation)||void 0===r?void 0:r.disabled;return o&&"none"!==o&&!a?o:null}).filter(function(e){return!!e})}}]),i}();r.default.AdPanel=c},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(2);var c=function(){function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}(this,s(i).call(this,e,t))).panel=e,r.default.Console.log("Initializing Screen %o from %o",u(u(n)),t),r.default.Utils.extend(u(u(n)),t),n.ad=n.panel.ad,n._initElementContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,r.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"getId",value:function(){return this.iid}},{key:"getName",value:function(){return this.name}},{key:"getUniqueTrackingKey",value:function(){return"screen-".concat(this.getTrackingKey())}},{key:"getElement",value:function(e){for(var t=null,n=0;n<this.elements.length;n+=1){var i=this.elements[n];if(i.iid===e){t=i;break}}return t}},{key:"isBusy",value:function(){for(var e=this.getFeatureComponents(),t=0;t<e.length;t+=1){if(e[t].component.isBusy())return!0}return!1}},{key:"load",value:function(){}}]),i}();c.extend(r.default.ElementContainer),r.default.Screen=c},function(e,t,n){(function(e){var t,n;function i(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Browser=(i.supportedAndroid=function(e){var t,n,i,r,o;if(t=/Android (\d+(?:\.\d+)?).*;/,i=e.match(t)){if(o=i[1].split("."),n=parseInt(o[0],10),r=o[1]?parseInt(o[1]):0,2===n&&2<r)return!0;if(4<=n)return!0}return!1},i.detect=function(n){var e,t,i,r,o,a,s,l,u;return null==n&&(n=navigator.userAgent),o=null!=(a=n.match(/(ipod|iphone|ipad)/i))&&null!=(s=a[1])?s.toLowerCase():void 0,e=/android/i.test(n),u=(r=function(e){var t;return t=n.match(e),parseFloat(null!=t?t[1]:void 0)||""})(/version\/(\d+(\.\d+)?)/i),t=/chrome.+? edge/i.test(n)?{msedge:!0,version:r(/edge\/(\d+(\.\d+)?)/i)}:/chrome|crmo|spotify|crios/i.test(n)?{chrome:!0,version:r(/(?:chrome|crmo|spotify)\/(\d+(\.\d+)?)/i)}:/firefox/i.test(n)?{firefox:!0,version:r(/(?:firefox)[ \/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(n)?(i={msie:!0,version:l=r(/(?:msie |rv:)(\d+(\.\d+)?)/i)},l<10&&(i.unsupported=!0),i):/phantom/i.test(n)?{phantom:!0}:/safari/i.test(n)&&!/android/i.test(n)?{safari:!0,version:u,unsupported:u<5.2}:void 0,o?(null==t&&(t={}),t.ios=!0,t.iosVersion=u,delete t.unsupported,t.mobile=!0):e&&(null==t&&(t={}),t.android=!0,t.androidVersion=r(/android (\d+(\.\d+)?)/i),t.mobile=!0,this.supportedAndroid(n)||(t.unsupported=!0)),null==t&&(t={unsupported:!0}),t},n=i.detect(),i.supported=function(){return!0},i.isAndroidSupported=function(){return n.android&&this.supportedAndroid(navigator.userAgent)},i.isAndroidGingerbread=function(){return n.android&&2.3<=n.androidVersion&&n.androidVersion<3},i.isAndroidIceCreamSandwich=function(){return n.android&&4<=n.androidVersion&&n.androidVersion<4.1},i.isAndroidJellyBean=function(){return n.android&&4.1<=n.androidVersion&&n.androidVersion<4.4},i.isAndroidLollipop=function(){return n.android&&5<=n.androidVersion&&n.androidVersion<6},i.isAndroid=function(){return n.android},i.isiOS=function(){return n.ios},i.isIE8=function(){return n.msie&&8==+n.version},i.isIE9=function(){return n.msie&&9==+n.version},i.isIE10=function(){return n.msie&&10==+n.version},i.isIE11=function(){return n.msie&&11==+n.version},i.isIE9Below=function(){return n.msie&&+n.version<=9},i.isIE10Below=function(){return n.msie&&+n.version<=10},i.isIE=function(){return n.msie},i.isiOS5=function(){return n.ios&&5==+n.iosVersion},i.isMobile=function(){return n.android||n.ios||/tablet|[^-]mobi/i.test(navigator.userAgent)},i.isChrome=function(){return n.chrome},i.isFirefox=function(){return n.firefox},i.isSafari=function(){return n.safari},i.isPhantom=function(){return n.phantom},i.isWindowsSafari=function(){return/Windows.*AppleWebKit.*Safari/.test(navigator.userAgent)&&!/Chrome|Spotify/.test(navigator.userAgent)},i.supportsFullscreen=function(){return!this.isIE()&&!this.isWindowsSafari()},i.supportsSrcdoc=function(){return!this.isSafari()&&!this.isChrome()},i.supportsLinkOnload=function(){return!(n.android&&!n.chrome||n.safari&&n.version<6)},i.detectsSrcdoc=function(){return"about:srcdoc"===window.location.href},i)}).call(this,n(1))},function(e,t,n){(function(e){var t;function n(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Cookie=(n.createCookie=function(e,t,n){var i,r;return null==n&&(n=24),navigator.cookieEnabled?((i=new Date).setTime(i.getTime()+60*parseInt(n)*60*1e3),r="; expires="+i.toGMTString(),document.cookie=e+"="+t+r+"; path=/"):null},n.readCookie=function(e){var t,n,i,r,o;if(!navigator.cookieEnabled)return null;for(o=e+"=",i=0,r=(n=document.cookie.split(";")).length;i<r;i++)if(" "===(t=n[i])[0]&&(t=t.substring(1,t.length)),0===t.indexOf(o))return t.substring(o.length,t.length);return null},n)}).call(this,n(1))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(a,null,[{key:"isEnabled",value:function(){return a.ENABLED}},{key:"log",value:function(e){if(a.ENABLED&&window.console)if(window.console.log.apply){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=window.console).log.apply(t,[e].concat(i))}else window.console.log(e)}},{key:"debug",value:function(e){if(a.ENABLED&&window.console){for(var t,n,i=arguments.length,r=new Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(null===(t=window.console.debug)||void 0===t?void 0:t.apply)(n=window.console).debug.apply(n,[e].concat(r));else a.log.apply(a,[e].concat(r))}}},{key:"pad",value:function(e,t){for(var n=e||"";n.length<t;)n+=" ";return n}},{key:"groupCollapsedSupported",value:function(){try{var e,t;return null!=(null===(e=window.console)||void 0===e?void 0:null===(t=e.groupCollapsed)||void 0===t?void 0:t.apply)}catch(e){return!1}}},{key:"group",value:function(e){if(a.ENABLED){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;if(this.groupCollapsedSupported())(r=window.console).groupCollapsed.apply(r,[e].concat(n));else a.log.apply(a,[e].concat(n))}}},{key:"groupEnd",value:function(){var e;a.ENABLED&&(null===(e=window.console)||void 0===e?void 0:e.groupEnd)&&window.console.groupEnd()}}]),a}();a.ENABLED=function(){try{var e;return!!(null===(e=r.default.Cookie)||void 0===e?void 0:e.readCookie("_console_logging"))}catch(e){return!1}}(),r.default.Console=a},function(e,t,n){"use strict";var s,l,a=[].slice;function i(){}l=null!=window.spongecell?window.spongecell:window.spongecell={},s=null!=l.requestMap?l.requestMap:l.requestMap={},l.Net=(i.getParentLocation=function(e,t){return null==t&&(t=0),"about:"===e.location.protocol&&e.parent&&t<5?this.getParentLocation(e.parent,t+1):e.location},i.isSSL=function(){var e;return!(location.host&&(0<=location.host.indexOf("localhost")||0<=location.host.indexOf("127.0.0.1"))||"https:"!==(null!=(e=this.getParentLocation(window))?e.protocol:void 0))},i.isHttp=function(e){return!!/^https?\:\/\//i.test(e)},i.isHttpEncoded=function(e){return/^https?\%3a\%2f\%2f/i.test(e)},i.encode=function(e){return e?encodeURIComponent(e):null},i.writeRequest=function(n){var i;return i=this,new Promise(function(e,t){return l.Browser.isIE9Below()?i.writeScript(n,e,t):i.ajax(n,e,t)})},i.writeScript=function(e,t,n,i,r){var o,a;if(null==r&&(r=null),r=null!=r?r:document,this.isSSL()&&(e=e.replace(/^http:\/\//,"https://")),null!=t){if(e+=0<e.indexOf("?")?"&":"?",s[e])return this.nestCallbackFn(s[e],t);e+="callback="+(s[e]=l.Broker.registerCallbackFn(t))}return(a=r.createElement("script")).defer=a.async=!0,a.src=e,null!=n&&(a.onload=n),a.onerror=null!=i?i:null!=n?n:void 0,(null!=(o=l.Browser)?o.isIE8():void 0)&&(a.onreadystatechange=function(){if("loaded"===this.readyState)return n()}),r.getElementsByTagName("head")[0].appendChild(a)},i.ajax=function(e,n,i,t,r,o,a){var s,l,u,c;if(null==t&&(t=!1),null==r&&(r={}),null==a&&(a=!0),null==o&&(o="function"==typeof(s="undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest?XMLHttpRequest:ActiveXObject)?new s("MSXML2.XMLHTTP.3.0"):void 0),!o)return this.writeScript.apply(this,arguments);if(u=setTimeout(function(){return o.abort(),i({error:"AJAX request timed out"})},2e3),o.withCredentials=a,o.onreadystatechange=function(){var e,t;if(!(o.readyState<4)){clearTimeout(u);try{e=JSON.parse(o.responseText)}catch(e){return i({error:e})}switch(t=o.status){case 200:return n(e,o);default:return i({error:"AJAX request responded with a "+t})}}},o.open("GET",e,!0),o.setRequestHeader){for(l in r)c=r[l],o.setRequestHeader(l,c);t&&o.setRequestHeader("X-Requested-With","XMLHttpRequest")}return o.send(""),o},i.ajaxWithoutCredentials=function(e,t,n){return this.ajax(e,t,n,!1,{},void 0,!1)},i.getParam=function(e,t,n){var i;return null==n&&(n="&"),null!=(i=this.getParams(t,n)[e])?i:""},i.getParams=function(e,t){var n,i,r,o,a;for(o={},n=0,r=(a=e.split(t)).length;n<r;n++)2===(i=a[n].split("=")).length&&(o[i[0]]=i[1]);return o},i.appendQueryParamsToUrl=function(){var e,t,n,i,r,o;for(o=arguments[0],e=0,t=(i=2<=arguments.length?a.call(arguments,1):[]).length;e<t;e++)0!==(null!=(n=i[e])?n.length:void 0)&&(n=n.replace(/^[?&]*(.*?)&?$/,"$1"),r=-1<o.indexOf("?")?"&":"?",o+=r+n);return o},i.nestCallbackFn=function(e,i){var t,r;return t=e.split(".").pop(),r=l.callbacks[t],l.callbacks[t]=function(){var e,t,n;for(t in e=[],arguments)n=arguments[t],e[t]="object"==typeof n?l.Utils.extend({},n):n;r.apply(null,arguments),i.apply(null,e)}},i.scrubTargeting=function(e,t){var n;return"ysa"===e&&(n=decodeURIComponent(t).match(/yud=(.*)/))?n[1]:t},i.preloadImage=function(i){return new Promise(function(e,t){var n;null==t&&(t=function(){}),(n=new Image).src=i,n.addEventListener("load",e),n.addEventListener("error",t)})},i)},function(e,t,n){"use strict";(function(e){var t,u,n,s=[].slice;function i(){}t="undefined"!=typeof window&&null!==window?window:e,(u=null!=t.spongecell?t.spongecell:t.spongecell={}).Utils=(n=new RegExp('^(http|https)://[^ "]+$'),i.intervals={},i.extend=function(e){var t,n,i,r,o,a;if(1<arguments.length)for(i=0,r=(t=Array.prototype.slice.call(arguments,1,arguments.length)).length;i<r;i++)if("object"==typeof(o=t[i]))for(n in o)a=o[n],e[n]=a;return e},i.generateIID=function(){return"xxxx-xxxx-Axxx-xxxx".replace(/x/g,function(e){return new Number(36*Math.random()|0).toString(36)})},i.generateElementIID=function(){return"xxxxxxxx".replace(/x/g,function(e){return new Number(36*Math.random()|0).toString(36)})},i.getUrl=function(e){return u.Utils.isString(e)?e:u.Utils.isObject(e)?u.Net.isSSL()?null!=e?e.ssl:void 0:null!=e?e.no_ssl:void 0:void 0},i.convertUrls=function(e,t){var n,i,r,o,a,s,l;if(t){for(o=[],i=0,r=t.length;i<r;i++)null!=(s=e[n=t[i]])?o.push(e[n]=u.Utils.getUrl(s)):o.push(void 0);return o}for(n in a=[],e)null!=(l=e[n])?a.push(e[n]=u.Utils.getUrl(l)):a.push(void 0);return a},i.toQueryString=function(e){var t,n,i;if(n=[],null!=e)for(t in e)i=e[t],n.push(t+"="+i);return n.join("&")},i.toCamelCase=function(e){return e.toLowerCase().replace(/_(.)/g,function(e,t){return t.toUpperCase()})},i.toDashCase=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},i.isFunction=function(e){return"function"==typeof e},i.isObject=function(e){return"object"==typeof e},i.isString=function(e){return"string"==typeof e},i.compact=function(e){var t,n,i,r;for(null==e&&(e=[]),t=[],n=0,i=e.length;n<i;n++)(r=e[n])&&t.push(r);return t},i.shuffle=function(e){var t,n,i;for(t=e.length;0<--t;)i=e[n=~~(Math.random()*(t+1))],e[n]=e[t],e[t]=i;return e},i.random=function(e){return null==e&&(e=1e9),Math.floor(Math.random()*e)},i.keys=function(e){var t,n;for(t in n=[],e)e[t],e.hasOwnProperty(t)&&n.push(t);return n},i.include=function(e,t){return-1!==e.join("|").indexOf(t)},i.isUrl=function(e){return n.test(e)},i.debounce=function(i,r,o){var a;return a=null,function(){var e,t,n;return e=1<=arguments.length?s.call(arguments,0):[],n=this,t=function(){return o||i.apply(n,e),a=null},a?clearTimeout(a):o&&i.apply(n,e),a=setTimeout(t,r||100)}},i.setInterval=function(e,t,n){var i,r,o,a,s,l;return r=this.random(),o=this,s=n,l=r,i=function(){if(o.intervals[l])return!1;if(void 0===s||0<s--){setTimeout(i,a);try{e.call(null)}catch(e){throw s=0,e.toString()}}},setTimeout(i,a=t),r},i.clearInterval=function(e){return this.intervals[e]=1},i)}).call(this,n(1))},function(e,t,n){(function(e){var t,d;function n(){}t="undefined"!=typeof window&&null!==window?window:e,(d=null!=t.spongecell?t.spongecell:t.spongecell={}).Expansion=(n.getWindow=function(){var e;return this.allowedAccessToTop()?null!=t&&null!=(e=t.top)?e:window:null!=t?t:window},n.getDocument=function(e){return null==e&&(e="expandable"),this.inIframe()&&"overlay"!==e?t.document:this.getWindow().document},n.documentDimensions=function(){var e,t;return d.Browser.isMobile()?{height:screen.height,width:screen.width}:(e=this.getDocument(),{height:(t=this.getWindow()).innerHeight||e.documentElement.clientHeight||e.body.clientHeight,width:t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth})},n.inIframe=function(){try{return t!==top}catch(e){return!0}},n.inFriendlyIframes=function(){try{t.top.window.whatever}catch(e){return!1}return!0},n.allowedAccessToTop=function(){return!(this.inIframe()&&!this.inFriendlyIframes()||(d.Console.log("allowed access to parent window"),0))},n.fixedPositionSupported=function(){var e,t,n,i;return i=!(n=1),(e=(t=this.getDocument()).createElement("div")).style.position="fixed",e.style.top="0px",e.style.right="0px",t.body.appendChild(e),"number"==typeof e.offsetTop&&null!==e.offsetTop&&"undefined"!==e.offsetTop&&(n=parseInt(e.offsetTop)),0===n&&(i=!0),e.parentNode.removeChild(e),i},n.panelLargerThanWindow=function(e){var t,n,i;return t=(i=this.getWindow()).innerHeight?i.document.documentElement.clientHeight:i.document.body.scrollHeight,n=i.innerWidth?i.document.documentElement.clientWidth:i.document.body.scrollWidth,t<e.height||n<e.width},n.calcPositions=function(e,t){return t.x||t.y?this.calcAbsolutePositions(e,t):this.fixedPositionSupported()?this.calcFixedPositions(e):this.calcAbsolutePositions(e)},n.calcFixedPositions=function(e){var t,n,i,r,o,a,s,l;return this.getDocument(),this.getWindow(),i=e.height,a=e.width,t=this.documentDimensions().height,n=this.documentDimensions().width,o=(t-i)/2-1,l=this.panelLargerThanWindow(e)||o<0?0:o,s=(r=(n-a)/2-1)<0?0:r,d.Browser.isMobile()?["absolute",0,0]:["fixed",Math.round(s),Math.round(l)]},n.calcAbsolutePositions=function(e,t){var n,i,r,o,a,s,l,u,c,f;return null==t&&(t={}),this.getDocument(),this.getWindow(),r=e.height,u=e.width,t.x=t.x?parseInt(t.x):0,t.y=t.y?parseInt(t.y):0,n=this.documentDimensions().height,i=this.documentDimensions().width,s=(l=this.scrollPositions())[0],a=l[1]+(n-r)/2-1,f=this.panelLargerThanWindow(e)||a<0?0:a,c=(o=s+(i-u)/2-1)<0?0:o,d.Browser.isMobile()?["absolute",0,0]:["absolute",Math.round(c+t.x),Math.round(f+t.y)]},n.scrollPositions=function(){var e,t,n;return t=this.getDocument(),n=this.getWindow(),e=t.body,"number"==typeof n.pageYOffset?[n.pageXOffset,n.pageYOffset]:e&&(e.scrollLeft||e.scrollTop)?[e.scrollLeft,e.scrollTop]:t.documentElement&&(t.documentElement.scrollLeft||t.documentElement.scrollTop)?[t.documentElement.scrollLeft,t.documentElement.scrollTop]:[0,0]},n.safeFrameExpansionParams=function(e){var t,n,i,r,o,a,s,l,u,c,f,d;if(i=e.coords,l=e.initialDims,a=e.expansionDims,r=e.direction,s={push:"push"===(f=e.type)&&$sf.ext.supports()["exp-push"]},"overlay"===f)d=i.win,o=i.exp,u=(d.w-a.width)/2,c=(d.h-a.height)/2,i.self,t=o.l>u?u-o.l:o.l-u,n=o.t>c?c-o.t:o.t-c,s.l=-1*t,s.r=+o.l-s.l+a.width-(+o.l+l.width),s.t=-1*n,s.b=+o.t-s.t+a.height-(+o.t+l.height);else switch(null==r&&(r="down"),r){case"left":s.l=a.width-l.width,a.height>=l.height?s.t=l.height-a.height:s.t=a.height-l.height;break;case"right":s.r=a.width-l.width,a.height>=l.height?s.t=l.height-a.height:s.t=a.height-l.height;break;case"up":s.t=l.height-a.height,a.width>=l.width?s.l=l.width-a.width:s.l=a.width-l.width;break;case"down":s.b=a.height-l.height,a.width>=l.width?s.l=l.width-a.width:s.l=a.width-l.width}return s},n)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var t;function n(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Engagement=(n.wrapperHtml=function(e){var t,n;return t=e.id,null==(n=e.zIndex)&&(n=5),'<div class="outer-wrapper" '+(t?"id="+t:"")+'\n  style="position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: '+n+';">\n</div>'},n.removeWrappers=function(e){var t,n,i,r,o,a;for(null==e&&(e=null),e?n=[document.getElementById(e)]:null==n&&(n=document.querySelectorAll(".outer-wrapper")),a=[],i=0,r=n.length;i<r;i++)t=n[i],a.push(null!=t&&null!=(o=t.parentNode)?o.removeChild(t):void 0);return a},n.onHover=function(r,e){var o,a,s,l,u,c,t,f,d,h,p,v;return l=(t=null!=e?e:{}).node,f=t.repeatInterval,l||(this.topOnHoverCallback=r,null==l&&(l=document.querySelectorAll(".wrapper")[0])),p=function(e){return o=e.pageX,a=e.pageY},c=u=h=a=o=null,d=function(e){return u=o,c=a,h=setTimeout(function(){return s(e)},200)},v=this,s=function(e){var t,n,i;return n=s.prev,null==o||null==a||null==u||null==c?d(e):(t=Math.abs(o-u)+Math.abs(a-c),i=null==n&&0===t,t<32&&!i?(null!=v.topOnHoverCallback&&(v.topOnHoverCallback(),v.topOnHoverCallback=null),l.removeEventListener("mousemove",p),r!==v.topOnHoverCallback&&(r(),s.prev=null),null!=f?h=setTimeout(function(){return s(e)},f):void 0):(s.prev=i?null:t,d(e)))},l.addEventListener("mouseenter",function(e){return u=e.pageX,c=e.pageY,l.addEventListener("mousemove",p),h=setTimeout(function(){return s(e)},200)}),l.addEventListener("mouseleave",function(e){return l.removeEventListener("mousemove",p),o=a=null,clearTimeout(h)})},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,r,n;function i(){}t="undefined"!=typeof window&&null!==window?window:e,(r=null!=t.spongecell?t.spongecell:t.spongecell={}).Event=(i.onLoad=function(e){if(!document||"complete"!==document.readyState&&"interactive"!==document.readyState)return void 0!==document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):void 0!==window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):void 0!==window.attachEvent?window.attachEvent("onload",e):void 0;setTimeout(function(){return e()},1)},i.on=function(e,t,n){return void 0!==document.addEventListener?e.addEventListener(t,n,!1):void 0!==document.attachEvent?e.attachEvent("on"+t,n):void 0},i.addMessageListener=function(e,t){return null==t&&(t=window),null!=t.addEventListener?t.addEventListener("message",n(e),!1):null!=t.attachEvent?t.attachEvent("onmessage",n(e)):void 0},n=function(i){return function(e){var t,n;if("mocha-zero-timeout"!==e.data)try{t=JSON.parse(e.data)}catch(e){return n=e,void r.Console.debug("Iframe parse error: %o",n)}return i(t,e)}},i)}).call(this,n(1))},function(e,t,n){"use strict";var i,l=(i=n(0))&&i.__esModule?i:{default:i};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=l.default.brokerChannels||(l.default.brokerChannels={}),o=l.default.brokerClients||(l.default.brokerClients={}),a=l.default.brokerChannels||(l.default.brokerChannels={}),s=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,null,[{key:"generateId",value:function(){return"".concat(l.default.Utils.random(1e5),"_").concat(+new Date)}},{key:"putFn",value:function(e,t){a[e]=t}},{key:"externFn",value:function(t){var e="call".concat(t);return l.default.callbacks=l.default.callbacks||{},l.default.callbacks[e]=function(e){return a[t](e)},"spongecell.callbacks.".concat(e)}},{key:"registerCallbackFn",value:function(e){var n=s.generateId();return s.putFn(n,function(){e.apply(void 0,arguments);var t=l.default.requestMap;Object.keys(t).forEach(function(e){-1<t[e].indexOf(n)&&delete t[e]})}),s.externFn(n)}},{key:"getChannel",value:function(e){switch(e){case"feature":return"FeatureChannel";case"hooks":return"HooksChannel";case"loading":return"LoadingChannel";case"mraid":return"MRAIDChannel";case"nav":return"NavChannel";case"panel":return"PanelChannel";case"setup":return"SetupChannel";case"tracking":return"TrackingChannel";case"vpaid":return"VPAIDChannel";case"externalPage":return"ExternalPageChannel";default:return null}}},{key:"registerChannels",value:function(i,r,o){l.default.Console.group("Registering Channels for %s, %o",i,r);var a={};return Object.keys(r).forEach(function(e){var t=r[e],n=s.getChannel(e);null!=n&&null!=l.default[n]&&(l.default.Console.debug("Initializing Channel: %s with %o",e,t),a[e]=o.factory(n,i,t,o))}),u[i]=a,Object.keys(a).forEach(function(e){var t=a[e];l.default.Console.debug("Starting Channel: %s",e),t.start()}),l.default.Console.groupEnd(),a}},{key:"channelExists",value:function(e,t){return u[e]&&u[e][t]}},{key:"registerClient",value:function(e,t){o[e]=o[e]||[],o[e].push(t)}},{key:"clientRegistered",value:function(e){var t;return 0<(null===(t=o[e])||void 0===t?void 0:t.length)}},{key:"sendOnChannel",value:function(t,e){var n;if(t.iid&&(n=u[t.iid]),null!=n){var i=n[t.topic];null!=i&&i.send(t,e)}var r=o[t.topic];null!=r&&r.forEach(function(e){return e(t)})}}]),s}();l.default.Broker=s},function(e,t,n){"use strict";var i,o=(i=n(0))&&i.__esModule?i:{default:i};function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&s(r,n.prototype),r}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.create}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"create",value:function(t){for(var e="".concat(t).concat("Ft"),n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];try{return a(o.default[e],i)}catch(e){return a(o.default[t],i)}}}]),e}();o.default.VendorClassFactory=l},function(e,t,n){"use strict";var i;((i=n(0))&&i.__esModule?i:{default:i}).default.Tracker=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){"use strict";var i,a=(i=n(0))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(5);var c=function(){function r(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(i=s(this,l(r).call(this,e,t))).params=n,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,a.default.CreativeTag),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(r,[{key:"checkEnvironment",value:function(e){return!!this.checkBrowser()||!(e.nohtml5=!0)}},{key:"checkBrowser",value:function(){return this.platform=a.default.Browser.isMobile()?"mobile":"desktop",a.default.Browser.supported()}},{key:"sendMessage",value:function(){this._sendMessage.apply(this,arguments)}},{key:"_setupMRAIDDimensions",value:function(){var e,t,n=null===(e=window.mraid)||void 0===e?void 0:null===(t=e.getMaxSize)||void 0===t?void 0:t.call(e);n&&(this.size=this.size||{},this.size.width=n.width,this.size.height=n.height)}},{key:"_receiveMessage",value:function(e,t){function n(t,n){return function(e){return i._sendMessage({topic:t.topic,callback:t.callback,response:e,override:n})}}var i=this;if("OVERRIDE"===e.iid)this.mangled_vpaid=!0,e.iid=this.iid,a.default.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,e),a.default.Broker.sendOnChannel(e,n(e,"OVERRIDE"));else if(this.iid===e.iid){e.iid=this.iid,a.default.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,e);var r=0===t.origin.indexOf("http://localhost"),o=t.origin.match(/(\.|\/)spongecell\.com/);(this.mangled_vpaid||t.origin===this.iframeBaseUrl||r||o)&&a.default.Broker.sendOnChannel(e,n(e))}}}]),r}();a.default.StudioTag=c},function(e,t,n){n(21),n(26),n(27),n(28),n(29),n(31),n(33),n(35),n(39),n(42),n(44),n(46),n(52),n(54),n(56),n(58),n(59),n(60),n(65),n(66),n(67),n(68),n(70),n(71),n(72),e.exports=n(73)},function(t,e,n){(function(e){t.exports=e.Promise=n(22)}).call(this,n(1))},function(f,e,t){(function(t){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(i.promise,e)}a(i.promise,t)}else(1===n._state?a:s)(i.promise,n._value)})):n._deferreds.push(i)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var e,n;e=this,n=setTimeout,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(i,r){if(0===s.length)return i([]);var o=s.length;function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},r)}s[t]=e,0==--o&&i(s)}catch(e){r(e)}}for(var e=0;e<s.length;e++)a(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},f.exports?f.exports=o:e.Promise||(e.Promise=o)}).call(this,t(23).setImmediate)},function(e,r,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new i(n.call(setTimeout,t,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,t,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(t,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(24),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(1))},function(e,t,n){(function(e,p){!function(n,i){"use strict";if(!n.setImmediate){var r,o,t,a,s=1,l={},u=!1,c=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,r="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){d(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):function(e){setTimeout(d,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,r(s),s++},e.clearImmediate=f}function f(e){delete l[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}(t)}finally{f(e),u=!1}}}}function h(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(25))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(Yha,Zha){var _ha,aia,bia,cia,zia,Aia,dia,eia,fia,gia,hia,iia,jia,kia,lia,mia,nia,oia,pia,ria,sia,tia,uia,via,wia,xia,yia,Bia,Cia,Dia,wsa,$ha=(eia=(dia=[]).slice,fia=dia.filter,gia=window.document,hia={},iia={},jia={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},kia=/^\s*<(\w+|!)[^>]*>/,lia=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nia=/^(?:body|html)$/i,oia=/([A-Z])/g,pia=["val","css","html","text","data","width","height","offset"],ria=gia.createElement("table"),sia=gia.createElement("tr"),tia={tr:gia.createElement("tbody"),tbody:ria,thead:ria,tfoot:ria,td:sia,th:sia,"*":gia.createElement("div")},uia=/complete|loaded|interactive/,via=/^[\w-]*$/,xia=(wia={}).toString,yia={},Bia=gia.createElement("div"),Cia={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Dia=Array.isArray||function(e){return e instanceof Array},yia.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=Bia).appendChild(e),i=~yia.qsa(r,t).indexOf(e),o&&Bia.removeChild(e),i},zia=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},Aia=function(n){return fia.call(n,function(e,t){return n.indexOf(e)==t})},yia.fragment=function(e,t,n){var i,r,o;return lia.test(e)&&(i=bia(gia.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(mia,"<$1></$2>")),t===_ha&&(t=kia.test(e)&&RegExp.$1),t in tia||(t="*"),(o=tia[t]).innerHTML=""+e,i=bia.each(eia.call(o.childNodes),function(){o.removeChild(this)})),Jia(n)&&(r=bia(i),bia.each(n,function(e,t){-1<pia.indexOf(e)?r[e](t):r.attr(e,t)})),i},yia.Z=function(e,t){return(e=e||[]).__proto__=bia.fn,e.selector=t||"",e},yia.isZ=function(e){return e instanceof yia.Z},yia.init=function(e,t){var n;if(!e)return yia.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&kia.test(e))n=yia.fragment(e,RegExp.$1,t),e=null;else{if(t!==_ha)return bia(t).find(e);n=yia.qsa(gia,e)}else{if(Fia(e))return bia(gia).ready(e);if(yia.isZ(e))return e;if(Dia(e))n=function(e){return fia.call(e,function(e){return null!=e})}(e);else if(Iia(e))n=[e],e=null;else if(kia.test(e))n=yia.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==_ha)return bia(t).find(e);n=yia.qsa(gia,e)}}return yia.Z(n,e)},(bia=function(e,t){return yia.init(e,t)}).extend=function(t){var n,e=eia.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,i){for(aia in n)i&&(Jia(n[aia])||Dia(n[aia]))?(Jia(n[aia])&&!Jia(t[aia])&&(t[aia]={}),Dia(n[aia])&&!Dia(t[aia])&&(t[aia]=[]),e(t[aia],n[aia],i)):n[aia]!==_ha&&(t[aia]=n[aia])}(t,e,n)}),t},yia.qsa=function(e,t){var n,i="#"==t[0],r=!i&&"."==t[0],o=i||r?t.slice(1):t,a=via.test(o);return Hia(e)&&a&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:eia.call(a&&!i?r?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},bia.contains=gia.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},bia.type=Eia,bia.isFunction=Fia,bia.isWindow=Gia,bia.isArray=Dia,bia.isPlainObject=Jia,bia.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},bia.inArray=function(e,t,n){return dia.indexOf.call(t,e,n)},bia.camelCase=zia,bia.trim=function(e){return null==e?"":String.prototype.trim.call(e)},bia.uuid=0,bia.support={},bia.expr={},bia.map=function(e,t){var n,i,r,o=[];if(Kia(e))for(i=0;i<e.length;i++)null!=(n=t(e[i],i))&&o.push(n);else for(r in e)null!=(n=t(e[r],r))&&o.push(n);return function(e){return 0<e.length?bia.fn.concat.apply([],e):e}(o)},bia.each=function(e,t){var n,i;if(Kia(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(i in e)if(!1===t.call(e[i],i,e[i]))return e;return e},bia.grep=function(e,t){return fia.call(e,t)},window.JSON&&(bia.parseJSON=JSON.parse),bia.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){wia["[object "+t+"]"]=t.toLowerCase()}),bia.fn={forEach:dia.forEach,reduce:dia.reduce,push:dia.push,sort:dia.sort,indexOf:dia.indexOf,concat:dia.concat,map:function(n){return bia(bia.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return bia(eia.apply(this,arguments))},ready:function(e){return uia.test(gia.readyState)&&gia.body?e(bia):gia.addEventListener("DOMContentLoaded",function(){e(bia)},!1),this},get:function(e){return e===_ha?eia.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return dia.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return Fia(t)?this.not(this.not(t)):bia(fia.call(this,function(e){return yia.matches(e,t)}))},add:function(e,t){return bia(Aia(this.concat(bia(e,t))))},is:function(e){return 0<this.length&&yia.matches(this[0],e)},not:function(t){var n=[];if(Fia(t)&&t.call!==_ha)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):Kia(t)&&Fia(t.item)?eia.call(t):bia(t);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return bia(n)},has:function(e){return this.filter(function(){return Iia(e)?bia.contains(this,e):bia(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!Iia(e)?e:bia(e)},last:function(){var e=this[this.length-1];return e&&!Iia(e)?e:bia(e)},find:function(e){var n=this;return e?"object"==typeof e?bia(e).filter(function(){var t=this;return dia.some.call(n,function(e){return bia.contains(e,t)})}):1==this.length?bia(yia.qsa(this[0],e)):this.map(function(){return yia.qsa(this,e)}):bia()},closest:function(n,i){var r=[],o="object"==typeof n&&bia(n);return this.each(function(e,t){for(;t&&!(o?0<=o.indexOf(t):yia.matches(t,n));)t=t!==i&&!Hia(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),bia(r)},parents:function(e){for(var t=[],n=this;0<n.length;)n=bia.map(n,function(e){if((e=e.parentNode)&&!Hia(e)&&t.indexOf(e)<0)return t.push(e),e});return Tia(t,e)},parent:function(e){return Tia(Aia(this.pluck("parentNode")),e)},children:function(e){return Tia(this.map(function(){return Ria(this)}),e)},contents:function(){return this.map(function(){return eia.call(this.childNodes)})},siblings:function(e){return Tia(this.map(function(e,t){return fia.call(Ria(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return bia.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(e){var t,n;return hia[e]||(t=gia.createElement(e),gia.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),hia[e]=n),hia[e]}(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=Fia(t);if(this[0]&&!n)var i=bia(t).get(0),r=i.parentNode||1<this.length;return this.each(function(e){bia(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){var t;for(bia(this[0]).before(e=bia(e));(t=e.children()).length;)e=t.first();bia(e).append(this)}return this},wrapInner:function(r){var o=Fia(r);return this.each(function(e){var t=bia(this),n=t.contents(),i=o?r.call(this,e):r;n.length?n.wrapAll(i):t.append(i)})},unwrap:function(){return this.parent().each(function(){bia(this).replaceWith(bia(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=bia(this);(t===_ha?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return bia(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return bia(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;bia(this).empty().append(Uia(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=Uia(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(Iia(t))for(aia in t)Via(this,aia,t[aia]);else Via(this,t,Uia(this,n,e,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(e=this[0].getAttribute(t))&&t in this[0]?this[0][t]:e:_ha},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){Via(this,e)},this)})},prop:function(t,n){return t=Cia[t]||t,1 in arguments?this.each(function(e){this[t]=Uia(this,n,e,this[t])}):this[0]&&this[0][t]},data:function(e,t){var n="data-"+e.replace(oia,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?Xia(i):_ha},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=Uia(this,t,e,this.value)})):this[0]&&(this[0].multiple?bia(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(e){var t=bia(this),n=Uia(this,o,e,t.offset()),i=t.offsetParent().offset(),r={top:n.top-i.top,left:n.left-i.left};"static"==t.css("position")&&(r.position="relative"),t.css(r)});if(!this.length)return null;if(gia.documentElement!==this[0]&&!bia.contains(gia.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[zia(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(Dia(e)){if(!n)return;var i={},r=getComputedStyle(n,"");return bia.each(e,function(e,t){i[t]=n.style[zia(t)]||r.getPropertyValue(t)}),i}}var o="";if("string"==Eia(e))t||0===t?o=Nia(e)+":"+Pia(e,t):this.each(function(){this.style.removeProperty(Nia(e))});else for(aia in e)e[aia]||0===e[aia]?o+=Nia(aia)+":"+Pia(aia,e[aia])+";":this.each(function(){this.style.removeProperty(Nia(aia))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(bia(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&dia.some.call(this,function(e){return this.test(Wia(e))},Oia(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){cia=[];var t=Wia(this);Uia(this,n,e,t).split(/\s+/g).forEach(function(e){bia(this).hasClass(e)||cia.push(e)},this),cia.length&&Wia(this,t+(t?" ":"")+cia.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===_ha)return Wia(this,"");cia=Wia(this),Uia(this,t,e,cia).split(/\s+/g).forEach(function(e){cia=cia.replace(Oia(e)," ")}),Wia(this,cia.trim())}})},toggleClass:function(n,i){return n?this.each(function(e){var t=bia(this);Uia(this,n,e,Wia(this)).split(/\s+/g).forEach(function(e){(i===_ha?!t.hasClass(e):i)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===_ha?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===_ha?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=nia.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(bia(e).css("margin-top"))||0,n.left-=parseFloat(bia(e).css("margin-left"))||0,i.top+=parseFloat(bia(t[0]).css("border-top-width"))||0,i.left+=parseFloat(bia(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||gia.body;e&&!nia.test(e.nodeName)&&"static"==bia(e).css("position");)e=e.offsetParent;return e})}},bia.fn.detach=bia.fn.remove,["width","height"].forEach(function(i){var r=i.replace(/./,function(e){return e[0].toUpperCase()});bia.fn[i]=function(t){var e,n=this[0];return t===_ha?Gia(n)?n["inner"+r]:Hia(n)?n.documentElement["scroll"+r]:(e=this.offset())&&e[i]:this.each(function(e){(n=bia(this)).css(i,Uia(this,t,e,n[i]()))})}}),["after","prepend","before","append"].forEach(function(t,a){var s=a%2;bia.fn[t]=function(){var n,i,r=bia.map(arguments,function(e){var t=[];return"array"==(n=Eia(e))?(e.forEach(function(e){return e.nodeType!==_ha?t.push(e):bia.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(yia.fragment(e)))}),t):"object"==n||null==e?e:yia.fragment(e)}),o=1<this.length;return r.length<1?this:this.each(function(e,t){i=s?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var n=bia.contains(gia.documentElement,i);r.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return bia(e).remove();i.insertBefore(e,t),n&&function e(t,n){n(t);for(var i=0,r=t.childNodes.length;i<r;i++)e(t.childNodes[i],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t.eval.call(t,e.innerHTML)}})})})},bia.fn[s?t+"To":"insert"+(a?"Before":"After")]=function(e){return bia(e)[t](this),this}}),yia.Z.prototype=bia.fn,yia.uniq=Aia,yia.deserializeValue=Xia,bia.zepto=yia,bia);function Eia(e){return null==e?String(e):wia[xia.call(e)]||"object"}function Fia(e){return"function"==Eia(e)}function Gia(e){return null!=e&&e==e.window}function Hia(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function Iia(e){return"object"==Eia(e)}function Jia(e){return Iia(e)&&!Gia(e)&&Object.getPrototypeOf(e)==Object.prototype}function Kia(e){var t=!!e&&"length"in e&&e.length,n=bia.type(e);return"function"!=n&&!Gia(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function Nia(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Oia(e){return e in iia?iia[e]:iia[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function Pia(e,t){return"number"!=typeof t||jia[Nia(e)]?t:t+"px"}function Ria(e){return"children"in e?eia.call(e.children):bia.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function Tia(e,t){return null==t?bia(e):bia(e).filter(t)}function Uia(e,t,n,i){return Fia(t)?t.call(e,n,i):t}function Via(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function Wia(e,t){var n=e.className||"",i=n&&n.baseVal!==_ha;if(t===_ha)return i?n.baseVal:n;i?n.baseVal=t:e.className=t}function Xia(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?bia.parseJSON(t):t):t}catch(e){return t}}window.Zepto=$ha,void 0===window.$&&(window.$=$ha),function(c){function u(e){return"string"==typeof e}var f,t=1,d=Array.prototype.slice,h=c.isFunction,p={},o={},n="onfocusin"in window,i={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"};function m(e){return e._zid||(e._zid=t++)}function a(e,t,n,i){if((t=g(t)).ns)var r=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(t.ns);return(p[m(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!n||m(e.fn)===m(n))&&(!i||e.sel==i)})}function g(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function y(e,t){return e.del&&!n&&e.e in i||!!t}function b(e){return v[e]||n&&i[e]||e}function w(r,e,t,o,a,s,l){var n=m(r),u=p[n]||(p[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return c(document).ready(t);var n=g(e);n.fn=t,n.sel=a,n.e in v&&(t=function(e){var t=e.relatedTarget;if(!t||t!==this&&!c.contains(this,t))return n.fn.apply(this,arguments)});var i=(n.del=s)||t;n.proxy=function(e){if(!(e=x(e)).isImmediatePropagationStopped()){e.data=o;var t=i.apply(r,e._args==f?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=u.length,u.push(n),"addEventListener"in r&&r.addEventListener(b(n.e),n.proxy,y(n,l))})}function _(t,e,n,i,r){var o=m(t);(e||"").split(/\s/).forEach(function(e){a(t,e,n,i).forEach(function(e){delete p[o][e.i],"removeEventListener"in t&&t.removeEventListener(b(e.e),e.proxy,y(e,r))})})}o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",c.event={add:w,remove:_},c.proxy=function(e,t){var n=2 in arguments&&d.call(arguments,2);if(h(e)){function i(){return e.apply(t,n?n.concat(d.call(arguments)):arguments)}return i._zid=m(e),i}if(u(t))return n?(n.unshift(e[t],e),c.proxy.apply(null,n)):c.proxy(e[t],e);throw new TypeError("expected function")},c.fn.bind=function(e,t,n){return this.on(e,t,n)},c.fn.unbind=function(e,t){return this.off(e,t)},c.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var s=function(){return!0},k=function(){return!1},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function x(i,r){return!r&&i.isDefaultPrevented||(r=r||i,c.each(e,function(e,t){var n=r[e];i[e]=function(){return this[t]=s,n&&n.apply(r,arguments)},i[t]=k}),i.timeStamp||(i.timeStamp=Date.now()),(r.defaultPrevented!==f?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(i.isDefaultPrevented=s)),i}function S(e){var t,n={originalEvent:e};for(t in e)r.test(t)||e[t]===f||(n[t]=e[t]);return x(n,e)}c.fn.delegate=function(e,t,n){return this.on(t,e,n)},c.fn.undelegate=function(e,t,n){return this.off(t,e,n)},c.fn.live=function(e,t){return c(document.body).delegate(this.selector,e,t),this},c.fn.die=function(e,t){return c(document.body).undelegate(this.selector,e,t),this},c.fn.on=function(t,r,n,o,a){var s,l,i=this;return t&&!u(t)?(c.each(t,function(e,t){i.on(e,r,n,t,a)}),i):(u(r)||h(o)||!1===o||(o=n,n=r,r=f),o!==f&&!1!==n||(o=n,n=f),!1===o&&(o=k),i.each(function(e,i){a&&(s=function(e){return _(i,e.type,o),o.apply(this,arguments)}),r&&(l=function(e){var t,n=c(e.target).closest(r,i).get(0);if(n&&n!==i)return t=c.extend(S(e),{currentTarget:n,liveFired:i}),(s||o).apply(n,[t].concat(d.call(arguments,1)))}),w(i,t,o,n,r,l||s)}))},c.fn.off=function(e,n,t){var i=this;return e&&!u(e)?(c.each(e,function(e,t){i.off(e,n,t)}),i):(u(n)||h(t)||!1===t||(t=n,n=f),!1===t&&(t=k),i.each(function(){_(this,e,t,n)}))},c.fn.trigger=function(e,t){return(e=u(e)||c.isPlainObject(e)?c.Event(e):x(e))._args=t,this.each(function(){e.type in i&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):c(this).triggerHandler(e,t)})},c.fn.triggerHandler=function(n,i){var r,o;return this.each(function(e,t){(r=S(u(n)?c.Event(n):n))._args=i,r.target=t,c.each(a(t,n.type||n),function(e,t){if(o=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){c.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),c.Event=function(e,t){u(e)||(e=(t=e).type);var n=document.createEvent(o[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),x(n)}}($ha),function(iqa){var lqa,mqa,jqa=+new Date,kqa=window.document,nqa=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,oqa=/^(?:text|application)\/javascript/i,pqa=/^(?:text|application)\/xml/i,qqa="application/json",sqa=/^\s*$/,tqa=kqa.createElement("a");function vqa(e,t,n,i){if(e.global)return function(e,t,n){var i=iqa.Event(t);return iqa(e).trigger(i,n),!i.isDefaultPrevented()}(t||kqa,n,i)}function yqa(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===vqa(t,n,"ajaxBeforeSend",[e,t]))return!1;vqa(t,n,"ajaxSend",[e,t])}function zqa(e,t,n,i){var r=n.context,o="success";n.success.call(r,e,o,t),i&&i.resolveWith(r,[e,o,t]),vqa(n,r,"ajaxSuccess",[t,n,e]),Bqa(o,t,n)}function Aqa(e,t,n,i,r){var o=i.context;i.error.call(o,n,t,e),r&&r.rejectWith(o,[n,t,e]),vqa(i,o,"ajaxError",[n,i,e||t]),Bqa(t,n,i)}function Bqa(e,t,n){var i=n.context;n.complete.call(i,t,e),vqa(n,i,"ajaxComplete",[t,n]),function(e){e.global&&!--iqa.active&&vqa(e,null,"ajaxStop")}(n)}function Cqa(){}function Eqa(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function Gqa(e,t,n,i){return iqa.isFunction(t)&&(i=n,n=t,t=void 0),iqa.isFunction(n)||(i=n,n=void 0),{url:e,data:t,success:n,dataType:i}}tqa.href=window.location.href,iqa.active=0,iqa.ajaxJSONP=function(n,i){if(!("type"in n))return iqa.ajax(n);function e(e){iqa(s).triggerHandler("error",e||"abort")}var r,o,t=n.jsonpCallback,a=(iqa.isFunction(t)?t():t)||"Zepto"+jqa++,s=kqa.createElement("script"),l=window[a],u={abort:e};return i&&i.promise(u),iqa(s).on("load error",function(e,t){clearTimeout(o),iqa(s).off().remove(),"error"!=e.type&&r?zqa(r[0],u,n,i):Aqa(null,t||"error",u,n,i),window[a]=l,r&&iqa.isFunction(l)&&l(r[0]),l=r=void 0}),!1===yqa(u,n)?e("abort"):(window[a]=function(){r=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),kqa.head.appendChild(s),0<n.timeout&&(o=setTimeout(function(){e("timeout")},n.timeout))),u},iqa.ajaxSettings={type:"GET",beforeSend:Cqa,success:Cqa,error:Cqa,complete:Cqa,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:qqa,xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},iqa.ajax=function(Bra){var Era,Fra,Cra=iqa.extend({},Bra||{}),Dra=iqa.Deferred&&iqa.Deferred();for(lqa in iqa.ajaxSettings)void 0===Cra[lqa]&&(Cra[lqa]=iqa.ajaxSettings[lqa]);!function(e){e.global&&0==iqa.active++&&vqa(e,null,"ajaxStart")}(Cra),Cra.crossDomain||((Era=kqa.createElement("a")).href=Cra.url,Era.href=Era.href,Cra.crossDomain=tqa.protocol+"//"+tqa.host!=Era.protocol+"//"+Era.host),Cra.url||(Cra.url=window.location.toString()),-1<(Fra=Cra.url.indexOf("#"))&&(Cra.url=Cra.url.slice(0,Fra)),function(e){e.processData&&e.data&&"string"!=iqa.type(e.data)&&(e.data=iqa.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=Eqa(e.url,e.data),e.data=void 0)}(Cra);var Gra=Cra.dataType,Hra=/\?.+=\?/.test(Cra.url);if(Hra&&(Gra="jsonp"),!1!==Cra.cache&&(Bra&&!0===Bra.cache||"script"!=Gra&&"jsonp"!=Gra)||(Cra.url=Eqa(Cra.url,"_="+Date.now())),"jsonp"==Gra)return Hra||(Cra.url=Eqa(Cra.url,Cra.jsonp?Cra.jsonp+"=?":!1===Cra.jsonp?"":"callback=?")),iqa.ajaxJSONP(Cra,Dra);function Kra(e,t){Jra[e.toLowerCase()]=[e,t]}var Ora,Ira=Cra.accepts[Gra],Jra={},Lra=/^([\w-]+:)\/\//.test(Cra.url)?RegExp.$1:window.location.protocol,Mra=Cra.xhr(),Nra=Mra.setRequestHeader;if(Dra&&Dra.promise(Mra),Cra.crossDomain||Kra("X-Requested-With","XMLHttpRequest"),Kra("Accept",Ira||"*/*"),(Ira=Cra.mimeType||Ira)&&(-1<Ira.indexOf(",")&&(Ira=Ira.split(",",2)[0]),Mra.overrideMimeType&&Mra.overrideMimeType(Ira)),(Cra.contentType||!1!==Cra.contentType&&Cra.data&&"GET"!=Cra.type.toUpperCase())&&Kra("Content-Type",Cra.contentType||"application/x-www-form-urlencoded"),Cra.headers)for(mqa in Cra.headers)Kra(mqa,Cra.headers[mqa]);if(Mra.setRequestHeader=Kra,!(Mra.onreadystatechange=function(){if(4==Mra.readyState){Mra.onreadystatechange=Cqa,clearTimeout(Ora);var Sra,Tra=!1;if(200<=Mra.status&&Mra.status<300||304==Mra.status||0==Mra.status&&"file:"==Lra){if(Gra=Gra||function(e){return(e=e&&e.split(";",2)[0])&&("text/html"==e?"html":e==qqa?"json":oqa.test(e)?"script":pqa.test(e)&&"xml")||"text"}(Cra.mimeType||Mra.getResponseHeader("content-type")),"arraybuffer"==Mra.responseType||"blob"==Mra.responseType)Sra=Mra.response;else{Sra=Mra.responseText;try{"script"==Gra?eval(Sra):"xml"==Gra?Sra=Mra.responseXML:"json"==Gra&&(Sra=sqa.test(Sra)?null:iqa.parseJSON(Sra))}catch(e){Tra=e}if(Tra)return Aqa(Tra,"parsererror",Mra,Cra,Dra)}zqa(Sra,Mra,Cra,Dra)}else Aqa(Mra.statusText||null,Mra.status?"error":"abort",Mra,Cra,Dra)}})===yqa(Mra,Cra))return Mra.abort(),Aqa(null,"abort",Mra,Cra,Dra),Mra;var Pra=!("async"in Cra)||Cra.async;if(Mra.open(Cra.type,Cra.url,Pra,Cra.username,Cra.password),Cra.xhrFields)for(mqa in Cra.xhrFields)Mra[mqa]=Cra.xhrFields[mqa];for(mqa in Jra)Nra.apply(Mra,Jra[mqa]);return 0<Cra.timeout&&(Ora=setTimeout(function(){Mra.onreadystatechange=Cqa,Mra.abort(),Aqa(null,"timeout",Mra,Cra,Dra)},Cra.timeout)),Mra.send(Cra.data?Cra.data:null),Mra},iqa.get=function(){return iqa.ajax(Gqa.apply(null,arguments))},iqa.post=function(){var e=Gqa.apply(null,arguments);return e.type="POST",iqa.ajax(e)},iqa.getJSON=function(){var e=Gqa.apply(null,arguments);return e.dataType="json",iqa.ajax(e)},iqa.fn.load=function(e,t,n){if(!this.length)return this;var i,r=this,o=e.split(/\s/),a=Gqa(e,t,n),s=a.success;return 1<o.length&&(a.url=o[0],i=o[1]),a.success=function(e){r.html(i?iqa("<div>").html(e.replace(nqa,"")).find(i):e),s&&s.apply(r,arguments)},iqa.ajax(a),this};var Hqa=encodeURIComponent;iqa.param=function(e,t){var n=[];return n.add=function(e,t){iqa.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(Hqa(e)+"="+Hqa(t))},function n(i,e,r,o){var a,s=iqa.isArray(e),l=iqa.isPlainObject(e);iqa.each(e,function(e,t){a=iqa.type(t),o&&(e=r?o:o+"["+(l||"object"==a||"array"==a?e:"")+"]"),!o&&s?i.add(t.name,t.value):"array"==a||!r&&"object"==a?n(i,t,r,e):i.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}($ha),(wsa=$ha).fn.serializeArray=function(){var n,i,t=[],r=function(e){if(e.forEach)return e.forEach(r);t.push({name:n,value:e})};return this[0]&&wsa.each(this[0].elements,function(e,t){i=t.type,(n=t.name)&&"fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||t.checked)&&r(wsa(t).val())}),t},wsa.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},wsa.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=wsa.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(n){"__proto__"in{}||n.extend(n.zepto,{Z:function(e,t){return e=e||[],n.extend(e,n.fn),e.selector=t||"",e.__Z=!0,e},isZ:function(e){return"array"===n.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var i=getComputedStyle;window.getComputedStyle=function(e,t){try{return i(e,t)}catch(e){return null}}}}($ha)},function(e,t,n){"use strict";var i;(i=Zepto).fn.end=function(){return this.prevObject||i()},i.fn.andSelf=function(){return this.add(this.prevObject||i())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,contents".split(",").forEach(function(e){var t=i.fn[e];i.fn[e]=function(){var e=t.apply(this,arguments);return e.prevObject=this,e}})},function(e,t,n){"use strict";function i(e,r){return function(t){var n,i;return this?(n=(i=this)[e](),{width:["left","right"],height:["top","bottom"]}[e].forEach(function(e){n+=parseInt(i.css("padding-".concat(e)),10),r&&(n+=parseInt(i.css("border-".concat(e,"-width")),10)),t&&(n+=parseInt(i.css("margin-".concat(e)),10))}),n):null}}var r;r=Zepto,["width","height"].forEach(function(e){var t=e.substr(0,1).toUpperCase()+e.substr(1);r.fn["inner".concat(t)]=i(e,!1),r.fn["outer".concat(t)]=i(e,!0)}),r.prototype=r.fn,window.jQuery=Zepto},function(e,t,n){"use strict";var i,r=(i=n(30))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=u(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){a(t,e,n[e])})}return t}({},e))}}]),t}();spongecell.PanelContainer=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,w=(i=n(0))&&i.__esModule?i:{default:i};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"extended",value:function(){return{closedZIndex:1,basePanelZIndex:5,expandedZIndex:5e3,getAnimationLength:function(){return this.expandable.expandInitially&&!this.expandable.hasOpened&&!w.default.Cookie.readCookie(this.adTagId)||this.mraid?1:this.safeFrames&&"overlay"===this.expandable.expansionType?1:this.animationLength},getParentDiv:function(){var e=this.getIframe();return(null==e?void 0:e.length)?e.parent():this.$el.parent()},getIframe:function(){try{return!window.frameElement||this.safeFrames||this.mraid?null:$(window.frameElement)}catch(e){return null}},_sendExpansionMessage:function(){var t=this;this.sendMessage({topic:"nav",action:"setup",openCallback:this.openPanelFn(),closeCallback:this.closePanelFn(),initialDimensions:this._initialDimensions(),expansionDimensions:this._expansionDimensions(),callback:function(e){return t._initPanelType(e)}})},_setupExpansion:function(){this._setupPageDivs(),this.direction=this._setupExpansionDirection();var e=null,t=null;switch(this.direction){case"down":e=0;break;case"up":e=-1*(this.expandable.height-this.basePanel.height);break;case"left":t=-1*(this.expandable.width-this.basePanel.width);break;case"right":t=0}this.mraid&&"overlay"!==this.expandable.expansionType?this.mraidRequest("setResizeProperties",{baseWidth:this.basePanel.width,baseHeight:this.basePanel.height,width:this.expandable.width,height:this.expandable.height,offsetX:t,offsetY:e,allowOffscreen:!1}):this.mraid&&"overlay"===this.expandable.expansionType&&this.mraidRequest("setExpandProperties",{width:window.screen.width,height:window.screen.height})},_initPanelType:function(e){var t,n=e.panelSettings;this.animationLength=e.animationLength?1e3*e.animationLength:750,this.expandable.expansionType=e.expansionType,this.expandable.expandInitially=e.expandInitially,this.expandable.autoOpened=e.autoOpened,this.adTagId=e.adTagId,this.safeFrames=e.safeFrames,this.setupParent="false"!==(null===(t=e.panelSettings)||void 0===t?void 0:t.setupParent),n&&(this.closeOnClickThrough=n.closeOnClickThrough,this.offset={x:n.offsetX,y:n.offsetY},this.expandedZIndex=n.zIndex||this.expandedZIndex,n.animationLength&&(this.animationLength=+n.animationLength),n.expand&&(this.basePanel.overrideDirection=n.expand))},_initialDimensions:function(){return{height:this.basePanel.height,width:this.basePanel.width}},_expansionDimensions:function(){return{height:this.expandable.height,width:this.expandable.width}},_setupPageDivs:function(){var e;if(this.$el.css({overflow:"hidden",position:"relative"}),!this.safeFrames){var t,n,i,r,o=this.getParentDiv();if(this.setupParent)e={margin:"0 auto",position:"relative"},""!==(null===(t=o[0])||void 0===t?void 0:t.style.width)&&(null===(n=o[0])||void 0===n?void 0:n.style.width)||(e.width=this.basePanel.width),""!==(null===(i=o[0])||void 0===i?void 0:i.style.height)&&(null===(r=o[0])||void 0===r?void 0:r.style.height)||(e.height=this.basePanel.height);else e={position:"relative"};if("push"===this.expandable.expansionType)o.css(e),this.getIframe()&&$(this.getIframe()).css({position:"relative"});else if("float"===this.expandable.expansionType){o.css(e);var a=this.mraid||this.safeFrames?"relative":"absolute";if(this.getIframe())$(this.getIframe()).css({position:a});else{var s;this.$el.css({position:a});var l=null==o?void 0:null===(s=o[0])||void 0===s?void 0:s.getBoundingClientRect();(null==l?void 0:l.width)<this.basePanel.width&&o.css({width:this.basePanel.width}),(null==l?void 0:l.height)<this.basePanel.height&&o.css({height:this.basePanel.height})}}}},_getOffset:function(e){var t;if(null===(t=window.$sf)||void 0===t?void 0:t.ext.geom){var n=window.$sf.ext.geom().self;return{left:n.l,top:n.t,bottom:n.b,right:n.r}}return e.getBoundingClientRect()},_autoDetectDirection:function(){var e,t=null===(e=this.getIframe())||void 0===e?void 0:e[0],n=this.$el[0],i=t||n;return this.basePanel.width===this.expandable.width?this._getOffset(i).top>this.expandable.height?"up":"down":this.basePanel.height===this.expandable.height?this._getOffset(i).left>this.expandable.width?"left":"right":"left"},_setupExpansionDirection:function(){var e,t,n,i,r,o=this.basePanel.overrideDirection,a=null===(e=this.basePanel)||void 0===e?void 0:null===(t=e.settings)||void 0===t?void 0:null===(n=t.expansion)||void 0===n?void 0:n.direction;if(o?a="auto"===o?this._autoDetectDirection():o:"auto"===a&&(a=this._autoDetectDirection()),"float"===this.expandable.expansionType)switch(a){case"up":r={bottom:0,left:0};break;case"down":r={top:0,left:0};break;case"left":r={left:"auto",top:0,right:0};break;case"right":r={top:0,left:0,right:"auto"};break;default:w.default.Console.log("No expansion direction specified"),r={top:0,left:0}}else r={top:0,left:0};this.safeFrames&&"left"===a&&(this.$el.find(".spongecell-panel").addClass("expanding-left"),this.$el.css({position:"absolute"}),this.$el.parent().css({width:"100%",height:"100%"})),$.extend(r,(l(i={display:"-webkit-flex"},"display","-ms-flexbox"),l(i,"display","flex"),l(i,"-moz-justify-content","flex-end"),l(i,"-ms-flex-pack","end"),l(i,"-webkit-justify-content","flex-end"),l(i,"justify-content","flex-end"),l(i,"-ms-flex-direction","row"),l(i,"-moz-flex-direction","row"),l(i,"-webkit-flex-direction","row"),l(i,"flex-direction","row"),i));var s=this.getIframe()?$(this.getIframe()):this.$el;return null==s||s.css(r),a},openPanelFn:function(){var e=this;return function(){return e._openElements(e._expansionDimensions())}},closePanelFn:function(){var e=this;return function(){return e._closeElements(e._initialDimensions())}},open:function(){var e=this;if(this.locked||this.opened)return!0;if(this.sendMessage({topic:"nav",action:"open"}),this.mraid){var t="overlay"===this.expandable.expansionType?"expand":"resize";this.mraidRequest(t,{closeCallback:function(){return e.close()}})}},close:function(){if(this.locked)return!0;this.sendMessage({topic:"nav",action:"close"}),this.mraid&&this.mraidRequest("close")},_openElements:function(e){var t;if(null===(t=this.expandable.$el)||void 0===t||t.show(),this.locked=!0,"overlay"!==this.expandable.expansionType||this.mraid||this.safeFrames)if("overlay"===this.expandable.expansionType&&(this.mraid||this.safeFrames)){var n=this.safeFrames?{width:this.expandable.width,height:this.expandable.height}:this.topWindowDimensions();this.everOpened||(this.expandable.responsive&&this.expandable._scalePanel(),this.expandable.setup(this.loading),this.expandable.load(),this.everOpened=!0),this._openExpandable(n)}else this._openExpandable(e);else this._openOverlay(e);return this},_openExpandable:function(t){var n=this;if(this.safeFrames){var e={coords:window.$sf.ext.geom(),initialDims:{width:this.basePanel.width,height:this.basePanel.height},expansionDims:t,direction:this.direction,type:this.expandable.expansionType},i=w.default.Expansion.safeFrameExpansionParams(e);window.$sf.ext.expand(i)}var r=[this.expandable.$el];this.getIframe()&&r.push(this.getIframe()),r.forEach(function(e){e&&e.css("z-index",n.expandedZIndex)}),this.expandable.getHomeScreen().makeVisible(),this.expandable.$el.addClass("expanding");var o=[this.$el];this.getIframe()&&o.push(this.getIframe()),o.forEach(function(e){n._asyncResize(e,function(e){return n._resizeElem(e,t)})}),setTimeout(function(){n.locked=!1,n._openCallback()},this.getAnimationLength()-1)},_openCallback:function(){this.expandable.$el.removeClass("expanding"),this.expandable.openInitialScreen(),this.opened=!0,this.locked=!1},_openOverlay:function(e){this.appendOverlay(e)},_closeElements:function(e){this.expandable.hasOpened=!0,this.locked=!0,"overlay"!==this.expandable.expansionType||this.mraid||this.safeFrames?"overlay"===this.expandable.expansionType&&this.mraid?this._removeExpandable():this._closeExpandable(e):this._closeOverlay()},_closeExpandable:function(t){var n=this,e=[this.$el];this.getIframe()&&e.push(this.getIframe()),e.forEach(function(e){n._asyncResize(e,function(e){return n._resizeElem(e,t)})});var i=[this.expandable.$el];this.getIframe()&&i.push(this.getIframe()),setTimeout(function(){i.forEach(function(e){e&&e.css("z-index",n.closedZIndex)}),n.locked=!1,n._closeCallback()},this.getAnimationLength(!0)-1)},_removeExpandable:function(){this.expandable.$el.remove(),this._closeCallback(),this.locked=!1},_closeOverlay:function(){var e,t=w.default.Expansion.getDocument(this.expandable.expansionType);null===(e=w.default.Animation)||void 0===e||e.clearDocument(),this._closeCallback(),this._resetAnimations(),$(this.getOverlayIframe()).remove(),$(t.body).find(".spongecell-overlay").remove(),this.locked=!1},_closeCallback:function(){var e,i=this;this.safeFrames&&window.$sf.ext.collapse(),null===(e=this.expandable.$el)||void 0===e||e.hide(),this.expandable.restoreElementPositions(),this.expandable.screens.forEach(function(e){var t,n;"home"===e.getId()?(e.makeVisible(),e.resetElements(),null===(t=i.expandable.background)||void 0===t||t.resetElements(),null===(n=i.expandable.persistentLayer)||void 0===n||n.resetElements(),i.expandable.currentScreen=null):e.makeInvisible()}),this.expandable.screens.forEach(function(e){e.getComponentElements().forEach(function(e){e.component.stop(),"overlay"===i.expandable.expansionType&&e.component.reset()})}),this.opened=!1},_asyncResize:function(e,t){setTimeout(function(){return t(e)},1)},_resizeElem:function(e,t){var n=$===Zepto&&Zepto?"easeInOutQuart":"linear";e.animate({width:t.width,height:t.height},this.getAnimationLength(),n)},_resetAnimations:function(){this.expandable.screens.map(function(e){var t;return null===(t=e._animationElement())||void 0===t?void 0:t.remove()})},overlayId:function(){return"spongecell-overlay-".concat(this.iid)},getOverlayIframe:function(){return w.default.Expansion.getDocument(this.expandable.expansionType).getElementById("spongecell-overlay-".concat(this.iid))},appendOverlay:function(e){var t,n,i=this,r=w.default.Expansion.getDocument(this.expandable.expansionType),o=w.default.Expansion.documentDimensions(),a=_(w.default.Expansion.calcPositions(e,this.offset||{}),3),s=a[0],l=a[1],u=a[2],c=this.topWindowDimensions(),f=w.default.Browser.isMobile()?c.width:this.expandable.width,d=w.default.Browser.isMobile()?c.height:this.expandable.height,h=this.formatSettings.mobile?f:this.expandable.width,p=this.formatSettings.mobile?d:this.expandable.height,v=this.$el.find(".spongecell-style-".concat(this.iid)).attr("href");n=w.default.Browser.isFirefox()?"\n            srcDoc=\"<html>\n              <head><style> .sc-ff { display: block; } </style></head>\n              <body class='spongecell-ad'><link rel='stylesheet' media='all' href='".concat(v,"'></body>\n            </html>\"\n          "):"";var m='\n          <div>\n            <div class="spongecell-overlay" style="position: '.concat(s,"; left: 0px; top: 0px;\n                        background-color:#374047; opacity: 0.7;\n                        filter:alpha(opacity=70);\n                        width: ").concat(o.width,"px; height: ").concat(o.height,'px;\n                        z-index:7000000;" >\n            </div>\n            <iframe id="spongecell-overlay-').concat(this.iid,'" style="\n              position: ').concat(s,"; left: ").concat(l,"px; width: ").concat(h,"px; background: #fff;\n              height: ").concat(p,"px; top: ").concat(u,'px; z-index: 70000001;\n              border: 0; margin: 0; overflow: hidden; padding: 0;"\n              allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"\n              seamless frameborder="0" scrolling="no" ').concat(n,"></iframe>\n          </div>\n        ");$(r.body).append(m),null===(t=w.default.Animation)||void 0===t||t.cacheDocument(this.getOverlayIframe().contentDocument);var g=document.createElement("link");g.type="text/css",g.rel="stylesheet",g.media="all",g.href=v;function y(e){return w.default.Browser.isIE()||w.default.Browser.isFirefox()?setTimeout(e,10):e()}function b(){return y(function(){var e;w.default.Event.addMessageListener(function(e){return i.receiveMessage(e)},null===(e=i.getOverlayIframe())||void 0===e?void 0:e.contentWindow),i.expandable.responsive&&i.expandable._scalePanel(),i.expandable.setup(i.loading),i.expandable.load(),i._openCallback()})}$(this.getOverlayIframe().contentDocument).ready(function(){if($(i.getOverlayIframe().contentDocument.body).addClass("spongecell-ad"),w.default.Browser.isFirefox()){var t=setInterval(function(){var e;i.getOverlayIframe().contentDocument.styleSheets.length&&(null===(e=w.default.Animation)||void 0===e||e.cacheDocument(i.getOverlayIframe().contentDocument),b(),clearInterval(t))},50);y(function(){return $(i.getOverlayIframe().contentDocument.head).append(g)})}else w.default.Browser.supportsLinkOnload()&&(g.onload=b,y(function(){return $(i.getOverlayIframe().contentDocument.head).append(g)}));$(i.getOverlayIframe().contentDocument.head).append(g),b()}),$(r.body).find(".spongecell-overlay").off("click").on("click",function(){return i.close()})}}}}]),e}();t.default=o},function(e,t,n){"use strict";var i,r=(i=n(32))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=u(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){a(t,e,n[e])})}return t}({},e,{getLandingPage:function(t,e){var n=1<arguments.length&&void 0!==e?e:null;if(this.ad.isPreview&&t&&t.clicktag&&-1!==t.clicktag){var i=n||this.elements.find(function(e){return e.action.clicktag===t.clicktag}),r=i.dynamicSettings,o=this.ad.clickTagCount,a="https://creativepreview.flashtalking.net/clicktag/\n".concat(t.clicktag,"/?count=").concat(o);if("feed"===r.clicktagSource&&i.action.isDynamicClicktag){var s=spongecell.FeedHelper.getClicktagUrl(this.ad.feedData,i);return{url:"".concat(a,"&DYNCTTEST=").concat(s)}}return"versions"===r.clicktagSource&&i.action.isDynamicClicktag&&i.action.clicktagDefault?{url:"".concat(a,"&DYNCTTEST=").concat(i.action.clicktagDefault)}:{url:a}}}}))}}]),t}();spongecell.ElementContainer=d},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,null,[{key:"extended",value:function(){return{preventElementClickThrough:!1,_initElementContainer:function(){null==this.elements&&(this.elements=[]),this.animationsByIid={},this.initialEffectsByIid={}},addUuid:function(e){if(e)return this.itemUuids=this.itemUuids||[],-1===this.itemUuids.indexOf(e)?this.itemUuids.push(e):void 0},getElements:function(t){return t?this.elements.filter(function(e){return 0<=t.indexOf(e.type)}):this.elements},getComponentElements:function(){return(this.getElements()||[]).filter(function(e){return e.component})},getElementByName:function(e){for(var t=0;t<this.elements.length;t+=1){var n=this.elements[t];if(n.name===e)return n}return null},getElementByIid:function(e){for(var t=0;t<this.elements.length;t+=1){var n=this.elements[t];if(n.iid===e)return n}return null},getCurrentCarousel:function(){return{carousel:null,slide:null}},getItemsAtIndex:function(n){var i=this,r=[];return Object.keys(this.ad.dynamicItems).forEach(function(e){var t=i.ad.dynamicItems[e][n];t[n]&&r.push(t[n])}),r},checkDynamicContentIndex:function(e,t){for(var n=this.getItemsAtIndex(e.itemIndex),i=0;i<n.length;i+=1){if(null!=n[i][t])return!0}return!1},getDynamicContentAtIndex:function(e,t,n){for(var i=null,r=this.getItemsAtIndex(e.itemIndex),o=0;o<r.length;o+=1){var a,s=r[o];if(null===(a=s[t])||void 0===a?void 0:a[n]){i=s[t][n];break}}return i},getAsset:function(o){var a=this;if(o){var e=function(){var e,t=null==o?void 0:null===(e=o.video)||void 0===e?void 0:e.assetId;if(t)return a.ad.videoAssets[t];var n,i,r=null==o?void 0:o.masterAssetId;return r?(null===(n=a.assets)||void 0===n?void 0:n[r])||(null===(i=a.ad.assets)||void 0===i?void 0:i[r]):void 0};return o.itemIndex&&this.getDynamicContentAtIndex(o,"assets",o.masterAssetId)||e()}},getAssetUrl:function(e){var t;return null===(t=this.getAsset(e))||void 0===t?void 0:t.url},getProperty:function(n){function e(){var e,t;return(null===(e=i.properties)||void 0===e?void 0:e[n.propertyId])||(null===(t=i.ad.properties)||void 0===t?void 0:t[n.propertyId])}var i=this;return n.itemIndex&&this.getDynamicContentAtIndex(n,"properties",n.propertyId)||e()},resetEffectCalls:function(){this.totalEffectCalls=spongecell.Animation.totalEffects(this.animations||[]),this.effectsCalled=0}}}}]),e}();t.default=r},function(e,t,n){"use strict";var i,r=(i=n(34))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=u(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){a(t,e,n[e])})}return t}({},e))}}]),t}();spongecell.HtmlElementContainer=d},function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"extended",value:function(){return{_setupElementContainer:function(){this._createElements()},_createElements:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:200;this.elements=(this.elements||[]).map(function(e){return e.ad=t.ad,e.zIndex=n,n+=1,spongecell.HtmlElement.create(t,e)})},_renderElements:function(){var t=this;(this.elements||[]).forEach(function(e){e.render(t.$el)})},_delegateElementEvents:function(e){var t,h=this,p=0<arguments.length&&void 0!==e&&e;if(null===(t=this.ad)||void 0===t||!t.canvasMode){(this.elements||[]).forEach(function(e){return e.delegateEvents()});(this.elements||[]).forEach(function(e){var t,n,i,r=$(h.panel.doc.getElementById("elem-".concat(e.iid))),o=e.action||{},a=o.screen,s=o.panel,l=o.ad,u=o.element;if(null!=a||null!=s||null!=l||null!=u){if(null!=a){var c=h.panel.getScreen(a);if(null==c)return;t=function(t,n,e){var i=2<arguments.length&&void 0!==e?e:null;return function(e){h.ad.animationMode||(h.panel.openScreen(n,t,i),null!=e&&(e.stopPropagation(),e.preventDefault()))}}(h._getSelfOrParentScreen(),c,e.transition)}else t=(null==s?void 0:s.action)?function(n){return function(e){var t;"open"===n&&(h.panel.removeLoader(),h.panel.cancelShowLoader()),e.preventDefault(),e.stopPropagation(),p&&(null===(t=h.trackClick)||void 0===t||t.call(h,e));h.ad[n]()}}(s.action):(null==l?void 0:l.action)?function(n){return function(e){var t;e.preventDefault(),e.stopPropagation(),p&&(null===(t=h.trackClick)||void 0===t||t.call(h,e));"remove"===n&&h.ad.remove()}}(l.action):function(i,r){return function(e){var t,n=h.elements.filter(function(e){return e.iid===i}).map(function(e){return e.component})[0];null==n&&(n=h.component),null===(t=n)||void 0===t||t.handleAction(r,e),null!=e&&(e.stopPropagation(),e.preventDefault())}}(u.iid,u.action);var f=(n=t,i=!!e.action.feature,function(e){!i&&p&&h.trackStart(),n(e)});r.on("tap click",f);var d=null==s?void 0:s.action;"dual"!==e.action.interaction||spongecell.Browser.isMobile()||d||spongecell.Engagement.onHover(f,{node:r[0]})}})}},_delegateAnimationEvents:function(){this.animations&&spongecell.Animation.setLastAnimation(this.animations),this.elements.forEach(function(e){e.delegateAnimationEvents()})},_loadElements:function(){var t=this;this.elements.forEach(function(e){e.feature?(e.feature.items||[]).forEach(function(e){return t.addUuid(e.item_id)}):(e.getProcessorItems()||[]).forEach(function(e){return t.addUuid(e.item_id)});e.loaded||t._shouldDelayLoad()||e.load()})},_shouldDelayLoad:function(){var e,t;return!this.panel.loadTriggered&&(!(-1<this.panel.getTransitionScreens().indexOf(this.iid))&&(this.ad.animationMode?this.iid!==this.ad.animationScreen:!this.ad.engaged&&this.ad.delayLoading&&-1===["home",null===(e=this.panel.persistentLayer)||void 0===e?void 0:e.iid].indexOf(this.iid)&&"home"!==(null===(t=this.component)||void 0===t?void 0:t.container.iid)))},engage:function(){this.ad.engaged&&this._engageElements()},_engageElements:function(){(this.elements||[]).forEach(function(e){var t;return null===(t=e.engage)||void 0===t?void 0:t.call(e)})},_getSelfOrParentScreen:function(){return this},_resetInlineVideos:function(){},resetElements:function(){(this.elements||[]).forEach(function(e){e.loaded=!1})},restoreElementPositions:function(){var e,t,n=this;("multiple"===(null===(e=this.animationSettings)||void 0===e?void 0:e.play)||(null===(t=this.animationSettings)||void 0===t?void 0:t.loops))&&this.elements.concat(this.panel.getNonScreenElements()).forEach(function(e){n.animationsByIid[e.originalIid]&&e.resetToFirstAnimation()})},getAllAnimations:function(){var t=i(this.animations||[]);return this.elements.forEach(function(e){(e.layouts||[]).forEach(function(e){t.push.apply(t,i(e.animations||[]))})}),t}}}}]),e}();t.default=o},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(36);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,r.default.HtmlAdPanel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_appendRootElem",value:function(){var e=this.ad.iframe?$(this.ad.impTag.studioTag.getIframe()):this.ad.$el;$("<ft-default>").append(this.$el).appendTo(e)}}]),e}();r.default.HtmlAdPanel=c},function(e,t,n){"use strict";var a=i(n(0)),r=i(n(37));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(38),n(6);var f=a.default.OmnipresentHtmlScreen,d="expanding-animation",h=null,p=function(){function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=l(this,u(i).call(this,e))).settings=e,n.preExpandTimeout=null,n.width=n.settings.size.width,n.height=n.settings.size.height,n._scalePanel(),(null===(t=n.settings.elements)||void 0===t?void 0:t.length)&&n._createPersistentLayer(),n.ad.animationMode&&n._setupAnimationMode(),n.ad.eventManager.subscribe("resize:".concat(n.ad.iid),function(){n._scalePanel(),n.setupPanelSize()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,a.default.AdPanel),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(i,[{key:"engageOnceFn",value:function(){this.ad.engaged||this.ad.engage()}},{key:"_delegateEvents",value:function(){var e=this;a.default.Browser.isMobile()?this.$el.on("tap",this.engageOnceFn.bind(this)):("teaser"===this.type&&this.$el.on("mouseover",".hover-expand",function(){e.preExpandTimeout=e.showLoader(),e.$el.on("mouseout",e.cancelShowLoader)}),a.default.Engagement.onHover(this.engageOnceFn.bind(this))),this.$el.on("mousedown",this.engageOnceFn.bind(this))}},{key:"_createPersistentLayer",value:function(){this.persistentLayer=new f(this,this.settings.elements)}},{key:"_buildFontFace",value:function(e,t){var n=a.default.Browser.isIE()?' format("embedded-opentype")':"";return"\n      @font-face {\n        font-family: ".concat(e,";\n        src: url(").concat(t,")").concat(n,";\n      }\n    ")}},{key:"_getFontFaces",value:function(){function n(e){var t=i.ad.assets[e];t&&r.push({fontFamily:t.label.split(".")[0],url:t.url})}var i=this,r=[];return this.ad.canvasMode?Object.keys(this.ad.assets).forEach(function(e){var t;(null===(t=i.ad.assets[e].contentType)||void 0===t?void 0:t.match(/font/))&&n(e)}):(this.settings.fonts||[]).forEach(function(e){return n(e)}),r}},{key:"_getCustomStyleTag",value:function(){var n=this,e=this._getFontFaces().reduce(function(e,t){return e+n._buildFontFace(t.fontFamily,t.url)},'<style id="live-style">');return e+="</style>"}},{key:"_setRootElem",value:function(){var e=null;if(this.ad.iframe)this.$el=$('<div class="wrapper spongecell-panel" />'),this.ad.$el=this.$el,e="body";else if("overlay"!==this.expansionType||this.ad.mraid||this.ad.safeFrames)this.$el=$("<div class='wrapper spongecell-panel ".concat(this.type||"","' />")),e=document.getElementById("spongecell-ad-".concat(this.ad.iid));else{var t=a.default.Expansion.getDocument(this.expansionType).getElementById("spongecell-overlay-".concat(this.ad.iid));this.doc=t.contentDocument,this.$el=$(t.contentDocument.body)}this._appendRootElem(e)}},{key:"_appendRootElem",value:function(e){e&&this.$el.appendTo(e)}},{key:"_render",value:function(){var e,t;this._setRootElem(),a.default.Browser.isIE()&&this.$el.addClass("ie"),this.vpaid&&(this.$el.addClass("vpaid"),this._setupBorder()),a.default.Animation&&this._setupAnimation(),this.doc=this.doc||document,this.setupPanelSize(),this._mapAnimations(),null===(e=this.persistentLayer)||void 0===e||e.render(),null===(t=this.background)||void 0===t||t.render();var n=this._getCustomStyleTag();$(n).appendTo("head"),this.ad.screenshotMode&&this.$el.addClass("screenshot-mode"),this.ad.canvasMode?this.$el.addClass("canvas-mode"):(this.screens.forEach(function(e){return e.render()}),this.ad.activePanel()===this&&this.openInitialScreen())}},{key:"_setup",value:function(){if(!r.default)return Promise.resolve(!0);var e=this._getFontFaces().map(function(e){return new r.default(e.fontFamily).load(null,1e4)});return Promise.all(e)}},{key:"_mapAnimations",value:function(){this.screens.forEach(function(t){(t.animations||[]).forEach(function(e){t.animationsByIid[e.elementIid]=t.animationsByIid[e.elementIid]||[],t.animationsByIid[e.elementIid].push(e)})})}},{key:"removeLoader",value:function(e){e&&e.toElement&&0===$(e.toElement).find(".spongecell-ad").length&&"click"!==e.type||(clearTimeout(h),this.$el.off("mouseout",this.removeLoader),$(document.getElementById(d)).remove())}},{key:"expandPanel",value:function(){this.removeLoader(),this.ad.open()}},{key:"cancelShowLoader",value:function(){clearTimeout(this.preExpandTimeout)}},{key:"_scalePanel",value:function(){var e,t;if(this.responsive||this.ad.flexible){var n=this.ad.topWindowDimensions();if(a.default.Browser.isMobile()&&(this.ad.mraid||"overlay"===this.expansionType))t=(n.height-this.height)/this.height,e=(n.width-this.width)/this.width;else if(a.default.Browser.isMobile()||"overlay"!==this.expansionType)t=(window.innerHeight-this.height)/this.height,e=(window.innerWidth-this.width)/this.width;else{var i=Math.min(n.height,this.height),r=Math.min(n.width,this.width);t=(i-this.height)/this.height,e=(r-this.width)/this.width}this.scale=e<t?{dimension:"x",magnitude:1+e}:{dimension:"y",magnitude:1+t}}else this.scale={magnitude:1}}},{key:"_setupAnimation",value:function(){this.$el.addClass("has-animation")}},{key:"_setupAnimationMode",value:function(){this.animationsPlayed=0,this.totalAnimations=0}},{key:"_calcTotalAnimations",value:function(){function n(e){var t,n,i=(null===(t=e.animations)||void 0===t?void 0:t.length)||0;return r.totalAnimations+=i*(((null===(n=e.animationSettings)||void 0===n?void 0:n.loops)||0)+1),r.ad.eventManager.subscribe("animationComplete:".concat(e.iid),r._animationCompleted.bind(r)),i}var r=this,i=0,e=this.getScreen(this.ad.animationScreen);this.ad.eventManager.dispatch("previewStarted",this.ad.impTag.creativeId),this.ad.animationLayout?e.setLayoutMode(!0):i+=n(e),e.getComponentElements().forEach(function(e){if("mediaCarousel"===e.type){var t=e.component.slides[0];t&&t.iid===r.ad.animationLayout&&(i+=n(t))}}),0===i&&setTimeout(function(){return r.ad.eventManager.dispatch("previewComplete",r.ad.impTag.creativeId)},1e3)}},{key:"_animationCompleted",value:function(){var e=this;this.animationsPlayed+=1,this.animationsPlayed>=this.totalAnimations&&setTimeout(function(){return e.ad.eventManager.dispatch("previewComplete",e.ad.impTag.creativeId)},1e3)}},{key:"_setupBorder",value:function(){if(!this.canvasMode&&this.ad.border){var e=this.ad.border,t=e.thickness,n=e.color,i=null!==t?t:1,r=null!==n?n:"transparent";this.$el.css({border:"".concat(i,"px solid ").concat(r),"box-sizing":"border-box"})}}},{key:"setupPanelSize",value:function(){if(this.responsive){if("overlay"===this.expansionType&&a.default.Browser.isMobile()){var e=this.ad.topWindowDimensions();return this.$el.width(e.width),void this.$el.height(e.height)}return"overlay"!==this.expansionType||a.default.Browser.isMobile()?(this.$el.width(window.innerWidth),void this.$el.height(window.innerHeight)):(this.$el.width(this.width),void this.$el.height(this.height))}if(this.vpaid)return this.$el.width("100%"),void this.$el.height("100%");this.$el.width(this.width),this.$el.height(this.height)}},{key:"showLoader",value:function(){var n=this;if(!(0<$(document.getElementById(d)).length))return setTimeout(function(){var e;if(n.$el.off("mouseout",n.cancelShowLoader),h=setTimeout(n.expandPanel,2700),n.width<120||n.height<120){var t=(Math.min(n.width,n.height)/120).toFixed(1);e="\n          -ms-transform: scale(".concat(t,",").concat(t,");\n          -webkit-transform: scale(").concat(t,",").concat(t,");\n          transform: scale(").concat(t,",").concat(t,");\n        ")}n.$el.prepend('\n        <div id="expanding-animation" style="\n          width: '.concat(n.width,"px;\n          height: ").concat(n.height,"px;\n          z-index: ").concat(+$(n.$el).css("z-index")+1,';">\n          <div class="expanding-wrapper" ').concat(e?"style='".concat(e,"'"):"",' >\n            <div class="round-wrapper">\n              <div class="circle one"></div>\n              <div class="circle two"></div>\n              <div class="circle three"></div>\n              <div class="one number"><span>1</span></div>\n              <div class="two number"><span>2</span></div>\n              <div class="three number"><span>3</span></div>\n            </div>\n            <div class="expanding-text">Expanding</div>\n          </div>\n        </div>\n      ')),n.$el.on("mouseout",n.removeLoader)},500)}},{key:"load",value:function(){var e,t;this.$el&&((this.screens||[]).forEach(function(e){return e.load()}),null===(e=this.persistentLayer)||void 0===e||e.load(),null===(t=this.background)||void 0===t||t.load(),this.ad.animationMode&&this._calcTotalAnimations())}},{key:"loadNonHomeElements",value:function(e){var r=0<arguments.length&&void 0!==e?e:{};this.loadTriggered||(this.loadTriggered=!0,this.screens.forEach(function(e){"home"!==e.iid&&e.elements.forEach(function(e){var t,n,i;e.loaded||null===(t=e.load)||void 0===t||t.call(e);r.postRoll&&(null===(n=e.component)||void 0===n||null===(i=n.launch)||void 0===i||i.call(n))})}))}},{key:"openInitialScreen",value:function(e){e=this.ad.animationScreen?e||this.getScreen(this.ad.animationScreen):e||this.getHomeScreen(),this.openScreen(e,null,null)}},{key:"openScreen",value:function(t,e,n){var i,r=2<arguments.length&&void 0!==n?n:null;if(t!==this.currentScreen&&(null==t||!t.animating)){if(e&&e.animations&&!r&&e.restoreElementPositions(),this.vpaid&&"home"===(null==t?void 0:t.iid)&&e?this.ad.sendVpaidMessage("unpause"):this.vpaid&&"home"!==(null==t?void 0:t.iid)&&this.ad.sendVpaidMessage("pause"),"none"===(null===(i=r)||void 0===i?void 0:i.type)&&(r=null),this.currentScreen){var o=this.currentScreen._animationElement();null==o||o.ended()}if(e)e.startTransition(r,!1),e.getComponentElements().filter(function(e){return"video"===e.type&&e.settings.postRollPending}).forEach(function(e){return e.component.cancelPostRoll()});else{var a;if(r)null===(a=this.currentScreen)||void 0===a||a.startTransition(r,!1);this.screens.filter(function(e){return e!==t}).forEach(function(e){return e.hide()})}t.startTransition(r,!0),this.currentScreen=t,this.updateElementStates()}}},{key:"openScreenFromAnimation",value:function(e){var t=this;if(!this.ad.animationMode){var n=this.currentScreen,i=this.getScreen(e.toScreen);if(i){var r=1e3*parseFloat(e.delay||0);setTimeout(function(){return t.openScreen(i,n,e)},r)}}}},{key:"updateElementStates",value:function(){var e;null===(e=this.persistentLayer)||void 0===e||e.updateState(),this.currentScreen.getElements(["customButton"]).forEach(function(e){e.updateState()})}},{key:"_buildFeature",value:function(e,t){var n=a.default.AdFeature.create(this.ad,t);return n.screens=[e],n.layouts=t.layouts||[],n.settings={},this.ad.features.push(n),n}},{key:"_allElementsByIid",value:function(){var e,t,n,i,r={};return null===(e=this.persistentLayer)||void 0===e||null===(t=e.elements)||void 0===t||t.forEach(function(e){r[e.originalIid]=e}),null===(n=this.background)||void 0===n||null===(i=n.elements)||void 0===i||i.forEach(function(e){r[e.originalIid]=e}),this.screens.filter(function(e){return e.elements}).reduce(function(e,t){return e.concat(t.elements)},[]).forEach(function(e){r[e.iid]=e}),r}},{key:"restoreElementPositions",value:function(){var t=this._allElementsByIid();this.screens.forEach(function(e){e.animations&&e.animations.length&&e.restoreElementPositions(t)})}},{key:"refresh",value:function(e){var t,n,i=e.settings,r=void 0===i?{}:i,o=this.responsive?"ResponsiveScreen":"HtmlScreen";r.screen&&r.screen.iid!==(null===(t=this.canvasScreen)||void 0===t?void 0:t.iid)&&(this.canvasScreen&&this._removeScreen(this.canvasScreen),this.canvasScreen=new a.default[o](this,r.screen),this.screens.push(this.canvasScreen)),r.elements&&this._resetElements(r.elements),this._rebuildPersistentLayer(r.persistentElements),this._rebuildBackground(r.background),this._rebuildScreen(this.canvasScreen),this._rebuildCSS(r),r.layout&&(this.canvasScreen.setLayoutMode(!0),this._showSlide(null===(n=r.feature)||void 0===n?void 0:n.id,r.layout));this.ad.eventManager.dispatch("adShown")}},{key:"show",value:function(e){var t;e.screen&&(null===(t=this.canvasScreen)||void 0===t?void 0:t.iid)!==e.screen&&this._showScreen(e.screen),e.layout&&this._showSlide(e.feature,e.layout),this.ad.eventManager.dispatch("adShown")}},{key:"hideOverState",value:function(e){var t=this.getScreen(e.screen);(null==t?void 0:t.getElement(e.iid))._toggleState("up")}},{key:"showOverState",value:function(e){var t=this.getScreen(e.screen);(null==t?void 0:t.getElement(e.iid))._toggleState("over")}},{key:"_showScreen",value:function(e){this.canvasScreen&&this._removeScreen(this.canvasScreen);var t,n=this.getScreen(e);n&&(this._rebuildScreen(n),this.canvasScreen=n,null===(t=this.persistentLayer)||void 0===t||t.updateState())}},{key:"_showSlide",value:function(n,i){this.canvasScreen.getComponentElements().filter(function(e){var t;return(null===(t=e.feature)||void 0===t?void 0:t.id)===n}).forEach(function(n){Object.keys(n.feature.layouts).forEach(function(e){var t=n.feature.layouts[e];i===t.iid&&n.component&&n.component.navigateTo(e)})})}},{key:"_rebuildCSS",value:function(e){var t=[];this.canvasScreen.getComponentElements().filter(function(e){return e.layouts}).forEach(function(e){t.concat(e.layouts)});var n=[];t.forEach(function(e){e.elements&&n.concat(e.elements)});var i=(e.elements||[]).concat(n).filter(function(e){return e.css}).map(function(e){return e.css})||[],r=(e.css||"")+i.join("");$(this.doc.getElementById("live-style")).remove(),this.$el.append(this._getCustomStyleTag()),$(this.doc.getElementById("live-style")).append(r)}},{key:"_rebuildPersistentLayer",value:function(e){e&&(this.settings.elements=e),this.persistentLayer&&this._removeScreen(this.persistentLayer),this._createPersistentLayer(),this._rebuildScreen(this.persistentLayer)}},{key:"_rebuildBackground",value:function(e){e&&(this.settings.background=e),this.background&&this._removeScreen(this.background),this.ad._createBackground(this,this.settings.background),this._rebuildScreen(this.background)}},{key:"_rebuildScreen",value:function(e){var t;this._removeScreen(e),e.elements.forEach(function(e){e.loaded=!1}),e.render(),e.load(),null==e||null===(t=e.show)||void 0===t||t.call(e)}},{key:"_removeScreen",value:function(e){e.$el&&(e.$el.remove(),e.$el=null)}},{key:"_resetElements",value:function(e){this.canvasScreen.elements=e}},{key:"getNonScreenElements",value:function(){var e,t;return[].concat((null===(e=this.background)||void 0===e?void 0:e.elements)||[]).concat((null===(t=this.persistentLayer)||void 0===t?void 0:t.elements)||[])}}]),i}();a.default.HtmlAdPanel=p},function(e,t,n){function r(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function b(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function w(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function _(e,t){function n(){var e=i;o(e)&&e.a.parentNode&&t(e.g)}var i=e;r(e.b,n),r(e.c,n),o(e)}function i(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function a(){return null===u&&(u=!!document.fonts),u}function k(e,t){return[e.style,e.weight,function(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}()?e.stretch:"","100px",t].join(" ")}var x,s,l,u;u=l=s=x=null,i.prototype.load=function(e,t){var p=this,v=e||"BESbswy",m=0,g=t||3e3,y=(new Date).getTime();return new Promise(function(d,h){if(a()&&!function(){if(null===s)if(a()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&parseInt(e[1],10)<603}else s=!1;return s}()){var e=new Promise(function(n,e){!function t(){(new Date).getTime()-y>=g?e():document.fonts.load(k(p,'"'+p.family+'"'),v).then(function(e){1<=e.length?n():setTimeout(t,25)},function(){e()})}()}),t=new Promise(function(e,t){m=setTimeout(t,g)});Promise.race([t,e]).then(function(){clearTimeout(m),d(p)},function(){h(p)})}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function n(){var e;(e=-1!=a&&-1!=s||-1!=a&&-1!=l||-1!=s&&-1!=l)&&((e=a!=s&&a!=l&&s!=l)||(null===x&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),x=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=x&&(a==t&&s==t&&l==t||a==u&&s==u&&l==u||a==c&&s==c&&l==c)),e=!e),e&&(f.parentNode&&f.parentNode.removeChild(f),clearTimeout(m),d(p))}var i=new b(v),r=new b(v),o=new b(v),a=-1,s=-1,l=-1,t=-1,u=-1,c=-1,f=document.createElement("div");f.dir="ltr",w(i,k(p,"sans-serif")),w(r,k(p,"serif")),w(o,k(p,"monospace")),f.appendChild(i.a),f.appendChild(r.a),f.appendChild(o.a),document.body.appendChild(f),t=i.a.offsetWidth,u=r.a.offsetWidth,c=o.a.offsetWidth,function e(){if((new Date).getTime()-y>=g)f.parentNode&&f.parentNode.removeChild(f),h(p);else{var t=document.hidden;!0!==t&&void 0!==t||(a=i.a.offsetWidth,s=r.a.offsetWidth,l=o.a.offsetWidth,n()),m=setTimeout(e,50)}}(),_(i,function(e){a=e,n()}),w(i,k(p,'"'+p.family+'",sans-serif')),_(r,function(e){s=e,n()}),w(r,k(p,'"'+p.family+'",serif')),_(o,function(e){l=e,n()}),w(o,k(p,'"'+p.family+'",monospace'))})})},e.exports=i},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(2);var c=function(){function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=s(this,l(i).call(this,e,t))).panel=e,n.elements=t,n.ad=n.panel.ad,n.persistent=!0,n.animations=[],n.iid=r.default.Utils.generateIID(),n._initElementContainer(),n._setupElementContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,r.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"_html",value:function(){return'\n      <div id="persistent-layer_'.concat(this.iid,'" class="persistent-layer">\n      </div>\n    ')}},{key:"render",value:function(){this.width=this.panel.width*this.panel.scale.magnitude,this.height=this.panel.height*this.panel.scale.magnitude,this.panel.$el.append(this._html()),this.$el=$(this.panel.doc.getElementById("persistent-layer_".concat(this.iid))),this._renderElements(),this._delegateElementEvents(),this._delegateAnimationEvents()}},{key:"_delegateAnimationEvents",value:function(){var e=this;this.panel.screens.forEach(function(t){e.elements.forEach(function(e){t.animationsByIid[e.originalIid]&&e.delegateAnimationEvents(t.animationsByIid[e.originalIid],t.iid)})})}},{key:"load",value:function(){return this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")),this._loadElements()}},{key:"updateState",value:function(){var e;null===(e=this.elements)||void 0===e||e.forEach(function(e){var t;return null===(t=e.updateState)||void 0===t?void 0:t.call(e)})}},{key:"moveBelowAnimation",value:function(){return this.$el.css("zIndex",-1)}},{key:"showAfterAnimation",value:function(){return this.$el.css("zIndex",20)}},{key:"_shouldDelayLoad",value:function(){return!1}},{key:"trackClick",value:function(e){return(this._getSelfOrParentScreen()||this.panel.getHomeScreen()).trackClick(e)}},{key:"_getSelfOrParentScreen",value:function(){return this.panel.currentScreen}},{key:"getTrackingKey",value:function(){return(this.panel.currentScreen||this.panel.screens[0]).getTrackingKey()}},{key:"getId",value:function(){return this.panel.currentScreen.getId()}}]),i}();c.extend(r.default.ElementContainer),c.extend(r.default.HtmlElementContainer),r.default.OmnipresentHtmlScreen=c},function(e,t,n){"use strict";var i=o(n(0)),r=o(n(40));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,r.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"_delegateEvents",value:function(){this._delegateElementEvents(!1),this._delegateAnimationEvents()}}]),e}();i.default.HtmlScreen=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=(i=n(0))&&i.__esModule?i:{default:i};n(7);var o=n(4);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),u(this,f(r).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,s.default.Screen),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(r,[{key:"setup",value:function(){var e=this;this.setupScreenSize(),this._setupElementContainer(),this.ad.eventManager.subscribe("resize:".concat(this.ad.iid),function(){return e.setupScreenSize()})}},{key:"setupScreenSize",value:function(){this.width=this.panel.width*this.panel.scale.magnitude,this.height=this.panel.height*this.panel.scale.magnitude,this.tall=this.height>3*this.width,this.wide=this.width>7*this.height}},{key:"render",value:function(){this.setup(),this.panel.$el.append(this._html()),this.$el=$(this.panel.doc.getElementById("screen-".concat(this.getId(),"-").concat(this.panel.type||"panel"))),this.panel.background?this.$el.css({background:"transparent"}):this.$el.css({backgroundColor:"#fff"}),this.hide(),this._renderElements(),this._delegateEvents()}},{key:"_delegateEvents",value:function(){}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=c(f(r.prototype),"load",this)).call.apply(e,[this].concat(n)),this._loadElements()}},{key:"checkAutoLaunchFeatures",value:function(){"home"===this.getId()&&this.ad.basePanel===this.panel||this.getComponentElements().forEach(function(e){var t;-1<["mediaCarousel","video"].indexOf(e.type)&&!e.launched&&(null===(t=e.settings)||void 0===t?void 0:t.launchBeforeEngagement())&&e.component.launch()})}},{key:"startTransition",value:function(e,t){var n=this,i=!(1<arguments.length&&void 0!==t)||t;if(e){this.$el.addClass("preserve-3d");this.$el.on("animationend webkitAnimationEnd",function(e){e.target===n.$el[0]&&(n.animations&&n.restoreElementPositions(),n._transitionEnd(i),n.$el.off("animationend webkitAnimationEnd"))});var r=i?"in":"out";setTimeout(function(){return n._addTransition(e,r)})}else i?this.show():this.hide(),this.checkAutoLaunchFeatures()}},{key:"hide",value:function(){this.getComponentElements().forEach(function(e){return e.component.stop()}),this.makeInvisible()}},{key:"show",value:function(){"home"!==this.getId()&&this.ad.loadNonHomeElements(),this.makeVisible(),this.ad.adReadyPromise.then(this.showReady.bind(this))}},{key:"showReady",value:function(){var e,t,n,i;this.ad.canvasMode||s.default.Animation&&this.animations&&this.animations.length&&(this.resetEffectCalls(),this.remainingLoops=(null===(t=this.animationSettings)||void 0===t?void 0:t.loops)||0,"multiple"===(null===(n=this.animationSettings)||void 0===n?void 0:n.play)?this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")):"multiple"!==(null===(i=this.animationSettings)||void 0===i?void 0:i.play)&&(this.animationLoaded||(this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")),this.animationLoaded=!0)));this.ad.feedsCustomReportingEnabled&&!this.ad.impressionTracked&&"function"==typeof Tracker&&this.feedsReportImpression(),this.engage(),null===(e=this._animationElement())||void 0===e||e.renderAnimation(),s.default.Browser.isSafari()&&!this.ad.canvasMode&&this._reloadElements(),this._resetInlineVideos()}},{key:"hasFeedElements",value:function(e){return(e[e.type].dynamic||e.action&&e.action.isDynamicClicktag)&&e.dynamicSettings&&("feed"===e.dynamicSettings.source||"feed"===e.dynamicSettings.clicktagSource)}},{key:"mapFeedElements",value:function(e){return["feed"===e.dynamicSettings.source&&+e.dynamicSettings.multiItem,"feed"===e.dynamicSettings.clicktagSource&&+e.dynamicSettings.clicktagMultiItem].filter(function(e){return!1!==e})}},{key:"getFeedItemIds",value:function(e){var t=this,n=e.elements.filter(function(e){return"mediaCarousel"===e.type&&"standard"===e.carouselType}).map(function(e){return e.layouts.map(function(e){return e.elements})});n=(0,o.flattenDeep)(n);var i=e.elements.filter(function(e){return"mediaCarousel"===e.type&&"feed"===e.carouselType}).map(function(e){return s.default.HtmlMediaCarouselComponent.getFeedMultiItems(e,t.ad.feedData.length)}),r=e.elements.concat(n).filter(this.hasFeedElements).map(this.mapFeedElements);return r=(0,o.flattenDeep)(r.concat(i))}},{key:"feedsReportImpression",value:function(){var r=this,e=this.panel.screens.map(function(e){return r.getFeedItemIds(e)});if(e=(0,o.flattenDeep)(e),this.panel.background&&this.panel.background.elements&&(e=e.concat(this.getFeedItemIds(this.panel.background))),this.panel.persistentLayer&&this.panel.persistentLayer.elements&&(e=e.concat(this.getFeedItemIds(this.panel.persistentLayer))),0!==(e=(0,o.uniq)(e)).length){var t=e.map(function(e){return r.ad.feedData[e]}).map(function(t){var n=[],i=r.ad.feedsCustomReportingFields;return delete i[i.indexOf("powerfeeds_id")],i=i.filter(Boolean),i=["powerfeeds_id"].concat(a(i)),(0,o.keys)(t).forEach(function(e){(0,o.includes)(i,e)&&n.push(s.default.FeedHelper.sanitizeFeedValueForReporting(t[e]))}),n.join(",")}).join("|");this.ad.impressionTracked=!0,window.myFT.get("debugStateCall")&&console.log("Custom reporting message:",t),window.Tracker.impressionTrackEvent(t)}}},{key:"makeInvisible",value:function(){this.visible=!1,this.$el.css(this._invisibleCss())}},{key:"makeVisible",value:function(){this.visible=!0,this.$el.css(this._visibleCss())}},{key:"setLayoutMode",value:function(e){e?this.$el.addClass("layout-mode"):this.$el.removeClass("layout-mode")}},{key:"_invisibleCss",value:function(){return s.default.Browser.isSafari()?{display:"none",pointerEvents:"none"}:{opacity:0,zIndex:-1,pointerEvents:"none"}}},{key:"_visibleCss",value:function(){return s.default.Browser.isSafari()?{display:"block",pointerEvents:"auto"}:{opacity:1,zIndex:1,pointerEvents:"auto"}}},{key:"_addTransition",value:function(e,t){var n=e.direction,i=e.easing,r=e.duration?1e3*e.duration:s.default.Animation.defaultDuration,o=e.type||e.transition;this.animating=!0,this.$el.css($.extend({},this._visibleCss(),{width:"100%",height:"100%"}));var a=s.default.Animation.getAnimations(o,n);this.transitions=a.map(function(e){return e[t]}),s.default.Animation.addAnimation(this.$el,{animations:this.transitions,easing:i,duration:r,entry:t,type:o})}},{key:"_transitionEnd",value:function(e){!(0<arguments.length&&void 0!==e)||e?this.show():this.hide(),this.checkAutoLaunchFeatures(),s.default.Animation.removeAnimation(this.$el,this.transitions),this.panel.background&&this.$el.css({width:"auto",height:"100%"}),this.animating=!1}},{key:"_html",value:function(){var e=this.panel.background?"has-background":"";return'\n      <div id="screen-'.concat(this.getId(),"-").concat(this.panel.type||"panel",'" class="screen ').concat(e,'">\n      </div>\n    ')}},{key:"_animationElement",value:function(){var e;return null===(e=this.getElements(["animation"]))||void 0===e?void 0:e[0]}},{key:"hasAnimation",value:function(){return!!this._animationElement()}},{key:"_reloadElements",value:function(){var e=this,t=this.$el.css("display");this.$el.css("zIndex",+this.$el.css("zIndex")+1),this.$el.css("display","none"),setTimeout(function(){e.$el.css("zIndex",+e.$el.css("zIndex")-1),e.$el.css("display",t)},0)}},{key:"_renderDiv",value:function(){return this.$el}}]),r}();h.extend(s.default.HtmlElementContainer);var p=h;t.default=p},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i,o=(i=n(0))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(43);var f=function(){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),s(this,u(i).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"_afterElemAppend",value:function(){var e=this.action||{},t=e.clicktag,n=e.isDynamicClicktag;0<t&&!this.ad.isPreview&&!n&&this.$el.wrap('<ft-click clicktag="'.concat(this.action.clicktag,'"></ft-click>')),l(u(i.prototype),"_afterElemAppend",this).call(this)}},{key:"delegateEvents",value:function(){l(u(i.prototype),"delegateEvents",this).call(this),this.delegatePreviewClick()}},{key:"delegatePreviewClick",value:function(){var t=this;this.ad.isPreview&&this.$()&&this.$().on("tap click",function(){var e=t.container.getLandingPage(t.action,t);e&&t.ad.openLink(e.url)})}},{key:"_onReady",value:function(){var e=this.action||{},t=e.isDynamicClicktag,n=e.clicktag;if(window.myFT&&t&&0<n){var i="feed"===this.dynamicSettings.clicktagSource,r=window.myFT.instantAds[this.action.clicktagName];i||window.myFT.applyClickTag(this.$el,n,r)}else o.default.Slide&&this.container instanceof o.default.Slide&&window.myFT&&0<n&&window.myFT.applyClickTag(this.$el,n)}}]),i}();o.default.HtmlElement=f},function(e,t,n){"use strict";var i,h=(i=n(0))&&i.__esModule?i:{default:i},s=n(4);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var p=["onTap","onClick","onHover","onMouseOut"],u=function(){function i(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.container=e,this.settings=t,h.default.Console.log("Initializing HTML Element on %s: %o",this.container.name,this.settings),h.default.Utils.extend(this,this.settings),this.panel=this.container.panel,this.setDefaults(),this.ad.adReadyPromise.then(this._onReady.bind(this)),this.animationsApplied=!1,this.elementHasDynamicFeedContent=this.useFtFeed()&&this.ad.isUsingDynamicFeeds(),this.firstAnimationIidPerScreen={},this.imageLoadPromiseResolve=null,this.imageLoadPromise=new Promise(function(e){n.imageLoadPromiseResolve=e})}return a(i,null,[{key:"create",value:function(e,t){var n,i=t.type;1<(null==i?void 0:i.length)&&(n="Html".concat(i[0].toUpperCase()).concat(i.slice(1),"Element"));var r=n||"HtmlElement";return e.ad.isPreview||t.optimization_overrides&&0<Object.keys(t.optimization_overrides).length&&(t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}({},t,t.optimization_overrides)),e.ad.factory(r,e,t)}}]),a(i,[{key:"preloadImage",value:function(e){h.default.Net.preloadImage(e).then(this.imageLoadPromiseResolve).catch(this.imageLoadPromiseResolve)}},{key:"setDefaults",value:function(){this[this.type]=this[this.type]||{},this.position=this.position||{top:0,left:0},this.rotationAngle=this.rotationAngle||0,this.opacity=void 0===this.opacity?1:this.opacity,this.size=this.size||{width:this.panel.width,height:this.panel.height},this.originalIid=this.originalIid||this.iid,this._setRenderDimensions()}},{key:"_setRenderDimensions",value:function(){this.magnitude="anchored"===this.positionType?1:this.panel.scale.magnitude,this.fullscreen&&(this.width="100%",this.height="100%"),this.width=this.size.width*this.magnitude,this.height=this.size.height*this.magnitude}},{key:"render",value:function(e){return this.$screen=e,this._setRenderDimensions(),this.$el=this.$elem(),this.$screen.append(this.$el),this._afterElemAppend(),this.$el}},{key:"_afterElemAppend",value:function(){var e,t,n=this;this.$el.attr("id","elem-".concat(this.iid)),this.$el.addClass("element"),(null===(e=this.ad)||void 0===e?void 0:null===(t=e.lockedElements)||void 0===t?void 0:t[this.iid])&&this.$el.addClass("locked"),this.$el.css(this._buildCss()),this.ad.eventManager.subscribe("resize:".concat(this.ad.iid),function(){n.setDefaults(),n.$el.css(n._buildCss(!1)),n.ad.canvasMode||n.animationsApplied||n.resetToFirstAnimation()})}},{key:"_onReady",value:function(){}},{key:"$elem",value:function(){return $(this._html())}},{key:"_html",value:function(){return'<div class="'.concat(this._getClass(),'"></div>')}},{key:"_getClass",value:function(){var e=h.default.Utils.toDashCase(this.type);return"".concat(e,"-element")}},{key:"resetToFirstAnimation",value:function(){var e,t,n=this.firstAnimationIidPerScreen[this.container.getId()];(null===(e=this.container.initialEffectsByIid[this.originalIid])||void 0===e?void 0:e[n])&&(this.$el.css(this._buildCss()),h.default.Animation.applyInitialEffects(this.$(),null===(t=this.container.initialEffectsByIid[this.originalIid])||void 0===t?void 0:t[n]))}},{key:"applyAnimation",value:function(e,t,n){var i,r=this,o=1<arguments.length&&void 0!==t?t:null,a=2<arguments.length&&void 0!==n&&n;this.animationsApplied=!0;var s=null;this.lastAnimatedScreen?this.lastAnimatedScreen!==this.panel.currentScreen&&(this.lastAnimatedScreen=this.panel.currentScreen,this.container.persistent&&(s=this.getPositionCss())):this.lastAnimatedScreen=this.panel.currentScreen||"home",this.lastAnimatedScreen=this.panel.currentScreen;var l=o?this.panel.getScreen(o):this.container;h.default.Animation.applyInitialEffects(this.$(),null===(i=this.container.initialEffectsByIid[this.originalIid])||void 0===i?void 0:i[e.iid],s),a&&l.restoreElementPositions();function u(){h.default.Animation.startElementAnimation(r.$el,e,r.ad.eventManager,l),r.ad.eventManager.publish("".concat(r.panel.iid,":animation:").concat(e.iid,":start"))}this.shouldBePreloaded()?this.imageLoadPromise.then(u):u()}},{key:"getExternalTriggerAnimations",value:function(){var t=this,e=(h.default.Slide&&this.container instanceof h.default.Slide?this.container.component.container:this.container).getAllAnimations(),n=[];return e.forEach(function(e){e.triggerElementIid===t.iid&&-1<p.indexOf(e.trigger)&&n.push(e)}),n}},{key:"delegateAnimationEvents",value:function(e,t){var n,i,r,o=this,a=0<arguments.length&&void 0!==e?e:null,s=1<arguments.length&&void 0!==t?t:null;if(!this.ad.canvasMode){this.getExternalTriggerAnimations().length&&this.$el.addClass("animation-interactive");var l=s;s=s||this.container.iid;var u=h.default.Slide&&this.container instanceof h.default.Slide?this.container.iid:null;if(a=a||this.container.animationsByIid[this.originalIid]){var c=u?null===(n=this.container)||void 0===n?void 0:n.animations:null===(i=this.panel.getScreen(s))||void 0===i?void 0:i.animations,f=h.default.Animation.generate(this.$el,a,this.container);this.container.initialEffectsByIid[this.originalIid]=f;var d=h.default.Animation.getFirstAnimation(a,c);this.firstAnimationIidPerScreen[s]=d.iid,h.default.Animation.applyInitialEffects(this.$(),null===(r=this.container.initialEffectsByIid[this.originalIid])||void 0===r?void 0:r[d.iid]),a.forEach(function(e){var t;-1<p.indexOf(e.trigger)&&o.$el.addClass("animation-interactive");var n=e.triggerElementIid||o.iid;switch(e.trigger){case"withPrevious":(t=h.default.Animation.getPrevious(e.iid,c))?o.ad.eventManager.subscribe("".concat(o.panel.iid,":animation:").concat(t.iid,":start"),o.applyAnimation.bind(o,e,l)):o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:").concat(s,":load"),o.applyAnimation.bind(o,e,l));break;case"afterPrevious":(t=h.default.Animation.getPrevious(e.iid,c))?o.ad.eventManager.subscribe("".concat(o.panel.iid,":animation:").concat(t.iid,":end"),o.applyAnimation.bind(o,e,l)):o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:").concat(s,":load"),o.applyAnimation.bind(o,e,l));break;case"onScreenLoad":o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:").concat(s,":load"),o.applyAnimation.bind(o,e,l,!0)),o.ad.eventManager.subscribe("".concat(o.panel.iid,":startNextLoop:").concat(s),o.applyAnimation.bind(o,e,l,!0));break;case"onSlideLoad":o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:layout:").concat(u,":load"),o.applyAnimation.bind(o,e,null,!0)),o.ad.eventManager.subscribe("".concat(o.panel.iid,":startNextLoop:").concat(u),o.applyAnimation.bind(o,e,null,!0));break;case"onClick":case"onTap":o.ad.eventManager.subscribe("element:".concat(n,":click"),o.applyAnimation.bind(o,e,l));break;case"onHover":o.ad.eventManager.subscribe("element:".concat(n,":hover"),o.applyAnimation.bind(o,e,l));break;case"onMouseOut":o.ad.eventManager.subscribe("element:".concat(n,":mouseOut"),o.applyAnimation.bind(o,e,l));break;case"onVideoStart":o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:").concat(s,":videoStart"),o.applyAnimation.bind(o,e,l));break;case"videoTime":o.ad.eventManager.addTime(e.time||0),o.ad.eventManager.subscribe("".concat(o.panel.iid,":screen:").concat(s,":videoTime:").concat(e.time||0),o.applyAnimation.bind(o,e,l))}})}}}},{key:"delegateEvents",value:function(){var o=this;h.default.Engagement.onHover(function(){return o.ad.eventManager.publish("element:".concat(o.iid,":hover"))},{node:this.$()[0]}),this.$().on("tap click",function(){var e,t=o.action||{},n=t.isDynamicClicktag,i=t.clicktag,r="feed"===(null===(e=o.dynamicSettings)||void 0===e?void 0:e.clicktagSource);window.myFT&&n&&0<i&&r&&o.handleFeedClicktagClick(),o.ad.eventManager.publish("element:".concat(o.iid,":click")),h.default.Browser.isMobile()&&o.ad.eventManager.publish("element:".concat(o.iid,":hover"))}),this.$().on("mouseleave",function(){o.ad.eventManager.publish("element:".concat(o.iid,":mouseOut"))})}},{key:"handleFeedClicktagClick",value:function(){var e=this.dynamicSettings.clicktagMultiItem,t=parseInt(e,10),n=this.ad.feedData[t],i=h.default.FeedHelper.getClicktagUrl(this.ad.feedData,this);if(this.action.isDynamicClicktag&&this.ad.feedsCustomReportingEnabled){var r=[],o=this.ad.feedsCustomReportingFields;delete o[o.indexOf("powerfeeds_id")],o=o.filter(Boolean),o=["powerfeeds_id"].concat(l(o)),(0,s.keys)(n).forEach(function(e){(0,s.includes)(o,e)&&r.push(h.default.FeedHelper.sanitizeFeedValueForReporting(n[e]))});var a=r.join(",");window.myFT.get("debugStateCall")&&console.log("Custom reporting message:",a),window.Tracker.clickTrackEvent(a,"ft_section",!1)}window.myFT.clickTag(this.action.clicktag,i)}},{key:"shouldBePreloaded",value:function(){return!1}},{key:"load",value:function(){var e,t,n,i,r,o,a,s,l;"animation"!==this.type&&(this.loaded=!0),((null===(e=this.action)||void 0===e?void 0:e.screen)||(null===(t=this.action)||void 0===t?void 0:t.landingPageKey)||(null===(n=this.action)||void 0===n?void 0:n.element)||(null===(i=this.action)||void 0===i?void 0:i.panel)||(null===(r=this.action)||void 0===r?void 0:r.ad)||0<(null===(o=this.action)||void 0===o?void 0:o.clicktag))&&(null===(s=this.$el)||void 0===s||s.addClass("has-action"));(null===(a=this.action)||void 0===a?void 0:a.panel)&&"dual"===this.action.interaction&&(null===(l=this.$el)||void 0===l||l.addClass("hover-expand"));this.elementHasDynamicFeedContent&&this.renderContentFromDynamicFeed()}},{key:"engage",value:function(){}},{key:"$",value:function(e){return e?this.$el.find(e):this.$el}},{key:"_getProcessorId",value:function(){var e,t,n;return this.image?this.image.processorId||(null===(e=this.action)||void 0===e?void 0:e.processorId):this.customButton?(null===(t=this.customButton.upState)||void 0===t?void 0:t.processorId)||(null===(n=this.action)||void 0===n?void 0:n.processorId):void 0}},{key:"getProcessorItems",value:function(){var e,t;if(this.image&&this.image.processorId)t=this.image.processorId;else if(this.customButton&&(null===(e=this.customButton.upState)||void 0===e?void 0:e.processorId)){var n;t=null===(n=this.customButton.upState)||void 0===n?void 0:n.processorId}else this.text&&this.text.processorId&&(t=this.text.processorId);if(!t)return null;var i,r=null===(i=this.ad.features.filter(function(e){return e.processorId===t}))||void 0===i?void 0:i[0];if(r){var o,a,s,l=(null===(o=this.action)||void 0===o?void 0:o.itemIndex)||(null===(a=this.text)||void 0===a?void 0:a.itemIndex)||0;return(null===(s=r.items)||void 0===s?void 0:s[l])?[r.items[l]]:null}}},{key:"getPositionCss",value:function(){var n=this,i="anchored"===this.positionType?this.anchorPosition:this.position,r={};return Object.keys(i).forEach(function(e){var t=i[e];r[e]="left"===e||"right"===e?t*n.container.width:t*n.container.height}),r}},{key:"_buildCss",value:function(e){var t,n,i,r,o,a,s,l,u=this,c=!(0<arguments.length&&void 0!==e)||e;"overlay"===this.panel.expansionType?(t=this.ad.mraid?null===(i=this.ad.topDimensions)||void 0===i?void 0:i.height:null===(r=this.panel.doc)||void 0===r?void 0:null===(o=r.body)||void 0===o?void 0:o.clentHeight,n=this.ad.mraid?null===(a=this.ad.topDimensions)||void 0===a?void 0:a.width:null===(s=this.panel.doc)||void 0===s?void 0:null===(l=s.body)||void 0===l?void 0:l.clientWidth):(t=window.innerHeight,n=window.innerWidth);var f,d,h,p,v,m=this.container.persistent&&this.panel.responsive&&"y"===this.panel.scale.dimension?(t-this.container.height)/2:0,g=this.container.persistent&&this.panel.responsive&&"x"===this.panel.scale.dimension?(n-this.container.width)/2:0,y=this.horizontallyCenter&&!this.horizontallyCenter.disabled,b=this.verticallyCenter&&!this.verticallyCenter.disabled,w={position:"absolute",zIndex:this.zIndex,width:this.width,height:this.height};return"rteText"===this.type&&(w.overflow="hidden",w.display="flex",w.flexDirection="column",this.verticalAlign&&(w.justifyContent=this.verticalAlign)),c&&($.extend(w,{transform:"rotate(".concat(this.rotationAngle,"deg)"),opacity:this.opacity}),"anchored"===this.positionType?($.extend(w,(v={},{}.hasOwnProperty.call(u.anchorPosition||{},"left")&&(v.left=u.panel.width*u.anchorPosition.left),{}.hasOwnProperty.call(u.anchorPosition||{},"right")&&(v.right=u.panel.width*u.anchorPosition.right),{}.hasOwnProperty.call(u.anchorPosition||{},"top")&&(v.top=u.panel.height*u.anchorPosition.top),{}.hasOwnProperty.call(u.anchorPosition||{},"bottom")&&(v.bottom=u.panel.height*u.anchorPosition.bottom),v)),(y||b)&&(p=w,u.horizontallyCenter.disabled||u.verticallyCenter.disabled?u.horizontallyCenter.disabled||(p.right=0,p.left=0,$.extend(p,{margin:"0 auto"})):(p.top=0,p.right=0,p.bottom=0,p.left=0,$.extend(p,{margin:"auto auto"})),p.top=0,p.bottom=0,$.extend(p,{margin:"auto 0"}))):$.extend(w,((h={}).left=(null===(f=u.position)||void 0===f?void 0:f.left)?u.container.width*u.position.left+g:0,h.top=(null===(d=u.position)||void 0===d?void 0:d.top)?u.container.height*u.position.top+m:0,h))),w}},{key:"renderContentFromDynamicFeed",value:function(){}},{key:"useFtFeed",value:function(){return!1}}]),i}();h.default.HtmlElement=u},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(45);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,r.default.AdApi),e}();r.default.AdApiSc=u},function(e,t,n){"use strict";var i,d=(i=n(0))&&i.__esModule?i:{default:i};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.ad=e}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"bindAnimationCallback",value:function(e){return e(this.ad.apiSetupOptions())}},{key:"trackViewed",value:function(e,t){if(e){var n,i,r=null===(n=this.ad.getElementByIid(t))||void 0===n?void 0:null===(i=n.container)||void 0===i?void 0:i.getUniqueTrackingKey();this.ad.uuidManager.cacheViewedUuid(e.itemUuid,r),this.ad.uuidManager.trackViewed(r)}}},{key:"openScreen",value:function(e,t,n){var i;n&&!this.ad.engaged&&this.ad.engage();var r,o=this.ad.getCurrentScreen();o&&(null===(r=o._animationElement())||void 0===r||r.ended());var a=this.ad.getScreenByName(e);null==a||null===(i=a.panel)||void 0===i||i.openScreen(a,null,t)}},{key:"openPanel",value:function(e){e.panel.close?this.ad.close():e.panel.open&&this.ad.open()}},{key:"_getLandingPage",value:function(e,t){if("__default"!==e)return e.itemIndex?null==t?void 0:t.getLandingPage(e):{url:this.ad.landingPages[e.id]||e.url};var n,i=null==t?void 0:null===(n=t._animationElement())||void 0===n?void 0:n.action;return null==t?void 0:t.getLandingPage(i)}},{key:"openLanding",value:function(e,t,n,i){var r,o=this,a=2<arguments.length&&void 0!==n?n:"",s=3<arguments.length&&void 0!==i?i:null;this.engaged||this.ad.engage();var l=this.ad.getCurrentScreen();e=this._getLandingPage(e,l);function u(e){return s(d.default.Net.appendQueryParamsToUrl(e,a))}var c=null==l?void 0:l.getTrackingKey(),f={description:"Clicked ".concat(null==l?void 0:null===(r=l._animationElement())||void 0===r?void 0:r.name),baseFeature:"screen",partition:c,landingPage:e};return t?this.ad.sendMessage({topic:"setup",action:"process_landing_page",url:t,callback:function(e){return o.ad.completionClickThrough(c,f,e,u)}}):this.ad.completionClickThrough(c,f,null,u)}}]),t}();d.default.AdApi=o},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(47);var f=function(){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,u(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,r.default.Ad),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"_handleSetupMessage",value:function(e){l(u(n.prototype),"_handleSetupMessage",this).call(this,e)||this._evaluateMessageCallback(e)}},{key:"onPanelSetup",value:function(){var t=this;if(l(u(n.prototype),"onPanelSetup",this).call(this),this.topBaseUrl){$("head").append('<base href="'.concat(this.topBaseUrl,'">')),this.html5apiLoaded=!1,this.trackerLoaded=!1;var e=$("<script>").attr({type:"text/javascript",src:"https://cdn.flashtalking.com/frameworks/js/api/2/10/html5API.js"}).on("load",function(){window.myFT.on("manifest",function(){t.html5apiLoaded=!0;var e=$("<script>").attr({type:"text/javascript",src:"https://cdn.flashtalking.com/feeds/frameworks/js/utils/Tracker.js"}).on("load",function(){t.trackerLoaded=!0,t.runCallback()});$(document.body).append(e)})});$(document.body).append(e)}else this.resolveReadyPromise()}},{key:"runCallback",value:function(){if(this.html5apiLoaded&&this.trackerLoaded){var e=this.getCallback();window.myFT.instantAds?window.myFT.on("instantads",e):e()}}},{key:"getCallback",value:function(){return this.applySafariWorkaround(),this.resolveReadyPromise.bind(this)}},{key:"applySafariWorkaround",value:function(){try{var e=window.parent.location.host,t="creativepreview-qa-creativemanager.flashtalking.net"===e||"creativepreview.flashtalking.net"===e;if(r.default.Browser.isSafari()&&t)window.parent.parent.document.querySelector(".o-app span:first-child").style.display="none"}catch(e){}}},{key:"track",value:function(e){r.default.Console.log("Tracker: %o",e),this.html5apiLoaded&&window.myFT.send("tracker",e)}},{key:"_processSetupSettings",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};l(u(n.prototype),"_processSetupSettings",this).call(this,t),this.clickTagCount=t.clickTagCount}}]),n}();r.default.AdFt=f},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(4);__webpack_require__(8),__webpack_require__(9),__webpack_require__(10),__webpack_require__(11),__webpack_require__(12),__webpack_require__(2),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(7),__webpack_require__(6),__webpack_require__(48),__webpack_require__(17),__webpack_require__(49),__webpack_require__(50),__webpack_require__(51);var _spongecell=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ad=function(_spongecell$Module){function Ad(e){var t;return _classCallCheck(this,Ad),t=_possibleConstructorReturn(this,_getPrototypeOf(Ad).call(this,e)),_spongecell.default.Console.log("Initializing Ad: %o",e),t.impTag=t._getImpressionTag(),t.impTag._initAd(_assertThisInitialized(_assertThisInitialized(t))),t.iframe=t._getIframe(e),t.monotypeFontsManager=_spongecell.default.MonotypeFontsManager?new _spongecell.default.MonotypeFontsManager(e):null,t.animationMode=!!e.animation,t.animationScreen=e.animation,t.animationLayout=e.animation_layout,t.canvasMode=e.canvas,t.screenshotMode=e.screenshot,t.isPreview=e.preview||!1,t.feedData=[],t.feedsCustomReportingEnabled=!1,t.feedsCustomReportingFields=[],t.feedsUseFallback=!1,t.impressionTracked=!1,t.factory=new _spongecell.default.VendorClassFactory,t.eventManager=new _spongecell.default.EventManager(_assertThisInitialized(_assertThisInitialized(t))),t.uuidManager=new _spongecell.default.UuidManager(_assertThisInitialized(_assertThisInitialized(t))),t.adApi=t.factory("AdApi",_assertThisInitialized(_assertThisInitialized(t))),_spongecell.default.Browser.isMobile()&&t._setupViewPort(),t.adReadyPromise=new Promise(function(e){t.adReadyPromiseResolve=e}),t._setupChannels(),t}return _inherits(Ad,_spongecell$Module),_createClass(Ad,[{key:"_getIframe",value:function(e){if(e.canvas||e.animation)return!1;if(e.iframe)return e.iframe;try{var t,n,i;return!!(null===(t=this.impTag)||void 0===t?void 0:null===(n=t.creativeSettings)||void 0===n?void 0:null===(i=n.tags)||void 0===i?void 0:i.studioIframe)}catch(e){return!1}}},{key:"_getImpressionTag",value:function(){var e;return window.impressionTag||(null===(e=window.parent)||void 0===e?void 0:e.impressionTag)}},{key:"_createBackground",value:function(e,t,n){e.background=this.factory("Background",e,t,n)}},{key:"_createPanels",value:function(e){var r=this;if(this.panels=[],e.forEach(function(e){var t,n,i=(e.ad=r).factory("HtmlAdPanel",e);r.panels.push(i),(null===(t=e.background)||void 0===t?void 0:t.length)&&r._createBackground(i,e.background),null===(n=e.logs)||void 0===n||n.forEach(function(e){_spongecell.default.Console.log("Import logs: %o",e)})}),1<this.panels.length)return this.expansionRequired=!0,this.basePanel=this.panels[0],this.expandable=this.panels[1],this.basePanel.type="teaser",void(this.expandable.type="expanded");this.basePanel=this.panels[0],this.basePanel.type="standard",$(document.body).addClass("spongecell-ad")}},{key:"activePanel",value:function(){return this.expansionRequired&&this.opened?this.expandable:this.basePanel}},{key:"loadNonHomeElements",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.panels.forEach(function(e){return e.loadNonHomeElements(t)})}},{key:"_setup",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};_spongecell.default.Console.log("Initializing Ad Settings: %o",$.extend({},n)),this.isUsingFeeds()&&!this.isUsingDynamicFeeds()?this.getFeedDataLoadingPromise().then(function(){t._processAdRevisionSettings(n.adRevisionSettings),t._processSetupSettings(n)}):(this._processAdRevisionSettings(n.adRevisionSettings),this._processSetupSettings(n))}},{key:"_processAdRevisionSettings",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._createPanels(t.panels),this.iframe||(this.$el=$(document.getElementById("spongecell-ad-".concat(this.iid)))),this.expansionRequired&&this._sendExpansionMessage()}},{key:"_processSetupSettings",value:function(e){var t,n=this,i=0<arguments.length&&void 0!==e?e:{};this.iid=this.iid||i.iid,this.topDimensions=i.topDimensions,this.border=i.border||{},this.assets=i.assets||{},this.videoAssets=i.videoAssets||{},this.properties={flashData:$.extend(i.flashData||{},{name:"flashData"})},this.api=i.api,this.delayLoading="home"===(null===(t=i.loading)||void 0===t?void 0:t.strategy),this.creativeSettings=i,this.disableFullScreen=i.disableFullScreen,this.mraid=i.mraid,this.loading=i.loading,this.formatSettings=i.formatSettings||{},this.internalMacros=i.internalMacros||{},this.flexible=this.formatSettings.flexible,this.topBaseUrl=i.topBaseUrl||"",this.videoHost=i.videoHost;this.features=this._getFeatures(i,{}),this.panels.forEach(function(e){var t;null===(t=n.monotypeFontsManager)||void 0===t||t.onPanelCreate(e.settings),e.screens.forEach(function(e){var t;e.getComponentElements().forEach(function(e){var t;e.settings.vpaid&&(e.vpaid=!0),null===(t=n.monotypeFontsManager)||void 0===t||t.onFeatureSetup(e)}),null===(t=n.monotypeFontsManager)||void 0===t||t.onScreenSetup(e)})}),this.flexible&&_spongecell.default.Event.on(window,"resize",function(){return n.eventManager.publish("resize:".concat(n.iid))});function r(){return n._finishProcessSetupSettings(i)}var o=[];this.monotypeFontsManager&&o.push(this.monotypeFontsManager.getMonotypeLoadingPromise()),Promise.all(o).then(r,r)}},{key:"isUsingFeeds",value:function(){return!(0,_lodash.isEmpty)(this.impTag.creativeSettings.feeds)}},{key:"isUsingDynamicFeeds",value:function(){return!!this.isUsingFeeds()&&(!this.isPreview&&(this.impTag.creativeSettings.feeds.dynamic||!1))}},{key:"_getFeedDataPromise",value:function(i,r,o,a,s){var l=this;return new Promise(function(t){var e=i;o&&(l.feedsCustomReportingEnabled=!0,l.feedsCustomReportingFields=a),s&&window.myFT&&window.myFT.instantAds&&window.myFT.instantAds.Feed_URL&&(e=window.myFT.instantAds.Feed_URL);var n=0<=e.search("ftCreds=1");_spongecell.default.Console.log("Loading feeds from feeds URL... Credentials: ".concat(n)),_spongecell.default.Net.ajax(e,function(e){l.feedData=e,t()},function(){if(r){_spongecell.default.Console.log("Loading feeds from fallback URL...");var e=0<=r.search("ftCreds=1");_spongecell.default.Net.ajax(r,function(e){l.feedData=e,t()},function(){l.feedsUseFallback=!0,_spongecell.default.Console.log("Setting feeds to fallback."),t()},!1,{},void 0,e)}else l.feedsUseFallback=!0,_spongecell.default.Console.log("Setting feeds to fallback."),t()},!1,{},void 0,n)})}},{key:"getFeedDataLoadingPromise",value:function(e){var t=0<arguments.length&&void 0!==e&&e,n=this.impTag.creativeSettings.feeds,i=n.url,r=n.fallbackUrl,o=n.customReportingEnabled,a=n.customReportingFields;return this._getFeedDataPromise(i,r,o,a,t)}},{key:"_getFeatures",value:function(e,t){var n=this,i=[];return(e.features||[]).forEach(function(e){e=_spongecell.default.AdFeature.create(n,e),t[e.id]=e,i.push(e)}),i}},{key:"onPanelSetup",value:function(){this.formatSettings.autoRemove&&this._setupRemoveTimer(),this.canvasMode?this._setupCanvasMode():(this._loadFeatures(),this.expansionRequired&&this._setupExpansion()),this.animationMode&&this._setupAnimationMode()}},{key:"_finishProcessSetupSettings",value:function(n){var i=[];this.panels.forEach(function(e){if("overlay"!==e.expansionType){var t=e.setup(n);i.push(t)}});var e=this.onPanelSetup.bind(this);Promise.all(i).then(e,e)}},{key:"_setupRemoveTimer",value:function(){this.mraid&&this.formatSettings.useCustomClose&&this.mraidRequest("useCustomClose",!0),this.interstitial={},this.formatSettings.killTimer||(this.interstitial.removeTimer=1e3*this.formatSettings.initialTimer,this.interstitial.engageTimer=this.formatSettings.engageTimer?1e3*this.formatSettings.engageTimer:null,this.interstitial.removeTimeout=setTimeout(this.remove,this.interstitial.removeTimer),this.interstitial.removeTimerStart=new Date)}},{key:"_setupViewPort",value:function(){var e=document.querySelector("meta[name=viewport]");if(e)e.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1";else{(e=document.createElement("meta")).name="viewport",e.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1";var t=document.getElementsByTagName("head")[0];null==t||t.appendChild(e)}}},{key:"_loadFeatures",value:function(){function t(){return e.adReadyPromise.then(n)}var e=this,n=this._allFeaturesLoaded.bind(this),i=this.features.length;if(0!==i){this.features.map(function(e){return e.load(function(){0==(i-=1)&&t()})})}else t()}},{key:"_allFeaturesLoaded",value:function(){var e=this;this.featuresLoaded=!0,this.panels.forEach(function(e){return e.load()}),setTimeout(function(){e._removeLoader(),e.eventManager.dispatch("adLoaded")})}},{key:"resolveReadyPromise",value:function(){var e=this;this.isUsingDynamicFeeds()?this.getFeedDataLoadingPromise(!0).then(function(){e.adReadyPromiseResolve()}):this.adReadyPromiseResolve()}},{key:"_removeLoader",value:function(){this.sendMessage({topic:"loading",action:"removeLoader"})}},{key:"_setupChannels",value:function(){var e,t,n=this;this.iframe?this.iid=null===(e=this.impTag)||void 0===e?void 0:e.iid:this.iid=null===(t=this.impTag)||void 0===t?void 0:t.studioTag.iid;_spongecell.default.adTags=_spongecell.default.adTags||{},_spongecell.default.adTags[this.iid]=this,_spongecell.default.Event.addMessageListener(function(e){return n.receiveMessage(e)}),window.setTimeout(function(){return n.sendMessage({topic:"setup",callback:function(e){return n._setup(e)}})})}},{key:"_setupCanvasMode",value:function(){var e,t,n=this;this.$el.addClass("sc-canvas-mode"),this.delayLoading=!1,this._removeLoader(),null===(e=this.basePanel.persistentLayer)||void 0===e||e.load(),null===(t=this.basePanel.background)||void 0===t||t.load(),_spongecell.default.Broker.registerClient("canvas",function(e){return n._handleCanvasMessage(e)})}},{key:"_setupAnimationMode",value:function(){this.$el.addClass("sc-animation-mode")}},{key:"remove",value:function(){this.canvasMode||(this.mraid?this.mraidRequest("close"):this.sendMessage({topic:"nav",action:this.formatSettings.autoRemove?"remove":"close"}))}},{key:"openLink",value:function(e){this.mraid?this.mraidRequest("openLink",e):window.open(e)}},{key:"mraidRequest",value:function(e,t,n){this.sendMessage({topic:"mraid",fn:e,params:t,callback:n})}},{key:"engage",value:function(){var e,t,n;if(!this.canvasMode){this.$el.find(".outer-wrapper").remove();var i=!this.engaged;this.engaged=!0;var r=this.getCurrentScreen();null==r||null===(e=r.engage)||void 0===e||e.call(r),this.delayLoading&&i&&this.loadNonHomeElements(),null===(t=this.basePanel.persistentLayer)||void 0===t||t.engage(),null===(n=this.basePanel.background)||void 0===n||n.engage()}}},{key:"sendMessage",value:function(e){var n=this,i=0<arguments.length&&void 0!==e?e:{};if(i.iid=this.iid||"OVERRIDE",_spongecell.default.Console.log("Sending message from Ad: %o",i),this.iframe){var t=i.callback||function(){};this.impTag.sendChannelMessage(i.topic,i,t)}else _spongecell.default.Broker.sendOnChannel(i,i.callback),$("iframe").each(function(e,t){n._sendMessage(t.contentWindow,i)})}},{key:"_sendMessage",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};n=JSON.stringify(n),e.postMessage(n,"*")}},{key:"receiveMessage",value:function(e){switch(_spongecell.default.Console.log("Ad Receiving message: %o",e),e.topic){case"nav":this._handleNavMessage(e);break;case"setup":this._handleSetupMessage(e);break;case"vpaid":this._handleVPAIDMessage(e);break;default:this._evaluateMessageCallback(e)}}},{key:"_evaluateMessageCallback",value:function _evaluateMessageCallback(message){this[message.callback]&&(message.callback=_spongecell.default.Broker.registerCallbackFn(this[message.callback]));var evaluationFn=eval(message.callback);null==evaluationFn||evaluationFn(message.response)}},{key:"_handleNavMessage",value:function(e){this._handleNavMessageScreen(e)||this._handleNavMessageEngagement(e)||this._handleNavMessagePanel(e)||this._evaluateMessageCallback(e)}},{key:"_handleNavMessageScreen",value:function(e){if(e.screen)return this.adApi.openScreen(e.screen,e.transition,e.engage),!0}},{key:"_handleNavMessageEngagement",value:function(e){if(e.engagement&&!this.engaged)return this.engage(),!0}},{key:"_handleNavMessagePanel",value:function(e){if(e.panel)return this.adApi.openPanel(e),!0}},{key:"_handleSetupMessage",value:function(e){if("api"===e.type){var t={data:this.apiSetupOptions(),callback:e.callback};return this._sendAnimationMessage(t,e),!0}}},{key:"_handleVPAIDMessage",value:function(e){this.processVideoEvent(e),this.sendVpaidMessage("actionComplete",e)}},{key:"sendVpaidMessage",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.sendMessage({topic:"vpaid",action:e,callbackString:n.callback})}},{key:"_sendAnimationMessage",value:function(e,t){var n,i=t.iid;e.callbackParams=t.callbackParams||{};var r=document.getElementById("animation-".concat(i));null===(n=r=r||this.expandable&&this.expandable.doc.getElementById("animation-".concat(i)))||void 0===n||n.contentWindow.postMessage(e,"*")}},{key:"_handleCanvasMessage",value:function(e){var t,n;switch(_spongecell.default.Console.log("Ad Receiving Canvas message %o",e),e.action){case"refresh":this.basePanel.refresh(e);break;case"showOverState":this.basePanel.showOverState(e);break;case"hideOverState":this.basePanel.hideOverState(e);break;case"show":this.basePanel.show(e);break;case"update":this.assets=e.assets;break;case"hideElement":this.$el.find("#elem-".concat(e.element)).hide(),this.lockedElements=this.lockedElements||{},e.locked&&(this.lockedElements[e.element]=!0);break;case"showElement":this.$el.find("#elem-".concat(e.element)).show(),this.lockedElements=this.lockedElements||{},this.lockedElements[e.element]=!1;break;case"onLayoutMode":null===(t=this.getScreenByName(e.screen))||void 0===t||t.setLayoutMode(!0);break;case"offLayoutMode":null===(n=this.getScreenByName(e.screen))||void 0===n||n.setLayoutMode(!1)}}},{key:"apiSetupOptions",value:function(){var i=this,r={assets:{},properties:{},spongecellParams:this.internalMacros};return Object.keys(this.assets).forEach(function(e){var t=i.assets[e],n=t.label||t.name;r.assets[n]=t}),Object.keys(this.properties).forEach(function(e){var t=i.properties[e];r.properties[t.name]=t}),this.dynamicItems&&(r.dynamicItems=this.dynamicItems),r}},{key:"getCurrentScreen",value:function(){var e,t;return(null===(e=this.activePanel())||void 0===e?void 0:e.currentScreen)||(null===(t=this.activePanel())||void 0===t?void 0:t.getHomeScreen())}},{key:"getScreenByName",value:function(t){var n;return this.panels.forEach(function(e){e.screens.forEach(function(e){e.name!==t||n||(n=e)})}),n}},{key:"getElementByIid",value:function(n){var i=null;return this.panels.forEach(function(e){e.screens.forEach(function(e){var t=e.getElementByIid(n);t&&!i&&(i=t)})}),i}},{key:"topWindowDimensions",value:function(){if(this.mraid&&this.topDimensions)return this.topDimensions;var e=_spongecell.default.Expansion.getWindow();return{width:e.innerWidth,height:e.innerHeight}}},{key:"getFeedTextField",value:function(e,t){var n;return this.feedData[e]&&this.feedData[e][t]&&(n=this.feedData[e][t].toString()),n}}]),Ad}(_spongecell.default.Module);_spongecell.default.PanelContainer&&Ad.extend(_spongecell.default.PanelContainer),_spongecell.default.Ad=Ad},function(e,t,n){"use strict";var i,E=(i=n(0))&&i.__esModule?i:{default:i};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}E.default.Renderer=function(){function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,null,[{key:"normalImage",value:function(e){return!(e.backgroundType&&"normal"!==e.backgroundType||e.cropMode)}},{key:"imageCss",value:function(e,t){if(!t)return{};var n,i;/\.gif$/.test(t)&&(n=t,i=Math.floor(1e13*Math.random()),t="".concat(n,"?cb=").concat(i));var r={backgroundImage:"url('".concat(t,"')")};switch("crop"===e.backgroundType?"normal":e.backgroundType){case"normal":if(r.backgroundSize="100% 100%",e.cropDimensions){var o=e.cropDimensions;r.backgroundSize="auto",r.backgroundPosition="".concat(-1*o.x,"px ").concat(-1*o.y,"px")}if(e.backgroundDimensions){var a=e.backgroundDimensions,s={width:a.width/e.size.width*100,height:a.height/e.size.height*100};if(r.backgroundSize="".concat(s.width,"% ").concat(s.height,"%"),!e.cropMode){var l={x:a.width!==e.size.width?a.x/(a.width-e.size.width)*100:0,y:a.height!==e.size.height?a.y/(a.height-e.size.height)*100:0};r.backgroundPosition="".concat(l.x,"% ").concat(l.y,"%")}}r.backgroundRepeat="no-repeat";break;case"fit":r.backgroundSize="contain",r.backgroundRepeat="no-repeat",r.backgroundPosition="50% 50%";break;case"fill":r.backgroundSize="cover",r.backgroundRepeat="no-repeat",r.backgroundPosition="50% 50%";break;case"center":r.backgroundRepeat="no-repeat",r.backgroundPosition="center center";break;case"repeat":r.backgroundRepeat="repeat";break;case"optimized":r.backgroundSize="100% 100%",r.backgroundRepeat="no-repeat";break;default:r.backgroundRepeat="no-repeat"}return r}},{key:"imageStyle",value:function(e,t){var n,i=this.imageCss(e,t);return(null===(n=e.image)||void 0===n?void 0:n.backgroundColor)&&(i.backgroundColor=e.image.backgroundColor),$.extend({},i,u.getContainerCSS(e.image))}},{key:"imageButtonHtml",value:function(i,r){var o=this,a="";return["up","over","down"].forEach(function(e){var t=r[e],n=$('<div>\n  <div class="'.concat(e,'-state button-state"></div>\n</div>'));o.imageCss(i,t)&&n.find(".button-state").css(o.imageCss(i,t)),t&&(a+=n.html())}),a}},{key:"arrowButtonHtml",value:function(n){var i="";return["up","over"].forEach(function(e){var t=$('<div>\n  <div class="'.concat(e,'-state button-state">\n    ').concat(function(){switch(n.variant){case 1:return'<div class="sc-triangle"></div>\n<div class="button-semi"></div>';case 2:return'<div class="arrow-box">\n  <?xml version="1.0" encoding="iso-8859-1"?>\n    <svg version="1.1" id="arrow-2-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n      x="0" y="0" viewBox="0 0 43 43" style="position: absolute;" xml:space="preserve">\n        <path d="M17.897 29.639l.69.722 9.271-8.863-9.266-8.86-.691.723 8.51 8.137z" />\n    </svg>\n</div>\n';case 3:return'<div class="sc-triangle full"></div>';default:return""}}(),"\n  </div>\n</div>"));i+=t.html()}),i}},{key:"closeButtonHtml",value:function(n){var i="";return["up","over"].forEach(function(e){var t=$('<div>\n  <div class="'.concat(e,'-state button-state">\n    ').concat(function(){switch(n.variant){case 1:case 2:return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 25 25" style="position: absolute;" xml:space="preserve">\n    <path d="M11.162 12.432L5.19 6.461l1.338-1.338 5.972 5.972 5.972-5.972L19.81 6.46l-5.972 5.971 5.972 5.972-1.338\n      1.338L12.5 13.77l-5.972 5.972-1.338-1.338 5.972-5.972z"/>\n</svg>';case 3:return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 18 18" style="position: absolute;" xml:space="preserve">\n    <path d="M6.935 9.405L-.05 2.42 1.515.856 8.5 7.84 15.485.856\n      17.05 2.42l-6.985 6.985 6.985 6.986-1.565 1.564L8.5 10.97l-6.985 6.985-1.565-1.564 6.985-6.986z"/>\n</svg>';default:return""}}(),"\n  </div>\n</div>"));i+=t.html()}),i}},{key:"videoPlayButtonHtml",value:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).fill;return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 512 512" xml:space="preserve">\n    <path fill="'.concat(void 0===t?"#FFF":t,'" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176\n      101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z" />\n</svg>')}},{key:"posterFrameHtml",value:function(e,t){var n=[],i=e.posterFrame,r=(i=void 0===i?{}:i).icon,o=(r=void 0===r?{}:r).color,a=r.visible,s=r.text;if(!t&&!a)return null;o&&s&&n.push("color:".concat(o)),t&&n.push("background-image:url(".concat(t,")"));var l='<div class="poster-frame '.concat(e.type||"",'" style="').concat(n.join(";"),'">');return a&&(l+='<div class="poster-frame-icon">'.concat(u.videoPlayButtonHtml({fill:o}),"</div>"),s&&(l+="<div class='poster-frame-text'>".concat(s,"</div>"))),l+="</div>"}},{key:"applyArrowButtonStyle",value:function(i,n){var r,o,e=1,t=i.width||i.size.width,a=i.height||i.size.height,s=Math.min(t,a);switch(i.variant){case 1:i.borderWidth=2;break;case 2:case 3:i.borderWidth=1}function l(e){var t={borderLeftColor:i.button[e].borderColor,borderTopColor:i.button[e].borderColor,borderLeftWidth:"".concat(i.borderWidth,"px"),borderTopWidth:"".concat(i.borderWidth,"px"),width:c,height:c,transform:"rotate(135deg)","-webkit-transform":"rotate(135deg)",top:0,right:0};return 3===i.variant&&(i.orientation.match(/left|right/)?t.right="50%":"up"===i.orientation?t.top="33%":"down"===i.orientation&&(t.bottom="33%")),t}function u(){var e=$.extend(!0,{},i.button.style.shadow);if(2===i.variant&&i.orientation.match(/up|down/)){var t=[e.y,e.x];e.x=t[0],e.y=t[1]}var n=function(){if(1===i.variant)switch(i.orientation){case"right":return{x:1,y:1};case"left":return{x:-1,y:-1};case"up":case"down":default:return{x:1,y:1}}else if(2===i.variant)switch(i.orientation){case"right":return{x:1,y:1};case"left":return{x:-1,y:-1};case"up":return{x:-1,y:1};case"down":return{x:1,y:-1};default:return{x:1,y:1}}}();return"".concat(e.x*n.x,"px ").concat(e.y*n.y,"px ").concat(e.blur,"px ").concat(e.spread,"px ").concat(e.color)}var c=(s*Math.sqrt(2)/2-i.borderWidth)*e,f={up:"style",over:"hoverStyle"};switch(i.variant){case 1:e=.7,n().addClass(i.orientation),n().find(".button-semi").removeClass("up down right left"),n().find(".button-semi").addClass(i.orientation),n().css({boxShadow:u()}),Object.keys(f).forEach(function(e){if(o=f[e],n(".".concat(e,"-state .sc-triangle")).css(l(o)),n(".".concat(e,"-state .button-semi")).css({backgroundColor:i.button[o].bgColor}),i.orientation.match(/up|down/)){r="up"===i.orientation?45:225;var t={transform:"rotate(".concat(r,"deg)"),"-webkit-transform":"rotate(".concat(r,"deg)")};n(".".concat(e,"-state .sc-triangle")).css(t),n(".".concat(e,"-state .button-semi")).css({right:0,bottom:0,margin:"auto"})}});break;case 2:n().addClass("round"),n().css({boxShadow:u()}),Object.keys(f).forEach(function(e){o=f[e],n(".".concat(e,"-state")).css({backgroundColor:i.button[o].bgColor,border:"".concat(i.borderWidth,"px solid ").concat(i.button[o].borderColor)}),n(".".concat(e,"-state path")).css({fill:i.button[o].borderColor})});break;case 3:switch(n().css({boxShadow:"none"}),i.orientation){case"up":r=45;break;case"down":r=225;break;default:r=135}e=.9,Object.keys(f).forEach(function(e){var t=l(o=f[e]);t.transform="rotate(".concat(r,"deg)"),t["-webkit-transform"]="rotate(".concat(r,"deg)"),n(".".concat(e,"-state .sc-triangle")).css(t)}),n(".over-state .sc-triangle").css({borderTopWidth:"".concat(i.borderWidth+2,"px"),borderLeftWidth:"".concat(i.borderWidth+2,"px")})}var d=function(){var e=0;switch(i.orientation){case"up":2===i.variant&&(e=-90);break;case"right":e=0;break;case"down":2===i.variant&&(e=90);break;case"left":e=180;break;default:return""}return e+=i.rotationAngle,"rotate(".concat(e,"deg)")}();n(".arrow-box").addClass(i.orientation),n().css({transform:d,"-webkit-transform":d})}},{key:"applyCloseButtonStyle",value:function(n,i){function e(){var e=n.button.style.shadow;return"".concat(e.x,"px ").concat(e.y,"px ").concat(e.blur,"px ").concat(e.spread,"px ").concat(e.color)}var r={up:"style",over:"hoverStyle"};switch(n.variant){case 1:i().removeClass("round"),i().css({boxShadow:e()}),Object.keys(r).forEach(function(e){var t=r[e];i(".".concat(e,"-state")).css({backgroundColor:n.button[t].bgColor}),i(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})});break;case 2:i().addClass("round"),i().css({boxShadow:e()}),Object.keys(r).forEach(function(e){var t=r[e];i(".".concat(e,"-state")).css({backgroundColor:n.button[t].bgColor}),i(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})});break;case 3:i().removeClass("round"),i().css({boxShadow:"none"}),Object.keys(r).forEach(function(e){var t=r[e];i(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})})}}},{key:"normalizeTextStyleObject",value:function(t){var e,n,i=t.text.style;if(null!=i){var r=i.textStyle;"string"==typeof r&&(t.text.style.textStyle={},t.text.style.textStyle[r]=1),Object.keys(t.text.style.textStyle).forEach(function(e){1!==t.text.style.textStyle[e]&&delete t.text.style.textStyle[e]}),i.verticalAlign=i.verticalAlign||"top",(null===(e=i.lineHeight)||void 0===e?void 0:e.toString().match(/^\d+$/))?(i.lineHeight=parseInt(i.lineHeight,10)/parseInt(i.fontSize,10)*100,i.lineHeight/=1.2,i.lineHeight="".concat(Math.round(i.lineHeight),"%")):(null===(n=i.lineHeight)||void 0===n?void 0:n.toString().match(/^\d+%$/))||(i.lineHeight="100%"),i.letterSpacing=i.letterSpacing||"0%"}}},{key:"applyTextStyle",value:function(i,e){var t,n,r,o=$.extend({},i.text.style),a={bold:["fontWeight","normal","bold"],italic:["fontStyle","normal","italic"],underline:["textDecoration","","underline"],strikethrough:["textDecoration","","line-through"]},s=o.textStyle;if(o.fontSize=o.fontSize?"".concat(o.fontSize,"pt"):"",o.textDecoration="",Object.keys(a).forEach(function(e){var t,n=a[e];1===(null==s?void 0:s[e])?(t=n[2],"textDecoration"===n[0]&&o[n[0]]&&(t=[t,o[n[0]]].join(" "))):t=n[1],"monotype"!==i.text.fontMode||"fontWeight"!==n[0]&&"fontStyle"!==n[0]||"normal"===o[n[0]]||(t=o[n[0]]),t&&(o[n[0]]=t)}),delete o.textStyle,o.lineHeight="".concat(1.2*parseInt(o.lineHeight,10),"%"),"textButton"===i.type&&"fixed"===(null===(t=i.button)||void 0===t?void 0:null===(n=t.style)||void 0===n?void 0:n.expand)?(o.verticalAlign="middle",o.textAlign="center"):o.verticalAlign=o.verticalAlign||"top",e.find(".inner-text-wrapper").addClass(o.verticalAlign),delete o.verticalAlign,o.letterSpacing="".concat(E.default.Renderer.calculateLetterSpacing(o.letterSpacing),"em"),null!=o.fontColor&&!1===(null===(r=$.support)||void 0===r?void 0:r.opacity)){var l=o.fontColor.match(/\d+/g);o.fontColor="rgb(".concat(l.slice(0,3).join(","),")")}e.find(".inner-text").css(o)}},{key:"calculateTextButtonOffset",value:function(e,t,n){var i,r,o=null===(i=e.text)||void 0===i?void 0:null===(r=i.style)||void 0===r?void 0:r.textAlign;return"center"===o?t/2/n:"right"===o?t/n:0}},{key:"elementFitToContent",value:function(e,t,n){var i=E.default.Renderer.getTextContentWidth(e,t,n);e.size.width=i.width,e.size.height=i.height}},{key:"elementPositionToTextAlign",value:function(e,t,n,i){var r=E.default.Renderer.getTextContentWidth(e,n,i),o=e.size.width-r.width;0!=o&&(e.position.left+=E.default.Renderer.calculateTextButtonOffset(e,o,t))}},{key:"calculateLineHeight",value:function(e){return"".concat(1.2*parseInt(e,10),"%")}},{key:"calculateLetterSpacing",value:function(e){var t=parseInt(e,10)/100;return Math.round(1e3*t)/1e3}},{key:"getTextContentWidth",value:function(e,t,n){var i,r=!(1<arguments.length&&void 0!==t)||t,o=2<arguments.length?n:void 0,a=$("<span>").addClass("text-length-fake").appendTo(document.body),s=(e.text||{}).style,l=(s=void 0===s?{}:s).fontFamily,u=s.fontSize,c=s.letterSpacing,f=s.lineHeight,d=s.textStyle,h=(d=void 0===d?{}:d).bold,p=void 0===h?"normal":h,v=(e.button||{}).style,m=(v=void 0===v?{}:v).paddingVertical,g=v.paddingHorizontal,y=v.borderWidth,b=v.expand,w=E.default.Renderer.calculateLineHeight(f),_=E.default.Renderer.calculateLetterSpacing(c);null==o&&(o=(null===(i=e.text)||void 0===i?void 0:i.text)||"");o.length<1&&(o="&nbsp;");var k={fontSize:"".concat(u,"pt"),letterSpacing:"".concat(_,"em"),lineHeight:w,paddingTop:+m,paddingBottom:+m,paddingLeft:+g,paddingRight:+g,borderWidth:"".concat(y,"px"),fontWeight:p,fontFamily:l};"fixed"===b&&(k.whiteSpace="normal"),a.html(o).css(k);var x=Math.ceil(r?a.outerWidth():a.width()),S=Math.ceil(r?a.outerHeight():a.height());return a.remove(),{width:x,height:S}}},{key:"applyTextButtonStyle",value:function(e,t){var n=e.button.style||{},i=n.expand,r=n.paddingHorizontal,o=void 0===r?10:r,a=n.paddingVertical,s=void 0===a?10:a,l=n.borderWidth,u=n.bgColor,c=n.borderColor,f=n.borderRadius,d=n.shadow,h=e.size,p=h.width,v=h.height,m="fixed"===i?10:+o,g="fixed"===i?10:+s;p<2*m&&(m=Math.floor(p/2)),v<2*g&&(g=Math.floor(v/2));var y=E.default.Renderer.normalizeBorderRadius(f),b={backgroundColor:u,borderWidth:l,borderColor:c,paddingTop:g,paddingBottom:g,paddingLeft:m,paddingRight:m,borderTopLeftRadius:y.topLeft,borderTopRightRadius:y.topRight,borderBottomRightRadius:y.bottomRight,borderBottomLeftRadius:y.bottomLeft,boxShadow:"".concat(d.x,"px ").concat(d.y,"px ").concat(d.blur,"px ").concat(d.spread,"px ").concat(d.color)};"fixed"===i&&(b.whiteSpace="normal"),t.find(".button-wrapper").css(b)}},{key:"applyTextButtonFixedSize",value:function(e,t,n){var i,r,o=e.size,a=o.width,s=o.height,l=(null===(i=e.text)||void 0===i?void 0:null===(r=i.style)||void 0===r?void 0:r.fontSize)||72,u=t.find(".inner-text");a=20<a?a-20:a,s=20<s?s-20:s,E.default.Renderer.adjustTextToFitArea(u,a,s,l,n)}},{key:"adjustTextToFitArea",value:function(e,t,n,i,r){var o=3<arguments.length&&void 0!==i?i:72,a=4<arguments.length&&void 0!==r?r:"linear",s=e.clone(),l=s[0];s.addClass("text-to-fit-area-fake").css({width:t,height:n,fontSize:"1pt"}).appendTo(document.body);function u(e,t){e.css("font-size","".concat(t,"pt"))}function c(){return l.scrollWidth<=t&&l.scrollHeight<=n}var f="linear"===a?function(e,t){for(var n=e;c()&&!(t<=(n+=.5));)u(s,n);return n}(1,o):function(e,t){for(var n;e<=t;)u(s,n=(e+t)/2),c()?e=n+1:t=n-1;return n}(1,o);u(e,f-.5),s.remove()}},{key:"applyTextOverflow",value:function(e){var t,n,o=e.element,a=e.el,s=e.selector,l=!o.ad||"text"!==o.type&&"rteText"!==o.type?a:s.parent(),i=o.magnitude||1,u=$.extend({},o.text.style),c=u.fontSize?+u.fontSize.toString().replace(/[^0-9]/g,"")*i:12,f=i,r=(null===(t=o.text.overflow)||void 0===t?void 0:t.type)||"autofit",d={none:function(){s.css({transformOrigin:"center",transform:"scale(1)"}),l.css("overflow","visible"),"rteText"===o.type&&l.css("overflow","hidden")},autofit:function(){function e(e){var t=e,n=(r=function(){var e=s.clone();return a.append(e),e.css({fontSize:"".concat(c,"pt"),fontFamily:u.fontFamily,fontWeight:u.fontWeight||"normal",fontStyle:u.fontStyle||"normal",letterSpacing:l.css("letterSpacing")||"0em",width:o.width||l.css("width"),height:o.height||l.css("height"),visibility:"hidden",opacity:0}),e}())[0],i=t;return n.scrollWidth>r.width()&&(i=r.width()/n.scrollWidth*e),n.scrollHeight>r.height()&&(t=r.height()/n.scrollHeight*e),Math.min(i,t)}var r;"text"===o.type?0!==(c=e(c))&&s.css({fontSize:"".concat(c,"pt")}):"rteText"===o.type&&0!==(f=e(f))&&(s.css({transformOrigin:"top left"}),s.css({transform:"scale(".concat(f,")")})),r.remove()},scroll:function(){var e;s.css({transformOrigin:"center",transform:"scale(1)"}),l.css("overflow-y","auto"),l.css("overflow-x","hidden"),(null===(e=E.default.Browser)||void 0===e?void 0:e.isIE())&&(l[0].style.flex=1,l[0].style["flex-basis"]="".concat(l.width(),"px")),l.css("pointer-events","all"),s.css("height","auto"),s.height()>l.height()&&l.removeClass("top middle bottom")},truncate:function(){var t=this,r=o.text.overflow;s.css({transformOrigin:"center",transform:"scale(1)"}),s.css("max-height","100%"),l.css("pointer-events","all");var n,i={ellipsis:"link"===r.ellipsisType?"... ".concat(r.linkCta):"..."};s.hasClass("initialized")&&(s.trigger("destroy.dot"),s.removeClass("initialized"),s.find(".ellipsis-cta").remove()),o.ad&&"text"===o.type&&s.dotdotdot(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(e){p(t,e,n[e])})}return t}({},i,{callback:(n=!1,function(e){n||(n=!0,$(t).addClass("initialized"),function(e){if(e&&!(s.get(0).scrollHeight<=s.innerHeight())){var t=$(s.contents().get(-2));if(t.is("br")){var n=t.get(0).previousSibling;n&&3===(null==n?void 0:n.nodeType)&&n.nodeValue.match(/^\s+$/)&&n.remove(),t.remove()}}}(e),"link"===r.ellipsisType&&function(e){var t=s.html(),n=s.html().lastIndexOf(e.ellipsis);if(-1!==n){var i='... <a href="#" class="ellipsis-cta">'.concat(r.linkCta,"</a>");t=t.substring(0,n)+i+t.substring(n+e.ellipsis.length)}t=t.replace(/\s*<br>\s*/g,"<br>"),s.get(0).innerHTML=t}(i))})})),s.hasClass("initialized")||s.trigger("update")}};if(E.default.Browser.isSafari()&&"truncate"===r)var h=setInterval(function(){var e=s.get(0).getBoundingClientRect();(0<e.x||0<e.y||0<e.width||0<e.height)&&(d.truncate(),clearInterval(h))},10);else null===(n=d[r])||void 0===n||n.call(d)}},{key:"normalizeBorderRadius",value:function(i){return i=$.extend(!0,{},i),Object.keys(i).forEach(function(e){var t,n=null===(t=i[e])||void 0===t?void 0:t.toString();n.match(/^[\d]{1,3}%$/)||(i[e]="".concat(parseInt(n,10),"px"))}),i}},{key:"getContainerCSS",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=n.border,r=n.borderRadius,o=n.shadow,a=1<arguments.length&&void 0!==t?t:{},s=[];if((null==i?void 0:i.color)&&s.push("0 0 0 ".concat(i.width,"px ").concat(i.color)),r){var l=u.normalizeBorderRadius(r);a.borderTopLeftRadius=l.topLeft,a.borderTopRightRadius=l.topRight,a.borderBottomRightRadius=l.bottomRight,a.borderBottomLeftRadius=l.bottomLeft}return(null==o?void 0:o.color)&&s.push("".concat(o.x,"px ").concat(o.y,"px ").concat(o.blur,"px ").concat(o.spread,"px ").concat(o.color)),s.length&&(a.boxShadow=s.join(",")),a}},{key:"applyShapeStyle",value:function(e,o){function t(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},r=$.extend({},t,i);o.find(".".concat(e,"-state")).css(r)}var n=e.shape;if(null!=n){var i=u.getContainerCSS(n);t("up",i,{backgroundColor:n.background}),t("over",i,{borderColor:n.overState.stroke,backgroundColor:n.overState.background})}}}]),u}()},function(e,t,n){(function(e){var t,r,o;function n(e){this.ad=e,this.subscribers={},this.eventTimes={},this.sortedTimeEvents=[]}(null!=(t=null!=e?e:window).spongecell?t.spongecell:t.spongecell={}).EventManager=(r={vpaid:["adLoaded","clickThrough","played"],externalPage:["previewComplete","adShown","previewStarted"]},o=function(e,t,n){return{action:t,params:n,topic:e}},n.prototype.addTime=function(e){return this.eventTimes[e]=!0,this.sortedTimeEvents=Object.keys(this.eventTimes).sort()},n.prototype.publishTimeEvents=function(e,t,n){var i,r,o,a,s;for(null==n&&(n={}),a=[],i=0,r=(o=this.sortedTimeEvents).length;i<r;i++)(s=o[i])<=t&&!n[s]?(this.publish(e+":"+s),a.push(n[s]=!0)):a.push(void 0);return a},n.prototype.publish=function(e,t){var n,i,r,o,a;if(this.subscribers[e]){for(o=[],n=0,i=(r=this.subscribers[e]).length;n<i;n++)a=r[n],o.push(a.callback.apply(a.context));return o}},n.prototype.subscribe=function(e,t,n){var i;return null==(i=this.subscribers)[e]&&(i[e]=[]),this.subscribers[e].push({callback:t,context:n})},n.prototype.unsubscribe=function(e){return delete this.subscribers[e]},n.prototype.dispatch=function(e,t){var n,i;for(n in null==t&&(t={}),i=[],r)-1<r[n].indexOf(e)?i.push(this.ad.sendMessage(o(n,e,t))):i.push(void 0);return i},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,n,b,w;function i(e){this.ad=e,this.viewedUuids={},this.viewedUuidsCache={},this.allUuids=[],this.initialized=!0,this.trackViewed=n.Utils.debounce(this._trackViewed,50,!1)}t=null!=e?e:window,(n=null!=t.spongecell?t.spongecell:t.spongecell={}).UuidManager=(w=["clickThrough","engagement","mouseOver","itemsRequest","itemsViewed","slideView","start"],b=["engagement","mouseOver"],i.prototype.checkCachedUuid=function(e){return!e||this.viewedUuidsCache[e]},i.prototype.cacheViewedUuid=function(e,t){var n;if(null==(n=this.viewedUuids)[t]&&(n[t]=[]),!(this.checkCachedUuid(e,t)||-1<this.viewedUuids[t].indexOf(e)))return this.viewedUuids[t].push(e)},i.prototype._trackViewed=function(e){var t,n;if(t=this.viewedUuids[e]||[],this.viewedUuids[e]=t.filter((n=this,function(e){return!n.checkCachedUuid(e)})),0!==this.viewedUuids[e].length)return this.ad.track("itemsViewed",null,{trackingKey:e})},i.prototype.cacheUuids=function(e){var t,n,i,r;for(r=[],t=0,i=e.length;t<i;t++)!(n=e[t]).item_id||-1<this.allUuids.indexOf(n.item_id)?r.push(void 0):r.push(this.allUuids.push(n.item_id));return r},i.prototype.getUuids=function(e,t,n){var i,r,o,a,s,l,u,c,f,d,h,p,v,m,g,y;if(r=t.getCurrentCarousel(),m=i=null,"itemsRequest"===e)i=this.allUuids.length?this.allUuids.join(","):null;else if("itemsViewed"===e){for(a=0,u=(i=this.viewedUuids[n.trackingKey]||[]).length;a<u;a++)g=i[a],this.viewedUuidsCache[g]=!0;this.viewedUuids[n.trackingKey]=[]}else i=(null!=(f=t.itemUuids)?f.length:void 0)?t.itemUuids.join(","):null,m=null!=r&&null!=(d=r.slide)?d.itemUuid:void 0;if(i||m)if(r.carousel&&-1<b.indexOf(e)){for(o=null!=(h=r.carousel)?h.slides.map(function(e){return e.itemUuid}):void 0,y=[],l=0,c=(v=null!=(p=t.itemUuids)?p:[]).length;l<c;l++)g=v[l],(o.indexOf(g)<0||g===m)&&y.push(g);y=y.length?y.join(","):null}else y=i;return s={all:y,single:m,screen:t.iid},-1<w.indexOf(e)&&s},i)}).call(this,n(1))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(l,null,[{key:"isValidUrl",value:function(e){return"string"==typeof e&&r.default.Utils.isUrl(e)}},{key:"getClicktagUrl",value:function(e,t){var n=t.dynamicSettings,i=n.clicktagMultiItem,r=n.clicktagFeedField,o=n.clicktagMultiItemEnabled,a=parseInt(o&&i||0,10),s=e[a]&&e[a][r]?e[a][r]:null;return!l.isValidUrl(s)&&t.action.clicktagDefault&&(s=t.action.clicktagDefault),s}},{key:"sanitizeFeedValueForReporting",value:function(e){return e.toString().replace(/\|/g,"/").replace(/,/g,"_")}}]),l}();r.default.FeedHelper=a},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i},o=n(4);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(53);var u=function(){function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l(this,f(u).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,r.default.HtmlImageElement),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(u,[{key:"getInnerHtml",value:function(){return this.useFtDynamic()?'<ft-dynamic name="'.concat(this.image.variableName,'" class="').concat(this.innerClass,'"></ft-dynamic>'):c(f(u.prototype),"getInnerHtml",this).call(this)}},{key:"useFtDynamic",value:function(){return this.image.dynamic&&!this.ad.isPreview&&!this.useFtFeed()}},{key:"useFtFeed",value:function(){return this.image.dynamic&&!this.ad.canvasMode&&this.ad.isUsingFeeds()&&!this.ad.feedsUseFallback&&!(0,o.isEmpty)(this.dynamicSettings)&&"feed"===this.dynamicSettings.source}},{key:"testImage",value:function(e,t,n){if(!e)return n();var i=new Image;i.addEventListener("load",t),i.addEventListener("error",n),i.src=e}},{key:"load",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if((e=c(f(u.prototype),"load",this)).call.apply(e,[this].concat(i)),this.useFtDynamic()){var o=this.$("img").attr("src");this.testImage(o,function(){t.applyStyles(o)},function(){t.loadStaticImage()}),this.$("img").remove()}else if(this.useFtFeed()){var a=this.dynamicSettings.feedField||"powerfeeds_image",s=this.dynamicSettings.multiItemEnabled&&this.dynamicSettings.multiItem||0,l=this.ad.feedData[s]&&this.ad.feedData[s][a]?this.ad.feedData[s][a]:null;this.testImage(l,function(){t.applyStyles(l)},function(){t.loadStaticImage()})}else this.loadStaticImage()}}]),u}();r.default.HtmlImageElementFt=u},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function o(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=s(this,(e=u(o)).call.apply(e,[this].concat(i)))).innerClass="inner-image",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,r.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(o,[{key:"_html",value:function(){return'<div class="'.concat(this._getClass(),'">').concat(this.getInnerHtml(),"</div>")}},{key:"getInnerHtml",value:function(){return'<div class="'.concat(this.innerClass,'"></div>')}},{key:"shouldBePreloaded",value:function(){return!0}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=l(u(o.prototype),"load",this)).call.apply(e,[this].concat(n))}},{key:"loadStaticImage",value:function(){var e=this.container.getAssetUrl(this.image);this.applyStyles(e)}},{key:"applyStyles",value:function(e){var t;(null===(t=e)||void 0===t?void 0:t.match(/.*\.spongecell\.com\/img\/.*\/original.png$/))&&(e=e.replace("/original.png","/".concat(this.width,"-").concat(this.height,".png"))),this.preloadImage(e);var n=r.default.Renderer.imageStyle(this,e);this.$(".".concat(this.innerClass)).css(n)}}]),o}();r.default.HtmlImageElement=f},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(55);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,r.default.HtmlShapeElement),e}();r.default.HtmlShapeElementFt=u},function(e,t,n){"use strict";var i,o=(i=n(0))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=s(this,u(r).call(this,e,t)))._setUseOverState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"_setUseOverState",value:function(){this._hasOverState=0<this.action.landingPageKey||this.action.screen,this._useOverFade=this.shape.overState.fade}},{key:"$elem",value:function(){var e=l(u(r.prototype),"$elem",this).call(this);return o.default.Renderer.applyShapeStyle(this,e),e}},{key:"_html",value:function(){return'\n      <div class="shape-element">\n        <div class="up-state shape-state" />\n        <div class="over-state shape-state" />\n      </div>\n    '}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=l(u(r.prototype),"load",this)).call.apply(e,[this].concat(n))}},{key:"delegateEvents",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=l(u(r.prototype),"delegateEvents",this)).call.apply(e,[this].concat(n)),this._bindStateSwitch()}},{key:"_bindStateSwitch",value:function(){var e=this;this._hasOverState&&(this.$().on("mouseenter touchstart",function(){return e._toggleState("over")}),this.$().on("mouseleave touchend",function(){return e._toggleState("up")}))}},{key:"_toggleState",value:function(e){if(!this._useOverFade)return this.$(".shape-state").css("opacity",0),void this.$(".".concat(e,"-state")).css("opacity",1);this.$(".over-state").removeClass("visible hidden"),"up"===e?this.$(".over-state").addClass("hidden"):this.$(".over-state").addClass("visible")}}]),r}();o.default.HtmlShapeElement=f},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(57);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,r.default.HtmlHitAreaElement),e}();r.default.HtmlHitAreaElementFt=u},function(e,t,n){"use strict";var i,o=(i=n(0))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),s(this,u(r).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=l(u(r.prototype),"load",this)).call.apply(e,[this].concat(n)),this.applyStyles()}},{key:"applyStyles",value:function(){var e=o.default.Renderer.getContainerCSS(this.hitArea);this.$el.css(e)}}]),r}();o.default.HtmlHitAreaElement=f},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(2);var c=function(){function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}(this,s(i).call(this,e,t))).panel=e,n.elements=t,r.default.Console.log("Initializing Background %o from %o",u(u(n)),n.elements),n.ad=n.panel.ad,n.persistent=!0,n.iid=r.default.Utils.generateIID(),n.animations=[],n._initElementContainer(),n._setupElementContainer(),n.ad.eventManager.subscribe("resize:".concat(n.ad.iid),function(){return n._resize()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,r.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"render",value:function(){this.panel.$el.append(this._html()),this.$el=$(this.panel.doc.getElementById("background-".concat(this.iid))),this._resize(),this._renderElements(),this._delegateEvents(),this._delegateElementEvents(),this._delegateAnimationEvents()}},{key:"_resize",value:function(){var e,t=null===(e=this.ad.formatSettings)||void 0===e?void 0:e.flexible;this.width=t?this.panel.$el.width():Math.max(this.panel.$el.width(),this.panel.width),this.height=t?this.panel.$el.height():Math.max(this.panel.$el.height(),this.panel.height),this.$el&&this.$el.css({width:"".concat(this.width,"px"),height:"".concat(this.height,"px")})}},{key:"_delegateEvents",value:function(){var e=this;this.$el.on("click tap",function(){e.ad.engaged||e.ad.engage()})}},{key:"_delegateAnimationEvents",value:function(){var e=this;this.panel.screens.forEach(function(t){e.elements.forEach(function(e){t.animationsByIid[e.originalIid]&&e.delegateAnimationEvents(t.animationsByIid[e.originalIid],t.iid)})})}},{key:"load",value:function(){this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")),this._loadElements()}},{key:"_html",value:function(){return"<div class='background-wrapper' id='background-".concat(this.iid,"'></div>")}},{key:"_shouldDelayLoad",value:function(){return!1}},{key:"_getSelfOrParentScreen",value:function(){return this.panel.currentScreen}},{key:"getTrackingKey",value:function(){return(this.panel.currentScreen||this.panel.screens[0]).getTrackingKey()}},{key:"getId",value:function(){return this.panel.currentScreen.getId()}}]),i}();c.extend(r.default.ElementContainer),c.extend(r.default.HtmlElementContainer),r.default.Background=c},function(e,t,n){"use strict";var i,w=(i=n(0))&&i.__esModule?i:{default:i};function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(b,null,[{key:"applyStyles",value:function(e,t){var n=e[0];t.delay&&(n.style.animationDelay=t.delay,n.style.webkitAnimationDelay=t.delay),n.style.animationName=t.animationNames,n.style.animationTimingFunction=t.easing,n.style.animationDuration=t.duration,n.style.webkitAnimationName=t.animationNames,n.style.webkitAnimationTimingFunction=t.easing,n.style.webkitAnimationDuration=t.duration,n.style.animationFillMode="both",n.style.webkitAnimationFillMode="both"}},{key:"addAnimation",value:function(e,t){var n;"parallax"===t.type?(n="parallax","out"===t.entry&&(t.top=!0,t.duration+=Math.round(.167*t.duration))):"flip"===t.type&&(t.duration/=2,"in"===t.entry?(n="out",t.delay=t.duration):n="in"),"parallax"!==t.type&&"in"===t.entry&&(t.top=!0),n=n||t.easing||"ease";var i=t.animations.length,r=b.animationNames(t.animations),o=b.getDurationUsingMs(t.duration,i),a=b.getEasing(n,i,t.entry),s=b.getDelay(t.delay),l=t.animations;t.top&&l.push("ontop"),e.addClass(t.animations.join(" ")),b.applyStyles(e,{animationNames:r,duration:o,easing:a,delay:s})}},{key:"animationNames",value:function(e){var t="";return e.forEach(function(e){t+="".concat(e,", ")}),t.replace(/,\s$/,"")}},{key:"getAnimations",value:function(e,n){return(b.ANIMATION_KEYS[e]||["slide"]).map(function(e){var t=b.ANIMATION_TYPES[e][n||"left"];return{out:t[0],in:t[1]}})}},{key:"getDelay",value:function(e){if(!e)return null;var t=Math.round(e/1e3*100)/100;return"".concat(t,"s")}},{key:"getDurationUsingMs",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1,i=Math.round(e/1e3*100)/100;return b.getDuration(i,n)}},{key:"getDuration",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1;e=parseFloat(e)||.01;for(var i="",r=1;r<=n;r+=1)i+="".concat(e,"s, ");return i.replace(/,\s$/,"")}},{key:"getEasing",value:function(e,t,n){for(var i=1<arguments.length&&void 0!==t?t:1,r="parallax"===e?b.EASING_TYPES["in"===(2<arguments.length&&void 0!==n?n:null)?"ease":"inOut"]:b.EASING_TYPES[e]||b.EASING_TYPES.ease,o="",a=1;a<=i;a+=1)o+="cubic-bezier(".concat(r,"), ");return o.replace(/,\s$/,"")}},{key:"removeAnimation",value:function(e,t){var n=e[0];n.style.webkitAnimation="none",n.style.animation="none",e.removeClass(t.concat("ontop").join(" "))}},{key:"generate",value:function(s,e,t){b.container=t;var n=s.attr("id").replace(/elem-/,"");b.storeElementPosition(n,s);var l={};return e.forEach(function(e){var t=[],n=[],i=[];b.addKeyframes(s,e),b.addAnimationCssProperty(e),e.effects.forEach(function(e){-1<["slideIn","slideOut","move"].indexOf(e.transition)&&i.push(e),-1<["fadeIn","disappear","fadeOut","appear"].indexOf(e.transition)&&t.push(e),-1<["scaleUp","scaleDown","zoom","rotate"].indexOf(e.transition)&&n.push(e)});var r=t[0],o=n[0],a=i[0];l[e.iid]={visibility:r,scale:o,move:a}}),l}},{key:"getRotateFromTransform",value:function(e){var t=e.match(/rotate\((\d+)deg\)/);return t&&t[1]?parseInt(t[1],10):0}},{key:"applyInitialEffects",value:function(e,t,n){var i,r,o,a,s,l,u=2<arguments.length&&void 0!==n?n:null;if(t||u){var c=e.css("transform"),f=b.getRotateFromTransform(c);if(t&&"slideIn"===(null===(i=t.move)||void 0===i?void 0:i.transition)?b.initializeSlideInElement(e,t.move):t&&"move"===(null===(r=t.move)||void 0===r?void 0:r.transition)?b.initializeMoveElement(e,t.move):u&&e&&e.css(u),-1<["fadeIn","appear"].indexOf(null==t?void 0:null===(o=t.visibility)||void 0===o?void 0:o.transition)&&e.css("opacity","0"),"scaleUp"===(null==t?void 0:null===(a=t.scale)||void 0===a?void 0:a.transition)&&e.css("transform","scale(0) rotate(".concat(f,"deg)")),"zoom"===(null==t?void 0:null===(s=t.scale)||void 0===s?void 0:s.transition)){var d,h,p,v,m=null==t?void 0:null===(d=t.scale)||void 0===d?void 0:d.zoomFrom;if((null==t?void 0:null===(h=t.scale)||void 0===h?void 0:h.zoomFrom)&&(null==t?void 0:null===(p=t.scale)||void 0===p?void 0:p.zoomFrom.match(/%/)))m=parseInt(null==t?void 0:null===(v=t.scale)||void 0===v?void 0:v.zoomFrom,10)/100;e.css("transform","scale(".concat(m,") rotate(").concat(f,"deg)"))}"rotate"===(null==t?void 0:null===(l=t.scale)||void 0===l?void 0:l.transition)&&e.css("transform","rotate(".concat(t.scale.startRotation,"deg)"))}}},{key:"logAnimation",value:function(e,t){var n=e.animationName.slice(0,-19),i="animationstart"===e.type?"start":"end",r=t.prop("id");w.default.Console.log("Animation ".concat(n," ").concat(i," on ").concat(r))}},{key:"startElementAnimation",value:function(h,p,v,m){p.effects.forEach(function(e){var t=1e3*(parseFloat(e.delay)||0);setTimeout(function(){h.css("animation",p.animationProperty)},t)});function g(e){e.preventDefault(),e.stopPropagation()}var y=b.lastAnimationNames(p);h.off("animationend.always"),h.on("animationend.always",function(e){g(e),m.effectsCalled=m.effectsCalled||0,m.effectsCalled+=1}),h.off("animationend.last"),h.on("animationend.last",function(e){g(e);function t(){i=!0;var e=h[0];e.style.webkitAnimation="none",e.style.animation="none"}function n(){v.publish("".concat(m.panel.iid,":animation:").concat(p.iid,":end")),v.publish("animationComplete:".concat(m.iid))}var i=!1;-1<y.indexOf(e.animationName)&&(b.setToComputed(h),i||t(),n());var r=!1;if(m instanceof w.default.Screen)r=m.visible;else if(m instanceof w.default.Slide){var o,a,s,l=(null===(o=m.component)||void 0===o?void 0:o.getCurrentSlide())===m;r=(null===(a=m.component)||void 0===a?void 0:null===(s=a.container)||void 0===s?void 0:s.visible)&&l}if(r&&p.lastInSequence&&m.effectsCalled>=m.totalEffectCalls){var u,c=1e3*parseInt(null===(u=m.animationSettings)||void 0===u?void 0:u.delay,10)||0;if(0<m.remainingLoops)m.remainingLoops-=1,m.resetEffectCalls(),setTimeout(function(){i||t(),n(),v.publish("".concat(m.panel.iid,":startNextLoop:").concat(m.iid))},c);else if(!m.remainingLoops||m.remainingLoops<=0){var f,d=m.animationSettings;!1===(null==d?void 0:null===(f=d.navigation)||void 0===f?void 0:f.disabled)&&"none"!==d.navigation.toScreen&&m.panel.openScreenFromAnimation(d.navigation),m.resetEffectCalls()}}r||t()}),w.default.Console.isEnabled()&&h.off("animationstart.log animationend.log").on("animationstart.log animationend.log",function(e){return b.logAnimation(e,h)})}},{key:"getPrevious",value:function(e,t){for(var n=null,i=0;i<t.length;i+=1)if(t[i].iid===e){n=i;break}return t[n-1]}},{key:"getFirstAnimation",value:function(e,t){if(1===e.length)return e[0];for(var n=["onScreenLoad","onSlideLoad","onVideoStart"],i=0;i<e.length;i+=1){var r=e[i];if(-1<n.indexOf(r.trigger)&&r)return r}var o={},a=b.getTimelineAnimations(t);return e.forEach(function(t){a.forEach(function(e){!function(e,t){return e.some(function(e){return e.iid===t.iid})}(e,t)||(o[b._calculateStartTime(t,e)]=t)})}),o[Math.min(Object.keys(o))]||e[0]}},{key:"_calculateStartTime",value:function(e,t){for(var n=0,i=0;i<t.length;i+=1){var r=t[i];if(r===e)break;n+=b.getTotalTime(r.effects)}return n}},{key:"storeElementPosition",value:function(e,t){b.elementPosition=b.elementPosition||{};var n=parseInt(t.css("left").replace(/px$/,""),10),i=parseInt(t.css("top").replace(/px$/,""),10);b.elementPosition[e]=b.elementPosition[e]||{left:n,top:i}}},{key:"addKeyframes",value:function(t,e){e.effects.forEach(function(e){e.keyframeRules=b.generateKeyframeRules(t,e),e.keyframeRules.str.forEach(function(e){b.addToCss(e)})})}},{key:"addAnimationCssProperty",value:function(e){var l="";e.effects.forEach(function(e){var t=e.keyframeRules,n=t.name,i=t.duration,r=t.repeat,o=b.EASING_TYPES[e.keyframeRules.easing],a=o?"cubic-bezier(".concat(o,")"):"linear",s=b.getDuration(i);l+="".concat(n," ").concat(s," ").concat(a," forwards ").concat(r,",")}),e.animationProperty=l.replace(/,$/,"")}},{key:"initializeSlideInElement",value:function(e,t){switch(t.direction){case"fromLeft":var n=b.offscreenPosition(e,"left");e.css("left","".concat(n.left,"px"));break;case"fromRight":var i=b.offscreenPosition(e,"right");e.css("left","".concat(i.left,"px"));break;case"fromTop":var r=b.offscreenPosition(e,"top");e.css("top","".concat(r.top,"px"));break;case"fromBottom":var o=b.offscreenPosition(e,"bottom");e.css("top","".concat(o.top,"px"))}}},{key:"initializeMoveElement",value:function(e,t){var n=t.startPosition.left*b.container.width,i=t.startPosition.top*b.container.height;e.css("left","".concat(n,"px")),e.css("top","".concat(i,"px"))}},{key:"generateKeyframeRules",value:function(e,t){var n="".concat(t.transition).concat(b.generateKeyframeIid());return{name:n,duration:t.duration,delay:t.delay,easing:t.ease,repeat:+t.repeat+1,str:b.generateKeyframeStr(n,e,t)}}},{key:"addToCss",value:function(e){try{var t,n=b.cachedDocument||document,i=(null==n?void 0:null===(t=n.styleSheets[0].cssRules)||void 0===t?void 0:t.length)||0;null==n||n.styleSheets[0].insertRule(e,i)}catch(e){w.default.Console.log("Animation addToCss Exception: %o",e)}}},{key:"generateKeyframeStr",value:function(e,t,n){var i=b.generateFromState(t,n),r=b.generateToState(t,n);return["\n      @keyframes ".concat(e," {\n        from { ").concat(i," }\n        to { ").concat(r," }\n      }"),"\n      @webkit-keyframes ".concat(e," {\n        from { ").concat(i," }\n        to { ").concat(r," }\n      }\n    ")]}},{key:"generateFromState",value:function(e,t){var n="",i=e.attr("id").replace(/elem-/,"");if((b.elementState=b.elementState||{})[i]=b.elementState[i]||{},"slideIn"===t.transition){var r=b.directionByTransition[t.transition][t.direction],o=b.offscreenPosition(e,r);n+="left: ".concat(o.left,"px; top: ").concat(o.top,"px;")}else if("slideOut"===t.transition){var a=b.elementState[i].left||b.elementPosition[i].left,s=b.elementState[i].top||b.elementPosition[i].top;n+="left: ".concat(a,"px; top: ").concat(s,"px;")}else if(-1<["fadeOut","disappear"].indexOf(t.transition)){var l=e.css("opacity")||1;n+="opacity: ".concat(l,";")}else if(-1<["fadeIn","appear"].indexOf(t.transition))n+="opacity: 0;";else if("move"===t.transition){var u=b.container.width*t.startPosition.left,c=b.container.height*t.startPosition.top;n+="left: ".concat(u,"px; top: ").concat(c,"px;")}else if("rotate"===t.transition){var f=t.startRotation;n+="transform:rotateZ(".concat(f,"deg)")}else{var d=b.generateTransformFrom(e,t),h=b.createTransformStr(d);n+="transform:".concat(h,";")}return n}},{key:"generateToState",value:function(e,t){var n,i,r={},o=e.attr("id").replace(/elem-/,"");switch(t.transition){case"slideIn":var a=b.elementPosition[o];n="left: ".concat((r=a).left,"px; top: ").concat(a.top,"px;");break;case"slideOut":var s=b.getSlideOutDestination(e,t.direction);n="left: ".concat((r=s).left,"px; top: ").concat(s.top,"px;");break;case"fadeIn":i=e.css("opacity")||1,n="opacity: ".concat(i,";");break;case"fadeOut":case"disappear":n="opacity: 0;";break;case"appear":i=e.css("opacity")||1,n="opacity: ".concat(i,";");break;case"move":var l=b.container.width*t.endPosition.left,u=b.container.height*t.endPosition.top;r={left:l,top:u},n="left: ".concat(l,"px; top: ").concat(u,"px;");break;case"rotate":var c=t.endRotation;n="transform:rotate(".concat(c,"deg)");break;default:r=b.generateTransform(e,t);var f="scale(".concat(r.scale,")"),d="rotateX(".concat(r.rotateX,"deg)"),h="rotateY(".concat(r.rotateY,"deg)"),p="rotateZ(".concat(r.rotateZ,"deg)");n="transform: ".concat(f," ").concat(d," ").concat(h," ").concat(p,";")}return 0<Object.keys(r).length&&b.generateNextFromState(e,r),n}},{key:"offscreenPosition",value:function(e,t){var n=e.width()?e.width():parseInt(e[0].style.width,10),i=e.height()?e.height():parseInt(e[0].style.height,10),r=Math.ceil(Math.sqrt(n*n+i*i)),o=e.attr("id").replace(/elem-/,""),a=b.elementPosition[o];switch(t){case"right":return{top:a.top,left:b.container.width+r};case"left":return{top:a.top,left:-1*r};case"bottom":return{top:b.container.height+r,left:a.left};case"top":return{top:-1*r,left:a.left}}}},{key:"generateTransformFrom",value:function(e,t){var n=e.attr("id").replace(/elem-/,""),i={},r=b.elementState[n];r&&["scale","rotateX","rotateY","rotateZ"].forEach(function(e){i[e]=r[e]||("scale"===e?1:0)});var o=e.css("transform"),a=b.getRotateFromTransform(o);switch(i.rotateZ=a,t.transition){case"scaleUp":i.scale=0;break;case"scaleDown":i.scale=1;break;case"zoom":var s=parseInt(t.zoomFrom,10)||50;i.scale=s/100;break;case"flip":"horizontal"===t.direction?i.rotateY=0:i.rotateX=0}return i}},{key:"generateKeyframeIid",value:function(){return w.default.Utils.generateIID()}},{key:"generateNextFromState",value:function(e,t){var n=e.attr("id").replace(/elem-/,"");["scale","rotateX","rotateY","rotateZ","left","top"].forEach(function(e){b.elementState[n][e]=t[e]})}},{key:"createTransformStr",value:function(n){var i="";return Object.keys(n).forEach(function(e){var t=n[e];i+="scale"===e?" ".concat(e,"(").concat(t,")"):" ".concat(e,"(").concat(t,"deg)")}),i}},{key:"edgeOffset",value:function(e,t){var n=e.width()||parseInt(e[0].style.width,10),i=e.height()||parseInt(e[0].style.height,10),r=Math.ceil(Math.sqrt(n*n+i*i));switch(t){case"right":return b.container.width+r;case"left":return-1*r;case"bottom":return b.container.height+r;case"top":return-1*r}}},{key:"getSlideOutDestination",value:function(e,t){var n=e.attr("id").replace(/elem-/,""),i=b.elementState[n],r=b.elementPosition[n];switch(t){case"toRight":return{top:null!=i.top?i.top:r.top,left:b.edgeOffset(e,"right")};case"toLeft":return{top:null!=i.top?i.top:r.top,left:b.edgeOffset(e,"left")};case"toBottom":return{left:i.left,top:b.edgeOffset(e,"bottom")};case"toTop":return{left:i.left,top:b.edgeOffset(e,"top")}}}},{key:"addAnimatedComponent",value:function(e,t){if("scaleUp"===e.transition)t.scale=1;else if("scaleDown"===e.transition)t.scale=0;else if("rotate"===e.transition){t[b.transformComponent[e.transition]]=e.rotation}else if("flip"===e.transition){t[b.transformComponent[e.transition][e.direction]]=360}}},{key:"generateTransform",value:function(e,t){var n,i=e.attr("id").replace(/elem-/,""),r={},o=b.elementState[i];"flip"===t.transition?n=b.transformComponent.flip[t.direction]:0===t.transition.indexOf("scale")&&(n=b.transformComponent.scale),["scale","rotateX","rotateY","rotateZ"].filter(function(e){return n!==e}).forEach(function(e){"scale"===e?r.scale=(null==o?void 0:o.scale)||1:r[e]=(null==o?void 0:o[e])||0});var a=e.css("transform"),s=b.getRotateFromTransform(a);switch(r.rotateZ=s,t.transition){case"scaledUp":r.scale=1;break;case"scaleDown":r.scale=0;break;case"zoom":var l=parseInt(null==t?void 0:t.zoomTo,10)||100;r.scale=l/100}return b.addAnimatedComponent(t,r),r}},{key:"_getEffectTime",value:function(e){return parseFloat(e.delay)+parseFloat(e.time||0)+(+e.repeat+1)*parseFloat(e.duration)}},{key:"getTotalTime",value:function(e){var n=0;return e.forEach(function(e){var t=b._getEffectTime(e);n<t&&(n=t)}),n}},{key:"lastAnimationNames",value:function(e){var n=[],i=0;return e.effects.forEach(function(e){var t=b._getEffectTime(e);i<t?(n=[e.keyframeRules.name],i=t):t===i&&n.push(e.keyframeRules.name)}),n}},{key:"setToComputed",value:function(n){["opacity","transform","left","top"].forEach(function(e){var t=getComputedStyle(n[0])[e];n.css(e,t)})}},{key:"getTimelineAnimations",value:function(e){var t=[],n=[],i=["onClick","onTap","onHover","onMouseOut","onScreenLoad","onSlideLoad","onVideoStart"];return e.forEach(function(e){-1<i.indexOf(e.trigger)?(n.length&&t.push(n),n=[],"onScreenLoad"!==e.trigger&&"onSlideLoad"!==e.trigger||n.push(e)):n.push(e)}),n.length&&t.push(n),t}},{key:"setLastAnimation",value:function(e){b._longestSequences(e).forEach(function(e){b._longestAnimations(e).forEach(function(e){e.lastInSequence=!0})})}},{key:"_longestSequences",value:function(e){var t=b.getTimelineAnimations(e),n=[],i=0;return t.forEach(function(e){var t=b.getTotalDuration(e);i<t?(n=[e],i=t):t===i&&n.push(e)}),n}},{key:"_longestAnimations",value:function(e){for(var t=l(e),n=t.shift(),i=[{duration:b.getTotalTime(n.effects),lastAnimation:n}],r=i[0];0<t.length;){var o=t.shift();-1<["withPrevious"].indexOf(o.trigger)?(i.push({duration:r.duration-b.getTotalTime(r.lastAnimation.effects)+b.getTotalTime(o.effects),lastAnimation:o}),r=i[i.length-1]):(r.duration+=b.getTotalTime(o.effects),r.lastAnimation=o)}var a=i.reduce(function(e,t){return!e||t.duration>e.duration?t:e},null),s=[a.lastAnimation];return i.forEach(function(e){e.duration>=a.duration&&e.lastAnimation!==a.lastAnimation&&s.push(e.lastAnimation)}),s}},{key:"getTotalDuration",value:function(e){for(var t=0,n=null,i=0;i<e.length;i+=1){var r=e[i];if(-1<["onScreenLoad","onSlideLoad","onVideoStart","afterPrevious"].indexOf(r.trigger))n&&(t+=n),n=b.getTotalTime(r.effects);else if("videoTime"===r.trigger)t+=b.getTotalTime(r.effects);else{var o=b.getTotalTime(r.effects);n<o&&(n=o)}}return t+=n}},{key:"getTotalContainerDuration",value:function(e){var t=b._longestSequences(e);return 0===t.length?0:b.getTotalDuration(t[0])}},{key:"totalEffects",value:function(e){var t=0;return e.forEach(function(e){(e.effects||[]).forEach(function(){t+=1})}),t}},{key:"cacheDocument",value:function(e){b.cachedDocument=e}},{key:"clearDocument",value:function(){b.cachedDocument=null}}]),b}();o.cachedDocument=null,o.container=null,o.elementState=null,o.elementPosition=null,o.ANIMATION_TYPES={flip:{down:["flipOutBottom","flipInTop"],left:["flipOutLeft","flipInRight"],right:["flipOutRight","flipInLeft"],up:["flipOutTop","flipInBottom"]},fade:{down:["fadeOut","fadeIn"],left:["fadeOut","fadeIn"],right:["fadeOut","fadeIn"],up:["fadeOut","fadeIn"],default:["fadeOut","fadeIn"]},push:{down:["rotatePushBottom","slideFromTop"],left:["rotatePushLeft","slideFromRight"],right:["rotatePushRight","slideFromLeft"],up:["rotatePushTop","slideFromBottom"]},scale:{down:["scaleDown","slideFromTop"],left:["scaleDown","slideFromRight"],right:["scaleDown","slideFromLeft"],up:["scaleDown","slideFromBottom"]},slide:{down:["slideToBottom","slideFromTop"],left:["slideToLeft","slideFromRight"],right:["slideToRight","slideFromLeft"],up:["slideToTop","slideFromBottom"]},slideFade:{down:["fadeOut","slideFromTop"],left:["fadeOut","slideFromRight"],right:["fadeOut","slideFromLeft"],up:["fadeOut","slideFromBottom"]},slideScale:{down:["scaleDown","slideFromTop"],left:["scaleDown","slideFromRight"],right:["scaleDown","slideFromLeft"],up:["scaleDown","slideFromBottom"]}},o.ANIMATION_KEYS={slide:["slide"],slideFade:["slideFade"],slideScale:["slideScale"],push:["push"],fade:["fade"],flip:["flip"],parallax:["slide"]},o.EASING_TYPES={ease:"0.250, 0.100, 0.250, 1.000",in:"0.420, 0.000, 1.000, 1.000",inBack:"0.600, -0.280, 0.735, 0.045",inOut:"0.420, 0.000, 0.580, 1.000",out:"0.000, 0.000, 0.580, 1.000",outBack:"0.175, 0.885, 0.320, 1.275",inOutBack:"0.680, -0.550, 0.265, 1.550"},o.defaultDuration=500,o.directionByTransition={slideIn:{fromRight:"right",fromLeft:"left",fromTop:"top",fromBottom:"bottom"},slideOut:{toRight:"right",toLeft:"left",toTop:"top",toBottom:"top"}},o.transformComponent={scale:"scale",rotate:"rotateZ",flip:{vertical:"rotateX",horizontal:"rotateY"}},w.default.Animation=o},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(61);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,r.default.ImpressionTag),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"onFeaturesLoad",value:function(){}}]),e}();r.default.ImpressionTagFt=c},function(e,t,n){"use strict";var i,l=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(8),n(9),n(10),n(14),n(15),n(13),n(2),n(11),n(12),n(62),n(63),n(18),n(64),n(3),n(16),n(5),n(17);var a=function(){function s(e,t){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.factory=new l.default.VendorClassFactory,this.params=t,this.params.iframeSrc&&l.default.Iframe.parse(this.params.iframeSrc,this.params),window.scJsUrl&&l.default.Iframe.parse(window.scJsUrl,this.params);var r=this.getCreative(e.creatives);this.creativeSettings=r,this.creativeId=this.params.activeCreativeId||Object.keys(e.creatives)[0],this.creativeImpressionTrackingOptions={},this.canvasMode="true"===this.params.canvas,this.dynamicItems=e.dynamicItems||{},this.forceMraidOff=!e.channels.mraid;var o=null===(n=r.channels.tracking)||void 0===n?void 0:n.coreIid,a=o&&"${iid}"!==o?o:l.default.Utils.generateIID();this.iid=a,this.size=r.size,this.processors=r.processors||{},l.default.Console.debug("Impression Tag %s initializing with %o rotated to %o",this.iid,e,r),this.writer=new l.default.Writer(this),this._initChannels(e),l.default.Browser.isMobile()&&!this.forceMraidOff&&this.sendChannelMessage("mraid",{fn:"loadMraid"}),this.sendDebugMessage({description:"tag_init",type:"start"}),this._initTags(r.tags),this.tracker&&l.default.Console.group(this.tracker.inspect()),l.default.Console.log("Ad Tag: %O",this),l.default.Console.log("Ad Server Parameters: %O",this.params),l.default.Console.groupEnd(),(null===(i=this.params.targeting)||void 0===i?void 0:i.ysa)&&(this.creativeImpressionTrackingOptions.ysa=this.params.targeting.ysa),this.sendChannelMessage("hooks",{description:"before_ad_load_hook",type:"beforeAdLoad"})}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"_initChannels",value:function(n){var e,t,r=this;l.default.Utils.extend((null===(e=this.creativeSettings.channels)||void 0===e?void 0:e.loading)||{},(null===(t=this.creativeSettings.macroSettings)||void 0===t?void 0:t.loading)||{}),Object.keys(n.channels).forEach(function(e){var t=n.channels[e];"object"===o(t)&&(r.creativeSettings.channels[e]=r.creativeSettings.channels[e]||{},l.default.Utils.extend(r.creativeSettings.channels[e],t))}),Object.keys(this.creativeSettings.channels).forEach(function(e){var t,n,i=r.creativeSettings.channels[e];(null===(t=r.params)||void 0===t?void 0:null===(n=t.channels)||void 0===n?void 0:n[e])&&l.default.Utils.extend(i,r.params.channels[e])}),l.default.Broker.registerChannels(this.iid,this.creativeSettings.channels,this)}},{key:"_initTags",value:function(t){var i=this;this._chooseStudioTagType(t),Object.keys(t).forEach(function(e){var n=t[e];switch(l.default.Console.debug("Initializing Tag: %s tag with %o",e,n),e){case"backup":n.clickTags=i.clickTags,n.tracker=i.factory("Tracker",i,n),n.macros={},Object.keys(i.params).forEach(function(e){var t=i.params[e];n.macros[e]=t}),i.backupTag=i.factory("BackupTag",i,n);break;case"studioIframe":i.studioTag=i.factory("StudioIframeTag",i,n,i.params);break;case"studioScript":i.studioTag=i.factory("StudioScriptTag",i,n,i.params);break;case"vpaid":i.vpaid=!0,i.studioTag=i.factory("VPAIDTag",i,n,i.params)}})}},{key:"_chooseStudioTagType",value:function(e){e.studioScript&&(e.studioScript.expansionRequired||this.useSafeFrames())&&delete e.studioIframe,e.studioIframe&&delete e.studioScript}},{key:"render",value:function(){function e(){var e,t,n,i=document.body?o._html():'<html><body style="margin: 0; padding: 0;">'.concat(o._html(),"</body></html>");if(o.studioTag&&o.studioTag.size&&(o.topDimensions={width:null===(t=o.studioTag.size)||void 0===t?void 0:t.width,height:null===(n=o.studioTag.size)||void 0===n?void 0:n.height}),null===(e=o.studioTag)||void 0===e||!e.iframeBusted){var r;if(o.writer.writeHtml(i),o._addLoadListeners(),!o.hasBackup)null===(r=o.studioTag)||void 0===r||r.delegateEvents();return o.studioTag&&!o.hasBackup&&o.sendChannelMessage("loading",{action:"renderPreloader"}),o.writer.closeWrite()}}var o=this;return this.vpaid&&!this.canvasMode?o.studioTag.interface.subscribe(function(){var e;return o.studioTag.setDimensions(),((null===(e=o.studioTag.interface)||void 0===e?void 0:e._slot)||document.body).insertAdjacentHTML("beforeend",o._html()),o.studioTag.onLoad()},"initAd",o):window.mraid&&window.mraid.addEventListener&&!this.forceMraidOff?this.sendChannelMessage("mraid",{fn:"setup"},e):e()}},{key:"_html",value:function(){var e,t,n,i,r,o,a,s,l,u;if(this.creativeImpressionTrackingOptions.creativeOptions=this.creativeImpressionTrackingOptions.creativeOptions||{},!(null===(e=this.panelTag)||void 0===e?void 0:e.director)||this.panelTag.director.allowedAccessToTop())for(var c=[this.flashTag,this.studioTag,this.backupTag],f=0;f<c.length;f+=1){var d=c[f];if(null==d?void 0:d.checkEnvironment(this.creativeImpressionTrackingOptions.creativeOptions)){u=d;break}}else u=this.backupTag;this.hasBackup=u===this.backupTag;var h=(null===(t=u)||void 0===t?void 0:null===(n=t.size)||void 0===n?void 0:n.width)||this.size.width,p=(null===(i=u)||void 0===i?void 0:null===(r=i.size)||void 0===r?void 0:r.height)||this.size.height,v=(null===(o=this.creativeSettings.channels)||void 0===o?void 0:null===(a=o.setup)||void 0===a?void 0:null===(s=a.formatSettings)||void 0===s?void 0:s.flexible)?"max-width: ".concat(h,"px; max-height: ").concat(p,"px;"):"display: inline-block; *display: inline; width: ".concat(h,"px; height: ").concat(p,"px;"),m='\n      <div id="spongecell-ad-'.concat(this.iid,'"\n           class="spongecell-ad"\n           style="').concat(v,'opacity: 1; filter: alpha(opacity=100);">\n        ').concat(null===(l=u)||void 0===l?void 0:l.html(),"\n      </div>\n      <script>if(window.mraid) document.body.style.margin=0</scr\n    ");return m+="ipt>"}},{key:"random",value:function(){return Math.floor(1e9*Math.random())}},{key:"getCreative",value:function(e){return this.params.activeCreativeId?e[this.params.activeCreativeId]:e[Object.keys(e)[0]]}},{key:"_addLoadListeners",value:function(){var e=this;l.default.Event.onLoad(function(){e.panelTag&&e.sendChannelMessage("panel",{description:"start_auto_expand_timer",action:"autoExpand"}),e.sendChannelMessage("hooks",{description:"after_page_load_hook",type:"afterPageLoad"})})}},{key:"sendDebugMessage",value:function(e){this.sendChannelMessage("debug",e)}},{key:"sendChannelMessage",value:function(e,t,n){var i=2<arguments.length&&void 0!==n?n:null;l.default.Broker&&(t.iid=t.iid||this.iid,t.topic=t.topic||e,l.default.Broker.sendOnChannel(t,i))}},{key:"useSafeFrames",value:function(){var e;return!!(null===(e=window.$sf)||void 0===e?void 0:e.ext)}},{key:"_initAd",value:function(e){this.ad=e}},{key:"getAd",value:function(){return this.ad}}]),s}();l.default.ImpressionTag=a},function(e,t,n){(function(e){var t,_,k,x;function n(){}t="undefined"!=typeof window&&null!==window?window:e,(_=null!=t.spongecell?t.spongecell:t.spongecell={}).Iframe=(k="&",n.parse=function(e,t){var n,i,r,o,a,s,l,u,c,f,d,h,p,v,m,g,y,b,w;if(null==e&&(e=""),null==t&&(t={}),0<=e.indexOf(";$;")&&(k=";$;"),-1!==e.indexOf("?"))for(a in e=e.replace(/.+?\?/,""),x(e,t),(s=null!=(l=null!=(u=(o=_.Net.getParams(e,k)).placementId)?u:o.external_placement_id)?l:"")&&0<s.length&&(t.placementId=s),(g=null!=(c=null!=(f=o.siteId)?f:o.external_site_id)?c:"")&&0<g.length&&(t.siteId=g),(y=null!=(d=o.targeting)?d:"")&&0<y.length&&(t.targeting=y),(m=null!=(h=o.signalData)?h:"")&&0<m.length&&(t.targeting={ysa:m}),(i=null!=(p=o.adTagId)?p:"")&&0<i.length&&(t.adTagId=i),(n=null!=(v=o.activeCreativeId)?v:"")&&0<n.length&&(t.activeCreativeId=n),(null!=(b=o.trackingEnabled)?b.length:void 0)&&(null==t.channels&&(t.channels={}),null==(r=t.channels).tracking&&(r.tracking={}),t.channels.tracking.trackingEnabled="true"===b),o)w=o[a],t[a]=w;return t},x=function(e,t){var n,i,r,o,a,s;if(a=new RegExp("clickTag.?.?.?.?.?=([^("+k+")#]*)","g"),null!=(o=e.match(a))){for(n=0,s=[];n<o.length;)0<(i=(r=o[n].replace(k,"")).indexOf("="))&&(t[r.slice(0,i)]=r.slice(i+1)),s.push(++n);return s}},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,p,v,n;function i(){this.dynodeObjects={},this.dynamicValues={},this.values={},this.rawKeyValues={},this.thirdPartyMacroValues={},this.defaultDynamicValues={},this.defaultDynamicValues[this.internalMacro("sv.id")]="fallback",this.defaultDynamicValues[this.internalMacro("sv.name")]="fallback",this.defaultDynamicValues[this.internalMacro("targeting.audience.adobe")]=""}t="undefined"!=typeof window&&null!==window?window:e,(p=null!=t.spongecell?t.spongecell:t.spongecell={}).Macros=(i.THIRD_PARTY_PIXEL_NAMES=["impression","dynode","engagement","completion","expansion","clickThrough","landingPages","start","firstQuartile","midpoint","thirdQuartile","complete"],v=["puid","xaid","xcid","xcrv","xauc","click.url","target_group.id","target_group.name"],n=null,i.get=function(){return n=n||new p.Macros},i.prototype.dynodeResponse=function(t,e){var n,i,r,o,a,s,l,u,c,f,d,h,p,v,m,g,y,b,w,_,k,x,S;if(n={},b=[],w=[],k=[],x=[],t.signals){for(i=0,c=(h=t.signals).length;i<c;i++)if(y=h[i],b.push(y.id),w.push(y.name),y.signalValues){for(s=0,f=(p=y.signalValues).length;s<f;s++)_=p[s],k.push(_.id);for(l=0,d=(v=y.signalValues).length;l<d;l++)_=v[l],x.push(_.value)}0<b.length&&(n[this.internalMacro("signal.id")]=b),0<w.length&&(n[this.internalMacro("signal.name")]=w),0<k.length&&(n[this.internalMacro("sv.id")]=k),0<x.length&&(n[this.internalMacro("sv.name")]=x)}if(o=[],a=[],t.items&&0<t.items.length){for(u in r=t.items[0],o.push(r.id),r)if(null!=(S=r[u])?S.text:void 0){a.push(S.text);break}n[this.internalMacro("item.id")]=o,n[this.internalMacro("item.name")]=a,n[this.internalMacro("content_set_id;item_id")]=o.map(function(e){return t.processor.processor.id+";"+e})}return this.addDynodeObject(null!=(m=t.processor)&&null!=(g=m.processor)?g.id:void 0,n)},i.prototype.addDynodeObject=function(e,t){var n,i,r;for(n in i=[],this.dynodeObjects[e]=t)(r=t[n])instanceof Array?this.dynamicValues[n]?i.push(this.dynamicValues[n]=this.dynamicValues[n].concat(r)):i.push(this.dynamicValues[n]=r):i.push(void 0);return i},i.prototype.init=function(e,t){var n,i,r,o,a,s,l,u,c,f,d,h;for(this.addInternalMacro("placement.id",null!=(l=e.placement)?l.id:void 0),this.addInternalMacro("placement.name",null!=(u=e.placement)?u.name:void 0),this.addInternalMacro("weight",null!=(c=e.weight)?c.value:void 0),this.addInternalMacro("site.name",null!=(f=e.site)?f.id:void 0),n=0,r=v.length;n<r;n++)e[o=v[n]]?this.addInternalMacro(o,e[o]):this.addInternalMacro(o,"");for(i in s=new RegExp("^([A-Za-z]+)[0-9]+$"),d=[],t)h=t[i],(a=i.match(s))&&-1<p.Macros.THIRD_PARTY_PIXEL_NAMES.indexOf(a[1])?d.push(this.thirdPartyMacroValues[this.thirdPartyMacro(i)]=h):d.push(void 0);return d},i.prototype.replace=function(e,t){return e=this.replaceValues(e,this.values),e=this.replaceValues(e,this.thirdPartyMacroValues),e=(null!=t?t.sp_id:void 0)?this.replaceValues(e,this.dynodeObjects[t.sp_id]):this.replaceValues(e,this.dynamicValues),e=(e=(e=(e=(e=this.replaceValues(e,this.defaultDynamicValues)).replace(/\[clickTag.*?\]/g,"")).replace(/\[rand\]/g,Math.floor(1e10*Math.random()))).replace(/\[timestamp\]/g,(new Date).getTime().toString())).replace(/\$\{.*?\}/g,"")},i.prototype.replaceValues=function(e,t){var n,i;for(n in t)i=t[n],e=e.replace(RegExp(n,"g"),this.macroToValue(i));return e},i.prototype.macroToValue=function(e){return e instanceof Array?e.map(function(e){return p.Macros.encodeURIComponentLimited(e)}).join(","):p.Macros.encodeURIComponentLimited(e)},i.prototype.addInternalMacro=function(e,t){return this.values[this.internalMacro(e)]=t,this.rawKeyValues[e]=t},i.prototype.internalMacro=function(e){return"\\$\\{"+e+"\\}"},i.prototype.thirdPartyMacro=function(e){return"%"+e+"%"},i.prototype.setClickUrl=function(e){return this.addInternalMacro("click.url",e)},i.prototype.getAllMacros=function(){return this.rawKeyValues},i.encodeURIComponentLimited=function(e){return encodeURIComponent(e).replace(/%3B/g,";")},i)}).call(this,n(1))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r.default.Writer=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.impTag=e,this.rootElement=this._getRootElement(),this.documentWrited=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"_getRootElement",value:function(){try{return this.impTag.params.currentScript||document.getElementById("spongecell-root")||window.parent.document.getElementById("spongecell-root")}catch(e){return null}}},{key:"writeHtml",value:function(e,t){null!=t?t.innerHTML+=e:null!=this.rootElement?this.rootElement.insertAdjacentHTML("afterEnd",e):(r.default.Console.log("Unwanted document.write call: %o",e),this.documentWrited+=1,document.write(e))}},{key:"writeElement",value:function(e,t){if(null!=t)t.appendChild(e);else if(null!=this.rootElement)this.rootElement.parentNode.insertBefore(e,this.rootElement.nextSibling);else{var n;null===(n=document.body)||void 0===n||n.appendChild(e)}}},{key:"writeScript",value:function(e,t){var n=document.createElement("script");n.text=e,t.appendChild(n)}},{key:"writeStyle",value:function(e){var t,n=document.createElement("style");n.innerHTML=e,null===(t=document.head)||void 0===t||t.appendChild(n)}},{key:"writePixel",value:function(e,t){var n=document.createElement("div");n.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;");var i=document.createElement("img");i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("style","width:0px;height:0px;"),i.setAttribute("src",e),n.appendChild(i),this.writeElement(n,t)}},{key:"writePixels",value:function(e,t){var r,o=this,a=1<arguments.length&&void 0!==t?t:null;if(e&&e.match(/<script/i)){var s=/<script.*?src=["|'](.*?)["|']/i,n=e.match(/<script.*?src=["|'](.*?)["|']/gi);r=[],(n||[]).forEach(function(e){var t,n=null===(t=e.match(s))||void 0===t?void 0:t[1];if(n){r.push(n);var i=document.createElement("script");i.src=n,o.writeElement(i,a)}})}var i=document.createElement("div");if(i.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;"),i.innerHTML=e,this.writeElement(i,a),r)return r}},{key:"closeWrite",value:function(){0!==this.documentWrited&&(document.close(),this.documentWrited=0)}}]),t}()},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(18);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,r.default.Tracker),e}();r.default.TrackerFt=u},function(e,t,o){(function(e){var t,n,r={}.hasOwnProperty;function i(){return i.__super__.constructor.apply(this,arguments)}o(3),(n=null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).ExternalPageChannel=(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,n.BaseChannel),i.prototype._init=function(){},i.prototype.send=function(e){var t,n;return n=window,"dynamicItems"===e.action?t={topic:"ExternalPage:Items",dynamicItems:e.data}:"previewComplete"===e.action?t={topic:"ExternalPage:PreviewComplete",data:"previewComplete",creativeId:parseInt(e.params,10)}:"previewStarted"===e.action?t={topic:"ExternalPage:previewStarted",data:"previewStarted",creativeId:parseInt(e.params,10)}:"adShown"===e.action&&(t={topic:"ExternalPage:AdShown"}),n.parent.postMessage(JSON.stringify(t),"*")},i)}).call(this,o(1))},function(e,t,i){(function(e){var t,p,r={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}i(3),t="undefined"!=typeof window&&null!==window?window:e,(p=null!=t.spongecell?t.spongecell:t.spongecell={}).MRAIDChannel=(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,p.BaseChannel),n.prototype.init=function(){return this.resizeListener=!1},n.prototype.send=function(e,t){var n,i,r,o,a,s,l,u,c,f,d,h;switch(h=this,d=function(){if(!h.resizeListener)return h.resizeListener=!0,mraid.addEventListener("stateChange",function(e){if("default"===e)return h.closeCallback()})},e.fn){case"setup":return o=function(){return mraid.isViewable()?(t(),mraid.removeEventListener("ready",o)):mraid.addEventListener("viewableChange",function(e){if(e)return t(),mraid.removeEventListener("viewableChange",arguments.callee)})},mraid&&"loading"===mraid.getState()?mraid.addEventListener("ready",o):t();case"resize":return this.resize=!0,this.closeCallback=null!=(a=e.params)?a.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.resize(),d();case"expand":return this.resize=!0,this.closeCallback=null!=(s=e.params)?s.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.expand(),d();case"openLink":return"undefined"!=typeof mraid&&null!==mraid?mraid.open(e.params):void 0;case"checkVideoSupport":return n="undefined"!=typeof mraid&&null!==mraid?mraid.supports("inlineVideo"):void 0,t(n);case"playVideo":return"undefined"!=typeof mraid&&null!==mraid?mraid.playVideo(e.params):void 0;case"setResizeProperties":return r="undefined"!=typeof mraid&&null!==mraid&&"function"==typeof mraid.getCurrentPosition?mraid.getCurrentPosition():void 0,e.params.offsetY||(e.params.offsetY=(null!=r?r.y:void 0)>e.params.height-e.params.baseHeight?e.params.height-e.params.baseHeight:0),delete e.params.baseHeight,delete e.params.baseWidth,"undefined"!=typeof mraid&&null!==mraid?mraid.setResizeProperties(e.params):void 0;case"setExpandProperties":return"undefined"!=typeof mraid&&null!==mraid?mraid.setExpandProperties({width:null!=(l=e.params.width)?l:screen.width,height:null!=(u=e.params.height)?u:screen.height}):void 0;case"close":return("default"!==("undefined"!=typeof mraid&&null!==mraid?mraid.getState():void 0)||!this.resize)&&("undefined"!=typeof mraid&&null!==mraid?mraid.close():void 0);case"useCustomClose":return"undefined"!=typeof mraid&&null!==mraid?mraid.useCustomClose(null==(c=e.params)||c):void 0;case"loadMraid":return(i=document.createElement("script")).setAttribute("type","text/javascript"),i.setAttribute("src","mraid.js"),i.onerror=function(){return console.error("MRAID not found, serving Mobile Web")},i.onload=function(){return console.log("MRAID found, serving Mobile In-App")},document.head.appendChild(i);default:return null!=(f=p.Console)?f.log("mraid request: Unknown Function: "+e.fn):void 0}},n)}).call(this,i(1))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(3),n(69);var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,r.default.SetupChannel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_init",value:function(){this.options.live&&(this.options.topBaseUrl=window.location.href.replace(/(.*)\/.*?$/,"$1/"),this.options.studioAssetBaseUrl="".concat(this.options.topBaseUrl,"assets")),l(u(e.prototype),"_init",this).call(this)}}]),e}();r.default.SetupChannelFt=f},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(3);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,r.default.BaseChannel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_init",value:function(){var e;this.checkFullScreenAccess(),r.default.Utils.extend(this.options,null===(e=this.impTag.creativeSettings)||void 0===e?void 0:e.macroSettings),r.default.Utils.convertUrls(this.options,["creativeSwfUrl","sharedBaseUrl","studioAssetBaseUrl"]),r.default.Utils.convertUrls(this.options.urls),this.options.assets&&this.baseAssets()}},{key:"start",value:function(){var e,t;this.impTag.clickTags=this.findClickTags(this.impTag.params),this.options.iid=this.iid,this.options.flashData=(null===(e=this.impTag.params)||void 0===e?void 0:e.flashData)||{},(null===(t=this.options.features)||void 0===t?void 0:t.length)||(this.options.features=null),this.options.internalMacros=r.default.Macros.get().getAllMacros()}},{key:"send",value:function(e,t){var n=this;if(e.action){if("polite"===e.action){this.impTag.sendDebugMessage({description:"tag_polite",type:"start"});var i=function(){t(),n.impTag.sendDebugMessage({description:"tag_polite",type:"stop"})};!!document&&"complete"===document.readyState?i():r.default.Event.onLoad(i)}}else this.sendOnDefaultAction(),r.default.Engagement.removeWrappers(),"undefined"==typeof mraid||null===mraid||this.impTag.forceMraidOff||(this.options.mraid=mraid),this.options.topDimensions=this.impTag.topDimensions,t(this.options)}},{key:"sendOnDefaultAction",value:function(){}},{key:"baseAssets",value:function(){var i=this;Object.keys(this.options.assets).forEach(function(e){var t,n=i.options.assets[e];n.url="".concat(i.options.studioAssetBaseUrl).concat(n.path),null===(t=n.children)||void 0===t||t.forEach(function(e){e.url="".concat(i.options.studioAssetBaseUrl).concat(e.path)})})}},{key:"checkFullScreenAccess",value:function(){if(window!==window.top)try{var e=window.frameElement,t=window;if(!e)return void(this.options.disableFullScreen=!0);for(;e&&t&&t!==window.top;)e.setAttribute("allowfullscreen","true"),e.setAttribute("webkitallowfullscreen","true"),e.setAttribute("mozallowfullscreen","true"),t=t.parent}catch(e){r.default.Console.log("Iframe not configured for full-screen video"),this.options.disableFullScreen=!0}}}]),e}();r.default.SetupChannel=c},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(0),n(3);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(e,spongecell.BaseChannel),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"_init",value:function(){}},{key:"start",value:function(){}},{key:"send",value:function(e){return this[e.action]()}},{key:"styleTag",value:function(e){var t=e.preloaderType,n=e.bgColor,i=e.fgColor,r=document.createElement("style"),o="\n      #preloader-container {\n        background: ".concat(n,";\n        margin: auto;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n      }\n      .centered-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        -webkit-transform: translate(-50%, -50%);\n        -ms-transform: translate(-50%, -50%);\n        transform: translate(-50%, -50%);\n      }");switch(t){case"circle":o+=this.circleCss(i);break;case"bars":o+=this.barsCss(i);break;case"dots":o+=this.dotsCss(i)}return r.innerHTML=o,r}},{key:"preloaderContainer",value:function(e){var t=document.createElement("div");t.id="preloader-container";var n=document.createElement("div");switch(n.className="centered-container",e){case"circle":n.innerHTML=this.circleHtml();break;case"bars":n.innerHTML=this.barsHtml();break;case"dots":n.innerHTML=this.dotsHtml()}return t.appendChild(n),t}},{key:"removeLoader",value:function(){var e=document.getElementById("preloader-container");null==e||e.parentNode.removeChild(e)}},{key:"renderPreloader",value:function(){if("none"!==this.options.animation.type&&document.body&&window!==window.top){var e=this.options.animation,t=e.fgColor,n=e.bgColor,i=e.type;return document.head.appendChild(this.styleTag({preloaderType:i,width:this.impTag.size.width,height:this.impTag.size.height,bgColor:n,fgColor:t})),document.body.appendChild(this.preloaderContainer(i))}}},{key:"circleHtml",value:function(){return'<div class="sp sp-circle"></div>'}},{key:"barsHtml",value:function(){return'\n      <div class="spinner">\n        <div class="rect1"></div>\n        <div class="rect2"></div>\n        <div class="rect3"></div>\n        <div class="rect4"></div>\n        <div class="rect5"></div>\n      </div>'}},{key:"dotsHtml",value:function(){return'\n      <div class="sk-circle">\n        <div class="sk-circle1 sk-child"></div>\n        <div class="sk-circle2 sk-child"></div>\n        <div class="sk-circle3 sk-child"></div>\n        <div class="sk-circle4 sk-child"></div>\n        <div class="sk-circle5 sk-child"></div>\n        <div class="sk-circle6 sk-child"></div>\n        <div class="sk-circle7 sk-child"></div>\n        <div class="sk-circle8 sk-child"></div>\n        <div class="sk-circle9 sk-child"></div>\n        <div class="sk-circle10 sk-child"></div>\n        <div class="sk-circle11 sk-child"></div>\n        <div class="sk-circle12 sk-child"></div>\n      </div>'}},{key:"dotsCss",value:function(e){return"\n      .sk-circle {\n        margin: 100px auto;\n        width: 40px;\n        height: 40px;\n        position: relative;\n      }\n      .sk-circle .sk-child {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        left: 0;\n        top: 0;\n      }\n      .sk-circle .sk-child:before {\n        content: '';\n        display: block;\n        margin: 0 auto;\n        width: 15%;\n        height: 15%;\n        background-color: ".concat(e,";\n        border-radius: 100%;\n        -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n                animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n      }\n      .sk-circle .sk-circle2 {\n        -webkit-transform: rotate(30deg);\n            -ms-transform: rotate(30deg);\n                transform: rotate(30deg); }\n      .sk-circle .sk-circle3 {\n        -webkit-transform: rotate(60deg);\n            -ms-transform: rotate(60deg);\n                transform: rotate(60deg); }\n      .sk-circle .sk-circle4 {\n        -webkit-transform: rotate(90deg);\n            -ms-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .sk-circle .sk-circle5 {\n        -webkit-transform: rotate(120deg);\n            -ms-transform: rotate(120deg);\n                transform: rotate(120deg); }\n      .sk-circle .sk-circle6 {\n        -webkit-transform: rotate(150deg);\n            -ms-transform: rotate(150deg);\n                transform: rotate(150deg); }\n      .sk-circle .sk-circle7 {\n        -webkit-transform: rotate(180deg);\n            -ms-transform: rotate(180deg);\n                transform: rotate(180deg); }\n      .sk-circle .sk-circle8 {\n        -webkit-transform: rotate(210deg);\n            -ms-transform: rotate(210deg);\n                transform: rotate(210deg); }\n      .sk-circle .sk-circle9 {\n        -webkit-transform: rotate(240deg);\n            -ms-transform: rotate(240deg);\n                transform: rotate(240deg); }\n      .sk-circle .sk-circle10 {\n        -webkit-transform: rotate(270deg);\n            -ms-transform: rotate(270deg);\n                transform: rotate(270deg); }\n      .sk-circle .sk-circle11 {\n        -webkit-transform: rotate(300deg);\n            -ms-transform: rotate(300deg);\n                transform: rotate(300deg); }\n      .sk-circle .sk-circle12 {\n        -webkit-transform: rotate(330deg);\n            -ms-transform: rotate(330deg);\n                transform: rotate(330deg); }\n      .sk-circle .sk-circle2:before {\n        -webkit-animation-delay: -1.1s;\n                animation-delay: -1.1s; }\n      .sk-circle .sk-circle3:before {\n        -webkit-animation-delay: -1s;\n                animation-delay: -1s; }\n      .sk-circle .sk-circle4:before {\n        -webkit-animation-delay: -0.9s;\n                animation-delay: -0.9s; }\n      .sk-circle .sk-circle5:before {\n        -webkit-animation-delay: -0.8s;\n                animation-delay: -0.8s; }\n      .sk-circle .sk-circle6:before {\n        -webkit-animation-delay: -0.7s;\n                animation-delay: -0.7s; }\n      .sk-circle .sk-circle7:before {\n        -webkit-animation-delay: -0.6s;\n                animation-delay: -0.6s; }\n      .sk-circle .sk-circle8:before {\n        -webkit-animation-delay: -0.5s;\n                animation-delay: -0.5s; }\n      .sk-circle .sk-circle9:before {\n        -webkit-animation-delay: -0.4s;\n                animation-delay: -0.4s; }\n      .sk-circle .sk-circle10:before {\n        -webkit-animation-delay: -0.3s;\n                animation-delay: -0.3s; }\n      .sk-circle .sk-circle11:before {\n        -webkit-animation-delay: -0.2s;\n                animation-delay: -0.2s; }\n      .sk-circle .sk-circle12:before {\n        -webkit-animation-delay: -0.1s;\n                animation-delay: -0.1s; }\n      \n      @-webkit-keyframes sk-circleBounceDelay {\n        0%, 80%, 100% {\n          -webkit-transform: scale(0);\n                  transform: scale(0);\n        } 40% {\n          -webkit-transform: scale(1);\n                  transform: scale(1);\n        }\n      }\n      \n      @keyframes sk-circleBounceDelay {\n        0%, 80%, 100% {\n          -webkit-transform: scale(0);\n                  transform: scale(0);\n        } 40% {\n          -webkit-transform: scale(1);\n                  transform: scale(1);\n        }\n      }")}},{key:"barsCss",value:function(e){return"\n      .spinner {\n        margin: 100px auto;\n        width: 50px;\n        height: 70px;\n        text-align: center;\n        font-size: 10px;\n      }\n      \n      .spinner > div {\n        background-color: ".concat(e,";\n        height: 100%;\n        width: 6px;\n        display: inline-block;\n      \n        -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n        animation: sk-stretchdelay 1.2s infinite ease-in-out;\n      }\n      \n      .spinner .rect2 {\n        -webkit-animation-delay: -1.1s;\n        animation-delay: -1.1s;\n      }\n      \n      .spinner .rect3 {\n        -webkit-animation-delay: -1.0s;\n        animation-delay: -1.0s;\n      }\n      \n      .spinner .rect4 {\n        -webkit-animation-delay: -0.9s;\n        animation-delay: -0.9s;\n      }\n      \n      .spinner .rect5 {\n        -webkit-animation-delay: -0.8s;\n        animation-delay: -0.8s;\n      }\n      \n      @-webkit-keyframes sk-stretchdelay {\n        0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n        20% { -webkit-transform: scaleY(1.0) }\n      }\n      \n      @keyframes sk-stretchdelay {\n        0%, 40%, 100% {\n          transform: scaleY(0.4);\n          -webkit-transform: scaleY(0.4);\n        }  20% {\n          transform: scaleY(1.0);\n          -webkit-transform: scaleY(1.0);\n        }\n      }")}},{key:"circleCss",value:function(e){return"\n      .sp {\n        width: 32px;\n        height: 32px;\n        clear: both;\n        margin: 25% auto;\n      }\n      \n      /* Spinner Circle Rotation */\n      .sp-circle {\n        border: 5px rgba(0, 0, 0, 0.25) solid;\n        border-top: 5px ".concat(e," solid;\n        border-radius: 50%;\n        -webkit-animation: spCircRot .6s infinite linear;\n        animation: spCircRot .6s infinite linear;\n      }\n      \n      @-webkit-keyframes spCircRot {\n        from {\n          -webkit-transform: rotate(0deg);\n        }\n        to {\n          -webkit-transform: rotate(359deg);\n        }\n      }\n      @keyframes spCircRot {\n        from {\n          transform: rotate(0deg);\n        }\n        to {\n          transform: rotate(359deg);\n        }\n      }")}}]),e}();spongecell.LoadingChannel=l},function(e,t,i){(function(e){var t,f,r={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}i(5),t="undefined"!=typeof window&&null!==window?window:e,(f=null!=t.spongecell?t.spongecell:t.spongecell={}).BackupTag=(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,f.CreativeTag),n.prototype._init=function(){return f.Utils.convertUrls(this,["imageUrl"])},n.prototype.checkEnvironment=function(e){return e.screen="DEFAULT",!0},n.prototype.html=function(){var e,t,n,i,r,o,a,s,l,u,c;if(t=(null!=(o=this.border)?o.thickness:void 0)?this.size.height-2*this.border.thickness:this.size.height-2,n=(null!=(a=this.border)?a.thickness:void 0)?this.size.width-2*this.border.thickness:this.size.width-2,e=(null!=(s=this.border)?s.thickness:void 0)?"border: "+this.border.thickness+"px solid "+this.border.color+";":"border: 1px solid #374047;",i='<img alt="" border="0" height="'+t+'" src="'+this.imageUrl+'" width="'+n+'" style="'+e+'" />',null==this.linkUrl)return i;for(r in u=(u=(u=(u=(u=(u=this.linkUrl).replace(/\*\*click_tag\*\*/g,encodeURIComponent(this.clickTags.clickTag))).replace(/\*\*iid\*\*/g,this.tracker.iid)).replace(/\*\*random\*\*/g,f.Utils.random())).replace(/\*\*placement_id\*\*/g,this.tracker.placement.id?f.Net.encode(this.tracker.placement.id):"")).replace(/\*\*site_id\*\*/g,this.tracker.site.id?f.Net.encode(this.tracker.site.id):""),this.html5&&f.Utils.isUrl(this.clickTags.clickTag)&&(u=this.clickTags.clickTag+u),l=this.macros)c=l[r],u=u.replace("%"+r+"%",c);return'<a href="'+u+'" target="_blank" id="backup_link">'+i+"</a>"},n.prototype.addClickthroughListener=function(){var e,t,n;if(n=this,t=function(){return n.clicked?(event.preventDefault(),event.stopPropagation()):n.tracker.trackExternalPixels("click_through",{}),n.clicked=!0,setTimeout(function(){return n.clicked=!1},400)},e=document.getElementById("backup_link"))return f.Event.on(e,"click",function(e){return t()})},n)}).call(this,i(1))},function(e,t,i){(function(e){var t,s,r={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}i(19),t="undefined"!=typeof window&&null!==window?window:e,(s=null!=t.spongecell?t.spongecell:t.spongecell={}).StudioScriptTag=(function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,s.StudioTag),n.prototype._init=function(){return s.Utils.convertUrls(this,["cssUrl","jsUrl"]),null==this.safeFrames&&(this.safeFrames="undefined"!=typeof $sf&&null!==$sf?$sf.ext:void 0),null==this.size&&(this.size={}),null!=this.size?this.size:this.size={}},n.prototype.checkEnvironment=function(e){var t,n;return this.checkBrowser()?!(this.expansionRequired&&!s.Expansion.allowedAccessToTop()&&!this.safeFrames)||(this.params.busterUrl||this.params.busterPath?(this.redirectToIframeBuster(),this.iframeBusted=!0):(null==e.creativeOptions&&(e.creativeOptions={}),null==(t=e.creativeOptions).noflash&&(t.noflash=!0),null==(n=e.creativeOptions).screen&&(n.screen="DEFAULT"),!1)):!(e.nohtml5=!0)},n.prototype.html=function(){return window.mraid&&this._setupMRAIDDimensions(),"<link rel='stylesheet' media='all' type='text/css' href='"+this.cssUrl+"' class='spongecell-style-"+this.iid+"' >"},n.prototype.delegateEvents=function(){var t,n,e,i,r,o,a;if((a=document.createElement("script")).type="text/javascript",a.src=this.jsUrl,n=document.getElementById("spongecell-ad-"+this.iid),t="0 0 0 "+(null!=(e=null!=(i=this.border)?i.thickness:void 0)?e:1)+"px "+(null!=(r=null!=(o=this.border)?o.color:void 0)?r:"transparent"),s.Expansion.inIframe()&&s.Expansion.allowedAccessToTop())try{window.frameElement.style.boxShadow=t}catch(e){n.style.boxShadow=t}else n.style.boxShadow=t;return"polite"===this.loading?s.Event.onLoad(function(){return n.appendChild(a)}):n.appendChild(a)},n.prototype.redirectToIframeBuster=function(){return this.params.busterDomain||this.params.busterUrl?this.params.busterUrl?this.redirect(this._getBusterUrl()+"?"+this.buildBusterQS()):this.redirect(location.protocol+"//"+this.params.busterDomain+"/"+this.params.busterPath+"?"+this.buildBusterQS()):s.Console.log("Iframe Buster Params not set")},n.prototype.redirect=function(e){if(!this.redirected)return s.Console.log("Iframe buster redirect: "+e),t.location.replace(e),this.redirected=!0},n.prototype.buildBusterQS=function(){var e,t,n,i;for(e in(t=[]).push("adTagId="+this.adTagId),delete this.params.busterUrl,delete this.params.busterDomain,delete this.params.busterPath,n=this.params)i=n[e],t.push(e+"="+i);return t.join("&")},n.prototype._getBusterUrl=function(){var e,t,n,i;if("*"!==this.params.busterUrl)return this.params.busterUrl;i=document.referrer;try{for(;window.parent&&window.parent!==top;)i=window.parent.document.referrer}catch(e){i=document.referrer}return e=this._getDomain(i),t=null!=(n=this.params.busterPath)?n:"spongecell/spongecell_iframebuster.html",window.location.protocol+"//"+e+"/"+t},n.prototype._getDomain=function(e){return(-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]).split(":")[0]},n.prototype._sendMessage=function(e){var t;return s.Console.debug("Sending message to Studio Ad %s: %o",this.iid,e),t=JSON.stringify(e),window.postMessage(t,"*")},n)}).call(this,i(1))},function(e,t,n){"use strict";var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(74);var f=function(){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,u(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,r.default.StudioIframeTag),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"getMessageWindow",value:function(){return window}},{key:"_getHtml",value:function(e){return'<div id="'.concat(this.getIframeId(),'"\n              style="').concat(e,' border: 0; margin: 0; overflow: hidden; padding: 0;"></div>')}},{key:"delegateEvents",value:function(){l(u(n.prototype),"delegateEvents",this).call(this);var e=this.impTag.creativeSettings.macroSettings.adRevisionScripts||"";this.impTag.writer.writeScript(e,this.getIframe());var t=this.impTag.creativeSettings.macroSettings.adRevisionStyles||"";this.impTag.writer.writeStyle(t)}}]),n}();r.default.StudioIframeTagFt=f},function(e,t,n){"use strict";var i,_=(i=n(0))&&i.__esModule?i:{default:i};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(19);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,_.default.StudioTag),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"_init",value:function(){if(_.default.Utils.convertUrls(this,["backgroundImageUrl","iframeUrl","iframeBaseUrl"]),this.responsive=!this.size,_.default.Browser.isMobile()){var e,t,n,i,r,o=(null===(e=window)||void 0===e?void 0:e.innerWidth)<=1&&(null===(t=window)||void 0===t?void 0:t.innerHeight)<=1;try{_.default.Expansion.allowedAccessToTop()&&o&&!window.mraid?(n=window.top.window.innerWidth,i=window.top.window.innerHeight,window.frameElement&&(window.frameElement.style.width="".concat(n,"px"),window.frameElement.style.height="".concat(i,"px"))):(n=(r=this._getDimensionsFromWindow()).width,i=r.height)}catch(e){_.default.Console.log("Error setting dimensions of current frame: ",e),n=(r=this._getDimensionsFromWindow()).width,i=r.height}this.size=this.size||{width:n,height:i}}else this.size=this.size||{width:window.innerWidth,height:window.innerHeight}}},{key:"_getDimensionsFromWindow",value:function(){var e,t,n,i;return{width:(null===(e=window)||void 0===e?void 0:e.innerWidth)&&window.screen.width>(null===(t=window)||void 0===t?void 0:t.innerWidth)?window.innerWidth:window.screen.width,height:(null===(n=window)||void 0===n?void 0:n.innerHeight)&&window.screen.height>(null===(i=window)||void 0===i?void 0:i.innerHeight)?window.innerHeight:window.screen.height}}},{key:"html",value:function(){var e,t,n,i,r,o,a,s;this.responsive&&window.mraid&&this._setupMRAIDDimensions();var l=null===(e=this.impTag.creativeSettings)||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.setup)||void 0===n?void 0:null===(i=n.formatSettings)||void 0===i?void 0:i.flexible,u="",c=this.size.width,f=this.size.height,d="\n      width: ".concat(l?"100%":"".concat(c,"px"),";\n      height: ").concat(l?"100%":"".concat(f,"px"),";\n    "),h="".concat(d," position: absolute; top: -1px; left: -1px;");this.backgroundImageUrl&&(u+='\n        <div style="'.concat(h,'">\n          <img src="').concat(this.backgroundImageUrl,'" width="').concat(c,'" height="').concat(f,'">\n        </div>\n      '));var p="".concat(this.getIframeId(),"-wrapper");u+="\n      ".concat(_.default.Engagement.wrapperHtml({id:p}),"\n      ").concat(this._getHtml(h),"\n    ");var v=null!==(null===(r=this.border)||void 0===r?void 0:r.thickness)?null===(o=this.border)||void 0===o?void 0:o.thickness:1,m=null!==(null===(a=this.border)||void 0===a?void 0:a.color)?null===(s=this.border)||void 0===s?void 0:s.color:"transparent",g=this.size.width,y=this.size.height,b=l?"":"width: ".concat(g,"px; height: ").concat(y,"px;"),w=l?"<div style='padding-top: ".concat(y/g*100,"%'></div>"):"";return'\n      <div style="'.concat(b,"\n                  border: ").concat(v,"px solid ").concat(m,';\n                  box-sizing: border-box;\n                  margin: 0;\n                  overflow: hidden;\n                  padding: 0;\n                  position: relative;">\n        ').concat(w,"\n        ").concat(u,"\n      </div>\n    ")}},{key:"delegateEvents",value:function(){var n=this;_.default.Event.addMessageListener(function(e,t){return n._receiveMessage(e,t)})}},{key:"getIframe",value:function(){return document.getElementById(this.getIframeId())}},{key:"getIframeId",value:function(){return"spongecell-studio-".concat(this.iid)}},{key:"getMessageWindow",value:function(){return this.getIframe().contentWindow}},{key:"_sendMessage",value:function(e){_.default.Console.debug("Sending message back to Studio Ad %s: %o",this.iid,e)}}]),e}();_.default.StudioIframeTag=u}]);